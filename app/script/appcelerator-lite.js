/*!
 * This file is part of Appcelerator.
 *
 * Copyright 2006-2008 Appcelerator, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 **/
$$w=window;$$d=document;$$n=navigator;$$o=Object;if(typeof Prototype=="undefined"){var msg='Required javascript library "Prototype" not found';alert(msg);throw msg}if(typeof Effect=="undefined"){var msg='Required javascript library "Scriptaculous" not found';alert(msg);throw msg}if(Object.isUndefined(window["$sl"])){window.$sl=function(){return Selector.findChildElements(document,$A(arguments))}}if(Object.isUndefined(window["$el"])){window.$el=eval('window["$"]')}var Appcelerator={};Appcelerator.Util={};Appcelerator.Browser={};Appcelerator.Compiler={};Appcelerator.Config={};Appcelerator.Core={};Appcelerator.Localization={};Appcelerator.Validator={};Appcelerator.Decorator={};Appcelerator.Module={};Appcelerator.Widget={};$$AU=Appcelerator.Util;$$AC=Appcelerator.Compiler;$$AD=Appcelerator.Decorator;$$AL=Appcelerator.Localization;$$AM=Appcelerator.Module;$$AR=Appcelerator.Core;$$AV=Appcelerator.Validator;$$AF=Appcelerator.Config;$$AB=Appcelerator.Browser;Appcelerator.started=new Date;Appcelerator.loadTime=-1;Appcelerator.compileTime=-1;Appcelerator.Version={major:parseInt("2"),minor:parseInt("2"),revision:parseInt("2"),toString:function(){return this.major+"."+this.minor+"."+this.revision}};Appcelerator.LicenseType="Apache License Version 2.0 - see http://license.appcelerator.org";Appcelerator.Copyright="Copyright (c) 2006-2008 by Appcelerator, Inc. All Rights Reserved.";Appcelerator.LicenseMessage="Appcelerator is licensed under "+Appcelerator.LicenseType;Appcelerator.Parameters=$H({});var APPCELERATOR_DEBUG_LEVEL=Appcelerator.Parameters.get("debug");var APPCELERATOR_DEBUG=window.location.href.indexOf("debug=1")>0||APPCELERATOR_DEBUG_LEVEL=="1";var log4javascript_threshold=Appcelerator.Parameters.get("log4javascript");var Logger=Class.create();$$l=Logger;var _logAppender=null;var _logEnabled=true;Logger.toLevel=function(B,A){if(!B){return log4javascript.Level.INFO}B=B.toUpperCase();if(B==log4javascript.Level.INFO.toString()){return log4javascript.Level.INFO}else{if(B==log4javascript.Level.WARN.toString()){return log4javascript.Level.WARN}else{if(B==log4javascript.Level.ERROR.toString()){return log4javascript.Level.ERROR}else{if(B==log4javascript.Level.FATAL.toString()){return log4javascript.Level.FATAL}else{if(B==log4javascript.Level.TRACE.toString()){return log4javascript.Level.TRACE}else{if(B==log4javascript.Level.DEBUG.toString()){return log4javascript.Level.DEBUG}}}}}}return A.getLevel()};if(log4javascript_threshold&&log4javascript_threshold!=""){_log=log4javascript.getDefaultLogger();var Level=Logger.toLevel(log4javascript_threshold,_log);Logger.infoEnabled=log4javascript.Level.INFO.isGreaterOrEqual(Level);Logger.warnEnabled=log4javascript.Level.WARN.isGreaterOrEqual(Level);Logger.errorEnabled=log4javascript.Level.ERROR.isGreaterOrEqual(Level);Logger.fatalEnabled=log4javascript.Level.FATAL.isGreaterOrEqual(Level);Logger.traceEnabled=log4javascript.Level.TRACE.isGreaterOrEqual(Level);Logger.debugEnabled=log4javascript.Level.DEBUG.isGreaterOrEqual(Level)}else{_logAppender=true;_logEnabled=_logEnabled&&typeof (console)!="undefined";_log={console:function(A,C){try{if(console&&console[A]){console[A](C)}}catch(B){}},debug:function(A){if(APPCELERATOR_DEBUG){this.console("debug",A)}},info:function(A){this.console("info",A)},error:function(A){this.console("error",A)},warn:function(A){this.console("warn",A)},trace:function(A){if(APPCELERATOR_DEBUG){this.console("debug",A)}},fatal:function(A){this.console("error",A)}};Logger.infoEnabled=_logEnabled&&console.info;Logger.warnEnabled=_logEnabled&&console.warn;Logger.errorEnabled=_logEnabled&&console.error;Logger.fatalEnabled=_logEnabled&&console.error;Logger.traceEnabled=_logEnabled&&APPCELERATOR_DEBUG&&console.debug;Logger.debugEnabled=_logEnabled&&APPCELERATOR_DEBUG&&console.debug}Logger.info=function(A){if(Logger.infoEnabled){_log.info(A)}};Logger.warn=function(A){if(Logger.warnEnabled){_log.warn(A)}};Logger.debug=function(A){if(Logger.debugEnabled){_log.debug(A)}};Logger.error=function(A){if(Logger.errorEnabled){_log.error(A)}};Logger.trace=function(A){if(Logger.traceEnabled){_log.trace(A)}};Logger.fatal=function(A){if(Logger.fatalEnabled){_log.fatal(A)}};function $D(){if(Logger.debugEnabled){Logger.debug(Logger.buildMessage(arguments))}}function $E(){if(Logger.errorEnabled){Logger.error(Logger.buildMessage(arguments))}}Logger.buildMessage=function(B){B=$A(B);for(var C=0;C<B.length;C++){var A=B[C];if(A){if(B[C].constructor==Object){B[C]=Object.toJSON(B[C])}else{B[C]=B[C].toString()}}}return B.join("")};if(typeof err=="undefined"){var err={println:function(A){$E(A)}}}if(typeof out=="undefined"){var out={println:function(A){if (Logger.debugEnabled) $D(A)}}}Object.extend(String.prototype,{trim:function(){return this.replace(/^\s+/g,"").replace(/\s+$/g,"")},startsWith:function(A){if(A.length<=this.length){return this.substring(0,A.length)==A}return false},toFunction:function(dontPreProcess){var str=this.trim();if(str.length==0){return Prototype.emptyFunction}if(!dontPreProcess){if(str.match(/^function\(/)){str="return "+String.unescapeXML(this)+"()"}else{if(!str.match(/return/)){str="return "+String.unescapeXML(this)}else{if(str.match(/^return function/)){str=String.unescapeXML(this)+" ();"}}}}var code="var f = function(){ var args = $A(arguments); "+str+"}; f;";var func=eval(code);if(typeof (func)=="function"){return func}throw Error("code was not a function: "+this)},toFunctionString:function(B){var C=this.trim();var A="var functionString_"+B+" = function(){ var args = $A(arguments); "+C+"}; functionString_"+B+"();";return A}});String.escapeXML=function(A){if(!A){return null}return A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};String.unescapeXML=function(A){if(!A){return null}return A.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&amp;/g,"&").replace(/&quot;/g,'"')};(function(){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";String.prototype.encode64=function(){var D=this;var B="";var K,I,G;var J,H,F,E;var C=0;do{K=D.charCodeAt(C++);I=D.charCodeAt(C++);G=D.charCodeAt(C++);J=K>>2;H=((K&3)<<4)|(I>>4);F=((I&15)<<2)|(G>>6);E=G&63;if(isNaN(I)){F=E=64}else{if(isNaN(G)){E=64}}B=B+A.charAt(J)+A.charAt(H)+A.charAt(F)+A.charAt(E)}while(C<D.length);return B};String.prototype.decode64=function(){var B="";var K,I,G;var J,H,F,E;var C=0;var D=this;D=D.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{J=A.indexOf(D.charAt(C++));H=A.indexOf(D.charAt(C++));F=A.indexOf(D.charAt(C++));E=A.indexOf(D.charAt(C++));K=(J<<2)|(H>>4);I=((H&15)<<4)|(F>>2);G=((F&3)<<6)|E;B=B+String.fromCharCode(K);if(F!=64){B=B+String.fromCharCode(I)}if(E!=64){B=B+String.fromCharCode(G)}}while(C<D.length);return B}})();String.stringValue=function(A){if(A){return'"'+A.replace(/"/g,'\\"')+'"'}else{return null}};var absoluteUriRefRegex=/^[A-Z][0-9A-Z+\-\.]*:/i;var splitUriRefRegex=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/;var reMissingGroupSupport=(typeof "".match(/(a)?/)[1]!="string");Appcelerator.URI=Class.create();Appcelerator.URI.isAbsolute=function(A){return absoluteUriRefRegex.test(A)};Appcelerator.URI.splitUriRef=function(B){var G=B.match(splitUriRefRegex);G.shift();var A=G[1],D=G[3],F=G[4],E=G[6],H=G[8];if(!reMissingGroupSupport){var C;if(G[0]==""){A=C}if(G[2]==""){D=C}if(G[5]==""){E=C}if(G[7]==""){H=C}}G=[A,D,this.uriPathRemoveDotSegments(F),E,H];return G};Appcelerator.URI.unsplitUriRef=function(B){var A="";if(typeof B[0]!="undefined"){A+=B[0]+":"}if(typeof B[1]!="undefined"){A+="//"+B[1]}A+=B[2];if(typeof B[3]!="undefined"){A+="?"+B[3]}if(typeof B[4]!="undefined"){A+="#"+B[4]}return A};Appcelerator.URI.uriPathRemoveDotSegments=function(E){if(E=="."||E==".."){return""}while(E){if(E.substring(0,2)=="./"){E=E.substring(2)}else{if(E.substring(0,3)=="../"){E=E.substring(3)}else{if(E.substring(0,2)=="//"){E=E.substring(1)}else{break}}}}var D=false;if(E.charAt(0)=="/"){E=E.substring(1);if(E.charAt(0)=="/"){E=E.substring(1)}D=true}if(E.substring(E.length-2)=="/."){E=E.substring(0,E.length-1)}var B=E.split("/");var C=[];B=B.reverse();while(B.length){var A=B.pop();if(A==".."){if(C.length){C.pop()}else{if(!D){C.push(A)}}if(!B.length){C.push("")}}else{if(A!="."){C.push(A)}}}return(D&&"/"||"")+C.join("/")};Appcelerator.URI.absolutizeURI=function(Q,B){if(!B||!Appcelerator.URI.isAbsolute(B)){throw Error("baseUri '"+B+"' is not absolute")}if(Q==""||Q.charAt(0)=="#"){return B.split("#")[0]+Q}var R,F,H,O;var M=Appcelerator.URI.splitUriRef(Q);var L=M[0],A=M[1],E=M[2],K=M[3],N=M[4];if(typeof L!="undefined"){var R=L;var F=A;var H=Appcelerator.URI.uriPathRemoveDotSegments(E);var O=K}else{M=Appcelerator.URI.splitUriRef(B);var C=M[0],D=M[1],G=M[2],J=M[3],P=M[4];if(typeof A!="undefined"){F=A;H=Appcelerator.URI.uriPathRemoveDotSegments(E);O=K}else{if(!E){H=G;O=(typeof K!="undefined"&&K||J)}else{if(E.charAt(0)=="/"){H=Appcelerator.URI.uriPathRemoveDotSegments(E)}else{if(typeof D!="undefined"&&!G){H="/"+E}else{H=G.substring(0,G.lastIndexOf("/")+1)+E}H=Appcelerator.URI.uriPathRemoveDotSegments(H)}O=K}F=D}R=C}var I=Appcelerator.URI.unsplitUriRef([R,F,H,O,N]);return I};(function(){var B=null;var C=null;var K=top.window.document.location.href.lastIndexOf("/");if(K==top.window.document.location.href.length-1){C=top.window.document.location.href}else{C=top.window.document.location.href.substr(0,K);if(C.substring(C.length-1)!="/"){C=C+"/"}}$A(document.getElementsByTagName("script")).findAll(function(S){if(S.src&&S.src.match(/appcelerator(-debug){0,1}\.js(\?.*)?$/)){Appcelerator.jsFileLocation=Appcelerator.URI.absolutizeURI(S.src,C);return true}return false}).each(function(S){Appcelerator.Parameters=$H(S.src.toQueryParams())});$A(document.getElementsByTagName("base")).each(function(S){if(S.href){B=Appcelerator.URI.absolutizeURI(S.href,C);throw $break}});if(B){Appcelerator.DocumentPath=B}else{Appcelerator.DocumentPath=C}if(Appcelerator.jsFileLocation){if(!B){var I=Appcelerator.jsFileLocation.indexOf(":/");if(I>0){var H=Appcelerator.jsFileLocation.substring(I+3,Appcelerator.jsFileLocation.indexOf("/",I+4));var G=Appcelerator.DocumentPath.indexOf(":/");if(G>0){var M=Appcelerator.DocumentPath.substring(G+3,Appcelerator.DocumentPath.indexOf("/",G+4));if(M==H){Appcelerator.DocumentPath=Appcelerator.URI.absolutizeURI(Appcelerator.jsFileLocation.substring(0,Appcelerator.jsFileLocation.lastIndexOf("/"))+"/../",Appcelerator.DocumentPath)}}}else{if(Appcelerator.jsFileLocation.startsWith("/")||Appcelerator.jsFileLocation.startsWith(".")){var K=Appcelerator.jsFileLocation.lastIndexOf("/");if(K!=-1){Appcelerator.DocumentPath=Appcelerator.URI.absolutizeURI(Appcelerator.jsFileLocation.substring(0,K+1)+"../",Appcelerator.DocumentPath)}}}}}else{Appcelerator.ScriptNotFound=true}Appcelerator.ScriptPath=Appcelerator.DocumentPath+"javascripts/";Appcelerator.ImagePath=Appcelerator.DocumentPath+"images/";Appcelerator.StylePath=Appcelerator.DocumentPath+"stylesheets/";Appcelerator.ContentPath=Appcelerator.DocumentPath+"content/";Appcelerator.ModulePath=Appcelerator.DocumentPath+"widgets/";Appcelerator.WidgetPath=Appcelerator.DocumentPath+"widgets/";if(Appcelerator.jsFileLocation.indexOf("code.appcelerator.org")!=-1){var Q=(("https:"==document.location.protocol)?"https://s3.amazonaws.com/code.appcelerator.org":"http://code.appcelerator.org");Appcelerator.ModulePath=Q+Appcelerator.Version+"/widgets/";Appcelerator.WidgetPath=Appcelerator.ModulePath}Appcelerator.Parameters=Appcelerator.Parameters.merge(window.location.href.toQueryParams());if(Appcelerator.Parameters.get("instanceid")){Appcelerator.instanceid=Appcelerator.Parameters.get("instanceid")}else{Appcelerator.instanceid=Math.round(9999*Math.random())+"-"+Math.round(999*Math.random())}var N=navigator.userAgent.toLowerCase();$$AB.isPreCompiler=(N.indexOf("Appcelerator Compiler")>-1);$$AB.isOpera=(N.indexOf("opera")>-1);$$AB.isSafari=(N.indexOf("safari")>-1);$$AB.isSafari2=false;$$AB.isSafari3=false;$$AB.isIE=!!(window.ActiveXObject);$$AB.isIE6=false;$$AB.isIE7=false;$$AB.isIE8=false;if($$AB.isIE){var P=navigator.appVersion.split("MSIE");var E=parseFloat(P[1]);$$AB.isIE6=E>=6&&E<7;$$AB.isIE7=E>=7&&E<8;$$AB.isIE8=E>=8&&E<9}if($$AB.isSafari){var A=RegExp("( applewebkit/)([^ ]+)").exec(N);if(A[2]>400&&A[2]<500){$$AB.isSafari2=true}else{if(A[2]>500&&A[2]<600){$$AB.isSafari3=true}}}$$AB.isGecko=!$$AB.isSafari&&(N.indexOf("gecko")>-1);$$AB.isCamino=$$AB.isGecko&&N.indexOf("camino")>-1;$$AB.isFirefox=$$AB.isGecko&&(N.indexOf("firefox")>-1||$$AB.isCamino||N.indexOf("minefield")>-1||N.indexOf("granparadiso")>-1||N.indexOf("bonecho")>-1);$$AB.isIPhone=$$AB.isSafari&&N.indexOf("iphone")>-1;$$AB.isMozilla=$$AB.isGecko&&N.indexOf("mozilla/")>-1;$$AB.isWebkit=$$AB.isMozilla&&$$AB.isGecko&&N.indexOf("applewebkit")>0;$$AB.isSeamonkey=$$AB.isMozilla&&N.indexOf("seamonkey")>-1;$$AB.isPrism=$$AB.isMozilla&&N.indexOf("prism/")>0;$$AB.isIceweasel=$$AB.isMozilla&&N.indexOf("iceweasel")>0;$$AB.isEpiphany=$$AB.isMozilla&&N.indexOf("epiphany")>0;$$AB.isFluid=(window.fluid!=null);$$AB.isGears=(window.google&&google.gears)!=null;$$AB.isChromium=$$AB.isWebkit&&N.indexOf("chrome/")>0;$$AB.isWindows=false;$$AB.isMac=false;$$AB.isLinux=false;$$AB.isSunOS=false;var R=null;if(N.indexOf("windows")!=-1||N.indexOf("win32")!=-1){$$AB.isWindows=true;R="win32"}else{if(N.indexOf("macintosh")!=-1||N.indexOf("mac os x")!=-1){$$AB.isMac=true;R="mac"}else{if(N.indexOf("linux")!=-1){$$AB.isLinux=true;R="linux"}else{if(N.indexOf("sunos")!=-1){$$AB.isSunOS=true;R="sun"}}}}$$AB.isSilverlight=false;$$AB.silverlightVersion=0;Event.observe(window,"load",function(){var S=null;try{var U=null;if(window.ActiveXObject){U=new ActiveXObject("AgControl.AgControl")}else{if(navigator.plugins["Silverlight Plug-In"]){S=document.createElement("div");document.body.appendChild(S);S.innerHTML='<embed type="application/x-silverlight" src="data:," />';U=S.childNodes[0]}}if(U){if(U.isVersionSupported("2.0")){$$AB.silverlightVersion=2}else{if(U.isVersionSupported("1.0")){$$AB.silverlightVersion=1}}$$AB.isSilverlight=$$AB.silverlightVersion>0}}catch(T){}if(S){document.body.removeChild(S)}});$$AB.isFlash=false;$$AB.flashVersion=0;if($$AB.isIE){try{var L=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var F=L.GetVariable("$version");var K=F.indexOf(" ");var J=F.substring(K+1).split(",");var E=J[0];$$AB.flashVersion=parseInt(E);$$AB.isFlash=true}catch(O){}}else{var D=navigator.plugins&&navigator.plugins.length;if(D){D=navigator.plugins["Shockwave Flash"]||navigator.plugins["Shockwave Flash 2.0"];if(D){if(D.description){var F=D.description;$$AB.flashVersion=parseInt(F.charAt(F.indexOf(".")-1));$$AB.isFlash=true}else{$$AB.flashVersion=7;$$AB.isFlash=true}}}else{D=(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0;if(D&&D.description){$$AB.isFlash=true;$$AB.flashVersion=parseInt(D.description.substring(D.description.indexOf(".")-1))}}}$$AB.isBrowserSupported=false;$w("Firefox IE6 IE7 IE8 Safari Camino Opera Webkit Seamonkey Prism Iceweasel Epiphany").each(function(S){if(Appcelerator.Browser["is"+S]===true){$$AB.isBrowserSupported=true;Event.observe(window,"load",function(){if(R){Element.addClassName(document.body,R)}Element.addClassName(document.body,S.toLowerCase());if($$AB.isMozilla){Element.addClassName(document.body,"mozilla")}if($$AB.isIPhone){Element.addClassName(document.body,"iphone");Element.addClassName(document.body,"webkit");Element.addClassName(document.body,"safari")}if($$AB.isChromium){Element.addClassName(document.body,"chromium")}if($$AB.isSafari){Element.addClassName(document.body,"webkit");if($$AB.isSafari2){Element.addClassName(document.body,"safari2")}else{if($$AB.isSafari3){Element.addClassName(document.body,"safari3")}}}else{if($$AB.isGecko){Element.addClassName(document.body,"gecko")}}if($$AB.isFirefox){if(N.indexOf("firefox/3")>0){Element.addClassName(document.body,"firefox3")}else{if(N.indexOf("firefox/2")>0){Element.addClassName(document.body,"firefox2")}}}else{if($$AB.isIE){Element.addClassName(document.body,"msie")}}if($$AB.isIPhone){Element.addClassName(document.body,"width_narrow");Element.addClassName(document.body,"height_short")}else{function T(){var W=Element.classNames(document.body);if(W){W._each(function(X){if(X.startsWith("height_")||X.startsWith("width_")){W.remove(X)}})}var V=document.documentElement.clientWidth||window.screen.width;var U=document.documentElement.clientHeight||window.screen.height;if(U<480){Element.addClassName(document.body,"height_tiny")}else{if(U>=480&&U<=768){Element.addClassName(document.body,"height_small")}else{if(U>768&&U<1100){Element.addClassName(document.body,"height_medium")}else{if(U>=1100){Element.addClassName(document.body,"height_large")}}}}if(V<=640){Element.addClassName(document.body,"width_tiny")}else{if(V>640&&V<=1024){Element.addClassName(document.body,"width_small")}else{if(V>1024&&V<=1280){Element.addClassName(document.body,"width_medium")}else{if(V>1280){Element.addClassName(document.body,"width_large")}}}}}Event.observe(window,"resize",T);T()}});throw $break}});$$AB.unsupportedBrowserMessage="<h1>Browser Upgrade Required</h1><p>We're sorry, but your browser version is not supported by this application.</p><p>This application requires a modern browser, such as <a href='http://www.getfirefox.com'>Firefox 2.0+</a>, <a href='http://www.apple.com/safari/'>Safari 2.0+</a>, <a href='http://www.microsoft.com/windows/products/winfamily/ie/default.mspx'>Internet Explorer 6.0+</a> or <a href='http://www.opera.com'>Opera 9.0+</a>.</p><p>Your browser reported: <font face='courier'>"+N+"</font></p>";$$AB.upgradePath=Appcelerator.DocumentPath+"upgrade.html"})();$$AR.usedModules={};$$AR.modules=[];$$AR.loadedFiles={};$$AR.fetching={};$$AR.widgets={};$$AR.widgets_css={};$$AR.widgets_js={};$$AR.moduleLoaderCallbacks={};$$AR.script_count=0;$$AR.scriptWithDependenciesQueue=[];$$AR.scriptWithDependenciesCallback;$$AR.HeadElement=document.getElementsByTagName("head")[0];$$AR.requireCommonCSS=function(C,D,A){var B=$$AR.getModuleCommonDirectory()+"/css/";$$AR.requireMultiple(function(F,E){$$AR.remoteLoadCSS(F,D,A)},B,C)};$$AR.requireCommonJS=function(C,D,A){var B=$$AR.getModuleCommonDirectory()+"/js/";$$AR.requireMultiple(function(F,E){$$AR.remoteLoadScript(F,D,A)},B,C)};$$AR.requireMultiple=function(D,H,A,B,E){if(Object.isUndefined(A)){if(Object.isFunction(B)){B()}return }if(Object.isArray(A)){A=A.compact();var F=0;var G=function(){F++;if(F==A.length){if(Object.isFunction(B)){B()}}else{$$AR.requireMultiple(D,H,A[F],G,E)}};$$AR.requireMultiple(D,H,A[F],G,E)}else{var I=H+A;var C=$$AR.loadedFiles[I];if(C){if(Object.isFunction(B)){B()}}else{D(I,function(){$$AR.loadedFiles[I]=true;if(Object.isFunction(B)){B()}})}}};$$AR.remoteLoadScript=function(C,B,A){$$AR.remoteLoad("script","text/javascript",C,B,A)};$$AR.queueRemoteLoadScriptWithDependencies=function(B,A){$$AR.scriptWithDependenciesQueue.push({"path":B,"onload":A});$$AR.remoteLoadScriptWithDependencies()};$$AR.remoteLoadScriptWithDependencies=function(){if(0<$$AR.scriptWithDependenciesQueue.length){var A=$$AR.scriptWithDependenciesQueue[0];$$AR.remoteLoad("script","text/javascript",A.path,null);$$AR.scriptWithDependenciesCallback=function(){A.onload();$$AR.scriptWithDependenciesQueue.shift();$$AR.remoteLoadScriptWithDependencies()}}};$$AR.remoteLoadCSS=function(C,B,A){$$AR.remoteLoad("link","text/css",C,B,A)};$$AR.remoteLoad=function(I,E,H,B,F){if (Logger.debugEnabled) $D("remoteLoad "+I+",type="+E+",path="+H+",onload="+B+",onerror="+F);H=Appcelerator.URI.absolutizeURI(H,Appcelerator.DocumentPath);var D=$$AR.fetching[H];if(D){if(B){D.push(B)}return }if(B){$$AR.fetching[H]=[B]}var C=document.createElement(I);C.setAttribute("type",E);switch(I){case"script":C.setAttribute("src",H);break;case"link":C.setAttribute("href",H);C.setAttribute("rel","stylesheet");break}var A=null;var G=function(){if (Logger.debugEnabled) $D("loaded "+H);if(A){clearTimeout(A)}var J=$$AR.fetching[H];if(J){for(var L=0;L<J.length;L++){try{J[L]()}catch(K){}}delete $$AR.fetching[H]}};if(I=="script"){if($$AB.isSafari2){G.delay(1.5)}else{(function(){var J=false;C.onload=G;if(F){if(!J){A=setTimeout(F,3500)}C.onerror=function(){if(A){clearTimeout(A)}F()}}C.onreadystatechange=function(){switch(this.readyState){case"loaded":case"complete":break;default:return }if(J){return }J=true;this.onreadystatechange=null;G()}})()}}else{G.defer()}$$AR.HeadElement.appendChild(C)};$$AR.loadJS=function(D,C,B,A){$$AR.remoteLoadScript(D,C,A)};$$AR.getModuleCommonDirectory=function(){return Appcelerator.ModulePath+"common"};$$AR.loadModuleCommonCSS=function(A,B){$$AR.loadModuleCSS(A,B,$$AR.getModuleCommonDirectory()+"/css")};$$AR.loadModuleCSS=function(B,F,K){B=$$AR.getModuleNameFromTag(B);var E=$$AR.modules[B];if(E){throw"module already loaded when loadModuleCSS is called. Call loadModuleCSS *before* you call registerModule for "+B+" and css: "+F}var J=K?K+"/"+F:Appcelerator.ModulePath+B+"/css/"+F;var E=$$AR.widgets_css[J];if(!E){var I=document.createElement("link");I.setAttribute("type","text/css");I.setAttribute("rel","stylesheet");I.setAttribute("href",J);$$AC.setElementId(I,"css_"+B);var C=null;for(var H=0;H<$$AR.HeadElement.childNodes.length;H++){var D=$$AR.HeadElement.childNodes[H];if(D.nodeType==1&&D.nodeName=="LINK"){var A=D.getAttribute("href");var G=D.getAttribute("type");if(A&&G&&G.indexOf("css")>0){C=D;break}}}if(C){$$AR.HeadElement.insertBefore(I,C)}else{$$AR.HeadElement.appendChild(I)}$$AR.widgets_css[J]=B}};$$AR.getModuleNameFromTag=function(A){return A.replace(":","_")};$$AR.requireModule=function(B,F,A){var B=$$AR.getModuleNameFromTag(B);var C=$$AR.modules[B];if(C){F();return }var D=$$AR.moduleLoaderCallbacks[B];if(!D){D=[];$$AR.moduleLoaderCallbacks[B]=D;D.push(F)}else{D.push(F);return }var E=Appcelerator.ModulePath+B+"/"+B+".js";$$AR.loadJS(E)};$$AR.requireWidget=$$AR.requireModule;$$AR.registerModule=function(A,B,F){A=$$AR.getModuleNameFromTag(A);$$AR.modules[A]=B;if(B.isWidget){var D=B.getWidgetName().toLowerCase();if($$AR.widgets[D]){throw"duplicate widget name detected: "+D}$$AR.widgets[D]=B}if(B.onUnload){window.observe(window,"unload",B.onUnload)}if(typeof (B.setPath)=="function"){var E=Appcelerator.ModulePath+A+"/";B.setPath(E)}var E=Appcelerator.ModulePath+A+"/"+A+".js";var C=($$AR.fetching[E]||[]).concat($$AR.moduleLoaderCallbacks[A]||[]);if(C){for(var G=0;G<C.length;G++){C[G]()}}delete $$AR.moduleLoaderCallbacks[A];delete $$AR.fetching[E]};if($$AB.isIE){$$AR.registerModuleWithJSInIE=function(A,C,B,H,F){var D=B[H];A=$$AR.getModuleNameFromTag(A);var I=F?F+"/"+D:Appcelerator.ModulePath+A+"/js/"+D;var G=document.createElement("script");G.setAttribute("type","text/javascript");G.setAttribute("src",I);G.onerror=function(J){$E("Error loading "+I+"\n Exception: "+Object.getExceptionDetail(J))};var E=false;G.onreadystatechange=function(){switch(this.readyState){case"loaded":case"complete":break;default:return }if(E){return }E=true;this.onreadystatechange=null;H=H+1;if(H==B.length){$$AR.registerModule(A,C)}else{$$AR.registerModuleWithJSInIE(A,C,B,H,F)}};$$AR.HeadElement.appendChild(G)}}$$AR.registerWidget=$$AR.registerModule;$$AR.registerModuleWithCommonJS=function(A,B,C){$$AR.registerModuleWithJS(A,B,C,$$AR.getModuleCommonDirectory()+"/js")};$$AR.registerWidgetWithCommonJS=$$AR.registerModuleWithCommonJS;$$AR.registerModuleWithJS=function(B,C,G,A){B=$$AR.getModuleNameFromTag(B);if($$AB.isIE){$$AR.registerModuleWithJSInIE(B,C,G,0,A);return }var F={count:G.length};var E=function(){F.count--;if(F.count==0){$$AR.registerModule(B,C)}};var D=function(K){var J=G[K];var L=!Object.isUndefined(A)?(A+"/"+J):Appcelerator.ModulePath+B+"/js/"+J;var H=document.createElement("script");H.setAttribute("type","text/javascript");H.setAttribute("src",L);H.onerror=function(M){$E("Error loading "+L+"\n Exception: "+Object.getExceptionDetail(M))};if($$AB.isSafari2){E.delay(2)}else{var I=false;if(!$$AB.isOpera){H.onload=E}H.onreadystatechange=function(){switch(this.readyState){case"loaded":case"complete":break;default:return }if(I){return }I=true;this.onreadystatechange=null;E.defer()}}$$AR.HeadElement.appendChild(H);if(K+1<G.length){D.delay(0,K+1)}};D(0)};$$AR.registerWidgetWithJS=$$AR.registerModuleWithJS;$$AR.getLoadedModulesAndAttributes=function(){return $H(Appcelerator.Module).map(function(A){return[A[1].getWidgetName(),A[1].getAttributes().pluck("name")]})};$$AR.onloaders=[];$$AR.onunloaders=[];$$AR.onload=function(A,B){if(B){$$AR.onloaders.unshift(A)}else{$$AR.onloaders.push(A)}};$$AR.onunload=function(A){$$AR.onunloaders.push(A)};$$AR.onloadInvoker=function(){for(var A=0;A<$$AR.onloaders.length;A++){$$AR.onloaders[A]()}$$AR.onloaders=null;Logger.info("Appcelerator v"+Appcelerator.Version+" ... loaded in "+(new Date().getTime()-Appcelerator.started.getTime())+" ms");Logger.info(Appcelerator.Copyright);Logger.info(Appcelerator.LicenseMessage);Logger.info("More App. Less Code.")};$$AR.onunloadInvoker=function(){for(var A=0;A<$$AR.onunloaders.length;A++){$$AR.onunloaders[A]()}$$AR.onunloaders=null};Event.observe(window,"load",$$AR.onloadInvoker);Event.observe(window,"unload",$$AR.onunloadInvoker);$$AR.onload(function(){Appcelerator.TEMPLATE_VARS={rootPath:Appcelerator.DocumentPath,scriptPath:Appcelerator.ScriptPath,imagePath:Appcelerator.ImagePath,cssPath:Appcelerator.StylePath,contentPath:Appcelerator.ContentPath,modulePath:Appcelerator.ModulePath,instanceid:Appcelerator.instanceid,version:Appcelerator.Version,codeServer:"http://code.appcelerator.org/"};if($$AB.autocheckBrowserSupport&&!$$AB.isBrowserSupported){document.body.style.display="none";try{new Ajax.Request($$AB.upgradePath,{asynchronous:true,method:"get",onFailure:function(B){document.open();document.write("<html><head><meta http-equiv='pragma' content='no-cache'></head><body>"+$$AB.unsupportedBrowserMessage+"</body></html>");document.close();document.body.style.display=""},onSuccess:function(B){document.open();document.write(B.responseText);document.close();document.body.style.display=""}})}catch(A){document.open();document.write("<html><head><meta http-equiv='pragma' content='no-cache'></head><body>"+$$AB.unsupportedBrowserMessage+"</body></html>");document.close();document.body.style.display=""}}$$AR.old_document_write=document.write;document.write=function(D){var C=/src=('([^']*)'|"([^"]*)")/gm;C.lastIndex=0;var B=C.exec(D);if(B){B=B[2]||B[3];if(B=="//:"){$$AR.old_document_write(D)}else{$$AR.script_count++;$$AR.remoteLoadScript(B,function(){$$AR.script_count--;if(0==$$AR.script_count){$$AR.scriptWithDependenciesCallback()}})}}}});Object.setNestedProperty=function(E,G,D){var A=G.split(".");var F=E;var C=null;var B=null;A.each(function(H){B=H;if(F[H]){C=F;F=F[H]}else{C=F;F=F[H]={}}});C[B]=D;return E};Object.getNestedProperty=function(C,E,B){if(C!=null&&E!=null){var A=E.split(".");if(A.length!=-1){var D=C;A.each(function(F){if(null!=D[F]){D=D[F]}else{D=null;throw $break}});return D==null?B:D}else{return C[E]==null?B:C[E]}}return B};Object.copy=function(E,B){if(B){for(var D in B){var C=B[D];var A=typeof (C);switch(A){case"string":case"number":case"boolean":case"object":case"array":E[D]=C;break}}}return E};Object.evalWithinScope=function(code,scope){if(code=="{}"){return{}}var expr=code.gsub('"','\\"');var func=eval('var f = function(){return eval("('+expr+')")}; f;');return func.call(scope)};Object.getExceptionDetail=function(D,C){if(!D){return"No Exception Object"}if(typeof (D)=="string"){return"message: "+D}if($$AB.isIE){return"message: "+D.message+", location: "+D.location||D.number||0}else{var B=0;try{B=D.lineNumber||0}catch(A){}return"message: "+(D.message||D)+", location: "+B+", stack: "+(C?"<pre>":"")+(D.stack||"not specified")+(C?"</pre>":"")}};Object.isBoolean=function(A){return typeof (A)=="boolean"};Object.mirror=function(B){var A=(function(){});A.prototype=B;return new A()};Object.cloneWithout=function(C,B){var D=Object.clone(C);for(var A in B){D[A]=undefined}return D};$$AU.makeSet=function(D){var C={};var B=D.length;for(var A=0;A<B;A++){C[D[A]]=true}return C};$$AU.DateTime={ONE_SECOND:1000,ONE_MINUTE:60000,ONE_HOUR:3600000,ONE_DAY:86400000,ONE_WEEK:604800000,ONE_MONTH:18748800000,ONE_YEAR:31536000000,timeFormat:function(C){var F="";var D=0;for(var G=0,A=C.length;G<A;G++){var B=C.charAt(G);switch(B){case",":case" ":F="";break;case"m":if(G+1<A){var E=C.charAt(G+1);if(E=="s"){D+=parseInt(F);G++}}else{D+=parseInt(F)*this.ONE_MINUTE}F="";break;case"s":D+=parseInt(F)*this.ONE_SECOND;F="";break;case"h":D+=parseInt(F)*this.ONE_HOUR;F="";break;case"d":D+=parseInt(F)*this.ONE_DAY;F="";break;case"w":D+=parseInt(F)*this.ONE_WEEK;F="";break;case"y":D+=parseInt(F)*this.ONE_YEAR;F="";break;default:F+=B;break}}if(F.length>0){D+=parseInt(F)}return D},getDurationNoFormat:function(E,B){B=B||new Date();var D=B.getTime()-E.getTime();var A=0;var C=0;var F=0;if(D>this.ONE_HOUR){A=Math.round(D/this.ONE_HOUR);D=D-(this.ONE_HOUR*A)}if(D==this.ONE_HOUR){A=1;D=D-this.ONE_HOUR}if(D>this.ONE_MINUTE){C=Math.round(D/this.ONE_MINUTE);D=D-(this.ONE_MINUTE*C)}if(D==this.ONE_MINUTE){C=1;D=D-this.ONE_MINUTE}if(D>this.ONE_SECOND){F=Math.round(D/this.ONE_SECOND);D=D-(this.ONE_SECOND*F)}if(D==this.ONE_SECOND){F=1}if(F<10){F="0"+F}if(A>0){return A+":"+C+":"+F}if(C>0){return C+":"+F}if(F>0){return"0:"+F}else{return":00"}},getDuration:function(C,A){A=A||new Date();var B=A.getTime()-C.getTime();return this.toDuration(B)},toDuration:function(B){B=B||0;if(B<0){return"0"}else{if(B<this.ONE_SECOND){var A=Math.round(B/this.ONE_SECOND);return A+" ms"}else{if(B==this.ONE_SECOND){return"1 second"}else{if(B<this.ONE_MINUTE){var A=Math.round(B/this.ONE_SECOND);return A+" second"+(A>1?"s":"")}}}}if(B==this.ONE_MINUTE){return"1 minute"}else{if(B==this.ONE_HOUR){return"1 hour"}else{if(B<this.ONE_HOUR){var A=Math.round(B/this.ONE_MINUTE);return A+" minute"+(A>1?"s":"")}else{if(B>this.ONE_HOUR&&B<this.ONE_DAY){var A=Math.round(B/this.ONE_HOUR);return A+" hour"+(A>1?"s":"")}else{if(B==this.ONE_DAY){return"1 day"}else{if(B>this.ONE_DAY&&B<this.ONE_YEAR){if(B>this.ONE_MONTH){var A=Math.round(B/this.ONE_MONTH);return A+" month"+(A>1?"s":"")}else{if(B>this.ONE_WEEK){var A=Math.round(B/this.ONE_WEEK);return A+" week"+(A>1?"s":"")}else{var A=Math.round(B/this.ONE_DAY);return A+" day"+(A>1?"s":"")}}}else{if(B==this.ONE_YEAR){return"1 year"}else{var A=Math.round(B/this.ONE_DAY);return A+" years"}}}}}}}},friendlyDiff:function(D,A,B){if(!D){return null}A=A||new Date();var E=A.getTime()-D.getTime();if(E<=this.ONE_MINUTE){if(B){return"a few secs ago"}return"a few seconds ago"}else{if(E<this.ONE_HOUR){var C=Math.round(E/this.ONE_MINUTE);if(C<10){if(B){return"a few mins ago"}return"a few minutes ago"}if(B){return C+" min"+(C>1?"s":"")+" ago"}return C+" minute"+(C>1?"s":"")+" ago"}else{if(E==this.ONE_HOUR){return"an hour ago"}else{if(E<this.ONE_DAY){var C=Math.round(E/this.ONE_HOUR);return C+" hour"+(C>1?"s":"")+" ago"}else{if(E==this.ONE_DAY){return"yesterday"}else{if(E>this.ONE_DAY&&E<this.ONE_YEAR){if(E>this.ONE_MONTH){var C=Math.round(E/this.ONE_MONTH);return C+" month"+(C>1?"s":"")+" ago"}else{if(E>this.ONE_WEEK){var C=Math.round(E/this.ONE_WEEK);return C+" week"+(C>1?"s":"")+" ago"}else{var C=Math.round(E/this.ONE_DAY);if(C==1){return"yesterday"}return C+" day"+(C>1?"s":"")+" ago"}}}else{if(E>this.ONE_YEAR){if(B){return">1 year ago"}return"more than a year ago"}}}}}}}return E},getMonthIntValue:function(A){switch(A){case"Jan":return 0;case"Feb":return 1;case"Mar":return 2;case"Apr":return 3;case"May":return 4;case"Jun":return 5;case"Jul":return 6;case"Aug":return 7;case"Sep":return 8;case"Oct":return 9;case"Nov":return 10;case"Dec":return 11}},intval:function(A){if(A){if(A.charAt(0)=="0"){A=A.substring(1)}return parseInt(A)}return 0},getFriendlyDate:function(B,C){var D=Object.extend({today:"",yesterday:"",past:"",lowercase:false},C||"");B=B||new Date();var A=typeof (B)=="string"?$$AU.DateTime.parseRFC2822Date(B):B;if($$AU.DateTime.isToday(A)){return D["today"]+$$AU.DateTime.get12HourTime(A)}else{if($$AU.DateTime.isYesterday(A)){return D["yesterday"]+(D["lowercase"]?"yesterday":"Yesterday")}}return D["past"]+A.getDay()+" "+$$AU.DateTime.getShortMonthName(A)},isToday:function(B){var A=new Date();return(A.getFullYear()==B.getFullYear()&&A.getMonth()==B.getMonth()&&A.getDay()==B.getDay())},isYesterday:function(B){var A=new Date();return(A.getFullYear()==B.getFullYear()&&A.getMonth()==B.getMonth()&&A.getDay()-1==B.getDay())},getShortMonthName:function(A){var B=A.getMonth();switch(B){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec"}},get12HourTime:function(F,I,E){var B=F;if(B==null){B=new Date()}var D=B.getHours();var G=(D==0)?12:D;var H="AM";if(D>=12){G=(D==12)?12:(D-12);H="PM"}var C=B.getMinutes();var J=B.getSeconds();G+=":"+(C<10?"0":"")+C;if(I){G+=":"+(J<10?"0":"")+J}if(E){var A=B.getMilliseconds();G+="."+(A<10?"0":"")+A}G+=" "+H;return G},getShortDateTime:function(B){if(B&&typeof (B)=="string"){B=this.parseJavaDate(B)}var A=B||new Date();return this.getShortMonthName(A)+" "+A.getDate()+" "+this.get12HourTime(A)},parseInt:function(A){if(A){if(A.charAt(0)=="0"){return this.parseInt(A.substring(1))}return parseInt(A)}return 0},parseJavaDate:function(G){if(!G||G==""){return null}var H=parseInt(G.substring(0,4));var F=this.parseInt(G.substring(5,7))-1;var I=this.parseInt(G.substring(8,10));var D=this.parseInt(G.substring(11,13));var C=this.parseInt(G.substring(14,16));var A=this.parseInt(G.substring(17,19));var E=this.parseInt(G.substring(20));var B=new Date();B.setFullYear(H);B.setMonth(F);B.setDate(I);B.setHours(D);B.setMinutes(C);B.setSeconds(A);B.setMilliseconds(E);return B},parseRFC2822Date:function(G){var H=G.split(" ");var J=this.intval(H[1]);var F=H[2];var I=H[3];var L=H[4].split(":");var C=this.intval(L[0]);var D=this.intval(L[1]);var E=this.intval(L[2]);var B=this.intval(H[5].substring(0,3));var A=0;if(B<0){A=C-(B)}else{A=C+(B)}if(A>23){A=A-24;J+=1}else{if(A<0){A=24-A;J-=1}}var K=new Date();K.setUTCDate(J);K.setUTCMonth(this.getMonthIntValue(F));K.setUTCFullYear(I);K.setUTCHours(A,D,E);return K},getTimezoneOffset:function(){var D=new Date();var F=D.getTimezoneOffset();var A=Math.floor(F/60);var E=Math.abs(F%60);var C=new String();C+=(A>0)?"-":"+";var B=Math.abs(A);C+=(B<10)?"0"+B:B;C+=((E==0)?"00":E);return C},parse:function(A,B){return Jel.Date.parse(A,B)},format:function(A,B){return Jel.Date.format(A,B)}};Appcelerator.ServerConfig={};$$AU.ServerConfig=Class.create();$$AU.ServerConfig.listeners=[];$$AU.ServerConfig.addConfigListener=function(A){if($$AU.ServerConfig.listeners){$$AU.ServerConfig.listeners.push(A)}else{A()}};$$AU.ServerConfig.disableRemoteConfig=false;$$AU.ServerConfig.set=function(A){Appcelerator.ServerConfig=A;$$AU.ServerConfig.loadComplete()};$$AU.ServerConfig.load=function(){if(window.location.href.indexOf("file:/")==-1){if($$AU.ServerConfig.disableRemoteConfig){return }var A=Appcelerator.DocumentPath+"appcelerator.xml";new Ajax.Request(A,{asynchronous:true,method:"get",onSuccess:function(E){var F=E.responseXML.documentElement;var C=F.childNodes;for(var H=0;H<C.length;H++){var B=C[H];if(B.nodeType==$$AU.Dom.ELEMENT_NODE){var G=B.nodeName.toLowerCase();var D={};var J=$$AU.Dom.getText(B);var I=new Template(J,/(^|.|\r|\n)(@\{(.*?)\})/);D.path=I.evaluate(Appcelerator.TEMPLATE_VARS);D.value=D.path;$$AU.Dom.eachAttribute(B,function(L,K){D[L]=K},["id"],true);Appcelerator.ServerConfig[G]=D}}$$AU.ServerConfig.loadComplete()},onFailure:function(B){$E("Failed to load configuration from "+A);$$AU.ServerConfig.loadComplete()}})}else{$$AU.ServerConfig.loadComplete()}};$$AU.ServerConfig.loadComplete=function(){$$AU.ServerConfig.listeners.each(function(A){try{A()}catch(B){$E("error calling server config listener = "+A+", Exception = "+Object.getExceptionDetail(B))}});$$AU.ServerConfig.listeners=null};$$AU.ServerConfig.addConfigListener(function(){$$AU.ServerConfig.setValues("cookie_check",true);$$AU.ServerConfig.setValues("browser_check",true);$$AU.ServerConfig.setValues("hide_body",false);$$AU.ServerConfig.setValues("perfmon",false);$$AU.ServerConfig.setValues("usegears",true);$$AU.ServerConfig.setValues("report_stats",true);$$AU.ServerConfig.setValues("track_stats",true);if(window.AppceleratorConfig){for(var A in window.AppceleratorConfig){var B=window.AppceleratorConfig[A];$$AU.ServerConfig.setValues(A,B)}}$$AB.autocheckBrowserSupport=Appcelerator.Config["browser_check"];$$AB.autoReportStats=Appcelerator.Config["report_stats"]});$$AU.ServerConfig.setValues=function(A,B){if(Appcelerator.ServerConfig[A]){Appcelerator.Config[A]=Appcelerator.ServerConfig[A].value}else{if(Appcelerator.Parameters.get(A)){var C=Appcelerator.Parameters.get(A);switch(C){case"true":Appcelerator.Config[A]=true;break;case"false":Appcelerator.Config[A]=false;break;default:Appcelerator.Config[A]=Appcelerator.Parameters.get(A)}}else{Appcelerator.Config[A]=B}}};$$AR.onload($$AU.ServerConfig.load);$$AC.compileOnLoad=true;$$AC.isInterpretiveMode=true;$$AC.isCompiledMode=false;$$AC.POSITION_REMOVE=-1;$$AC.POSITION_REPLACE=0;$$AC.POSITION_TOP=1;$$AC.POSITION_BOTTOM=2;$$AC.POSITION_BEFORE=3;$$AC.POSITION_AFTER=4;$$AC.POSITION_BODY_TOP=5;$$AC.POSITION_BODY_BOTTOM=6;$$AC.POSITION_HEAD_TOP=7;$$AC.POSITION_HEAD_BOTTOM=8;$$AC.nextId=0;$$AC.functionId=1;$$AC.getAndEnsureId=function(A){if(!A.id){A.id=$$AC.generateId()}if(!A._added_to_cache){$$AC.setElementId(A,A.id)}return A.id};$$AC.setElementId=function(A,B){$$AC.removeElementId(A.id);A.id=B;A._added_to_cache=true;window["$"+B]=A;return A};$$AC.removeElementId=function(C){if(C){var A=window["$"+C];if(A){try{delete window["$"+C]}catch(B){window["$"+C]=0}if(A._added_to_cache){try{delete A._added_to_cache}catch(B){A._added_to_cache=0}}return true}}return false};(function(){if(Object.isFunction(window["$"])){try{delete window["$"]}catch(A){}}})();function $el(B){if(arguments.length>1){var A=$A(arguments);return A.collect(function(D){return $el(D)})}if(Object.isString(B)){if(B==""){return null}var C=B;B=window["$"+C];if(!B){B=document.getElementById(C)}}return B?Element.extend(B):null}$$AC.generateId=function(){return"app_"+($$AC.nextId++)};$$AC.attributeProcessors={"*":[]};$$AC.registerAttributeProcessor=function(C,D,E){if(typeof C=="string"){C=C||"*";var B=$$AC.attributeProcessors[C];if(!B){B=[];$$AC.attributeProcessors[C]=B}B.unshift([D,E])}else{for(var G=0,A=C.length;G<A;G++){var F=C[G]||"*";var B=$$AC.attributeProcessors[F];if(!B){B=[];$$AC.attributeProcessors[F]=B}B.unshift([D,E])}}};$$AC.forwardToAttributeListener=function(C,G){for(var B=0;B<G.length;B++){var D=G[B];var A=D[0];var F=D[1];var E=C.getAttribute(A);if(E){F.handle(C,A,E)}}};$$AC.delegateToAttributeListeners=function(A){var B=$$AC.getTagname(A);var C=$$AC.attributeProcessors[B];if(C&&C.length>0){$$AC.forwardToAttributeListener(A,C,B)}C=$$AC.attributeProcessors["*"];if(C&&C.length>0){$$AC.forwardToAttributeListener(A,C,"*")}};$$AC.containerProcessors=[];$$AC.addContainerProcessor=function(A){$$AC.containerProcessors.push(A)};$$AC.removeContainerProcessor=function(A){$$AC.containerProcessors.remove(A)};$$AC.delegateToContainerProcessors=function(C,B){if($$AC.containerProcessors.length>0){for(var F=0,A=$$AC.containerProcessors.length;F<A;F++){var D=$$AC.containerProcessors[F];var E=D.process(C,B);if(E){B=E}}}return B};$$AC.retainedWidgetAttributes=["name"];$$AC.addContainerProcessor({process:function(F,B){var D=$$AC.retainedWidgetAttributes;for(var E=0;E<D.length;E++){var A=D[E];var C=F.getAttribute(A);if(C){B.setAttribute(A,C)}}}});$$AC.checkLoadState=function(A){var B=A.state;if(B&&B.pending==0&&B.scanned){if(typeof (B.onfinish)=="function"){B.onfinish(code)}if(typeof (B.onafterfinish)=="function"){B.onafterfinish()}$$AC.removeState(A);return true}return false};$$AC.dynamicCompile=function(B,C,A){if(!B){return }if (Logger.debugEnabled) $D("dynamic compile called for ",B," - id=",B.id);$$AC.doCompile(B,A)};$$AC.doCompile=function(B,A){var C=$$AC.createCompilerState();$$AC.compileElement(B,C,A);C.scanned=true;$$AC.checkLoadState(B)};$$AC.removeState=function(A){if(A.state){try{delete A.state}catch(B){A.state=null}}};$$AC.createCompilerState=function(){return{pending:0,scanned:false}};$$AC.onbeforecompileListeners=[];$$AC.oncompileListeners=[];$$AC.beforeDocumentCompile=function(A){$$AC.onbeforecompileListeners.push(A)};$$AC.afterDocumentCompile=function(A){$$AC.oncompileListeners.push(A)};$$AC.compileDocument=function(B){if (Logger.debugEnabled) $D("compiled document called");if($$AC.onbeforecompileListeners){for(var E=0;E<$$AC.onbeforecompileListeners.length;E++){$$AC.onbeforecompileListeners[E]()}delete $$AC.onbeforecompileListeners}var A=document.body;var D=A.style.visibility||"visible";if(Appcelerator.Config["hide_body"]){A.style.visibility="hidden"}if(!document.body.id){$$AC.setElementId(document.body,"app_body")}var C=$$AC.createCompilerState();A.state=C;$$AC.compileElement(A,C);C.scanned=true;C.onafterfinish=function(F){(function(){if(typeof (B)=="function"){B()}if(D!=A.style.visibility){A.style.visibility=D}$$AC.compileDocumentOnFinish()}).defer()};$$AC.checkLoadState(A)};$$AC.compileDocumentOnFinish=function(){if($$AC.oncompileListeners){for(var A=0;A<$$AC.oncompileListeners.length;A++){$$AC.oncompileListeners[A]()}delete $$AC.oncompileListeners}$MQ("l:app.compiled")};$$AC.compileInterceptors=[];$$AC.addCompilationInterceptor=function(A){$$AC.compileInterceptors.push(A)};$$AC.onPrecompile=function(B){if($$AC.compileInterceptors.length>0){for(var D=0,A=$$AC.compileInterceptors.length;D<A;D++){var C=$$AC.compileInterceptors[D];if(C.onPrecompile(B)==false){return false}}}return true};$$AC.compileElement=function(C,F,B){B=B==null?true:B;$$AC.getAndEnsureId(C);$$AC.determineScope(C);if (Logger.debugEnabled) $D("compiling element => "+C.id);if(typeof (F)=="undefined"){throw"compileElement called without state for "+C.id}$$AC.onPrecompile(C);var E=C.getAttribute("compile")||"true";if(E=="false"){return }if($$AC.isInterpretiveMode){if(C.compiled){$$AC.destroy(C)}C.compiled=1}C.state=F;try{var A=$$AC.getTagname(C);var D=C.getAttribute("kind");if(A.indexOf(":")>0){C.style.originalDisplay=C.style.display||"block";F.pending+=1;$$AR.requireModule(A,function(){$$AC.compileWidget(C,F);F.pending-=1;$$AC.checkLoadState(C);Element.fire(C,"element:compiled:"+C.id,{id:C.id})})}else{if(D&&D.length>0){var A="app:"+D;F.pending+=1;$$AR.requireModule(A,function(){var H=$$AC.compileWidget(C,F,A);F.pending-=1;$$AC.checkLoadState(F);Element.fire(C,"element:compiled:"+C.id,{id:C.id})})}else{$$AC.delegateToAttributeListeners(C);if(B&&!C.stopCompile){$$AC.compileElementChildren(C);Element.fire(C,"element:compiled:"+C.id,{id:C.id})}}}}catch(G){$$AC.handleElementException(C,G,"compiling "+C.id)}};$$AC.compileElementChildren=function(C){if(C&&C.nodeType==1){if(C.nodeName.toLowerCase()!="textarea"){var D=$$AC.getElementChildren(C);for(var B=0,A=D.length;B<A;B++){$$AC.compileElement(D[B],C.state)}}$$AC.checkLoadState(C);Element.fire(C,"element:compiled:"+C.id,{id:C.id})}};$$AC.getElementChildren=function(B){var D=[];if(B&&B.nodeType==1){for(var A=0,C=B.childNodes.length;A<C;A++){if(B.childNodes[A].nodeType==1){D.push(B.childNodes[A])}}}return D};$$AC.destroy=function(C,B){if(!C){return }B=B==null?true:B;C.compiled=0;$$AC.removeElementId(C.id);if(Object.isArray(C.trashcan)){for(var F=0,A=C.trashcan.length;F<A;F++){try{C.trashcan[F]()}catch(E){if (Logger.debugEnabled) $D(E)}}try{delete C.trashcan}catch(E){if (Logger.debugEnabled) $D(E)}}if(B){if(C.nodeType==1&&C.childNodes&&C.childNodes.length>0){for(var F=0,A=C.childNodes.length;F<A;F++){var D=C.childNodes[F];if(D&&D.nodeType&&D.nodeType==1){try{$$AC.destroy(D,true)}catch(E){$E(E)}}}}}};$$AC.destroyContent=function(C){var D=$$AC.getElementChildren(C);for(var B=0,A=D.length;B<A;B++){$$AC.destroy(D[B],true)}};$$AC.addTrash=function(B,A){if(!B.trashcan){B.trashcan=[]}B.trashcan.push(A)};$$AC.getJsonTemplateVar=function(namespace,var_expr,template_var){var def={};var o=Object.getNestedProperty(namespace,var_expr,def);if(o==def){try{with(namespace){o=eval(var_expr)}}catch(e){return template_var}}if(typeof (o)=="object"){o=Object.toJSON(o).replace(/"/g,"&quot;")}return o};$$AC.templateRE=/#\{(.*?)\}/g;$$AC.compileTemplate=function(html,htmlonly,varname){varname=varname==null?"f":varname;var fn=function(m,name,format,args){return"', jtv(values,'"+name+"','#{"+name+"}'),'"};var body="var "+varname+" = function(values){ var jtv = $$AC.getJsonTemplateVar; return ['"+html.replace(/(\r\n|\n)/g,"").replace(/\t/g," ").replace(/'/g,"\\'").replace($$AC.templateRE,fn)+"'].join('');};"+(htmlonly?"":varname);var result=htmlonly?body:eval(body);return result};$$AC.tagNamespaces=[];for(var x=0;x<document.documentElement.attributes.length;x++){var attr=document.documentElement.attributes[x];var name=attr.name;var value=attr.value;var idx=name.indexOf(":");if(idx>0){$$AC.tagNamespaces.push(name.substring(idx+1))}}if($$AC.tagNamespaces.length==0){$$AC.tagNamespaces.push("app")}$$AC.removeHtmlPrefix=function(A){if($$AB.isIE){A=A.gsub(/<\?xml:namespace(.*?)\/>/i,"")}return A.gsub(/html:/i,"").gsub(/><\/img>/i,"/>")};$$AC.specialMagicParseHtml=function(A,C){var B=A;for(var D=0;D<$$AC.tagNamespaces.length;D++){B=$$AC.specialMagicParseTagSet(B,$$AC.tagNamespaces[D])}return B};$$AC.specialMagicParseTagSet=function(G,H){var Q="<"+H+":";var E="</"+H+":";var N=G.indexOf(Q);if(N<0){return $$AC.removeHtmlPrefix(G)}var D=$$AC.removeHtmlPrefix(G.substring(0,N));var K=N+Q.length;var J=G.indexOf(">",K);var B=G.indexOf(" ",K);if(B<0||J<B){B=J}var C=G.substring(K,B);var P=E+C+">";while(true){var M=G.indexOf(P,K);var F=G.indexOf(">",K);var L=G.indexOf(">",M);var I=G.substring(F+1,M);var A=I.indexOf(Q+C);if(A!=-1){K=M+P.length;continue}var O=G.substring(N,M+P.length);if($$AB.isIE){O=$$AC.removeHtmlPrefix(O)}D+=O;break}D+=$$AC.specialMagicParseHtml(G.substring(L+1),H);return D};$$AC.copyAttributes=function(B,A){$$AU.Dom.eachAttribute(B,function(E,G,F,D,C){if(F){A.setAttribute(E,G)}},["style","class","id"])};$$AC.getHtml=function(B,C){C=(C==null)?true:C;var A=B.innerHTML||$$AU.Dom.getText(B);return $$AC.convertHtml(A,C)};$$AC.addIENameSpace=function(A){if($$AB.isIE){A='<?xml:namespace prefix = app ns = "http://www.appcelerator.org" /> '+A}return A};$$AC.convertHtml=function(A,B){if(A.indexOf("#%7B")!=-1){A=A.gsub("#%7B","#{").gsub("%7D","}")}A=A.gsub(/\\\"/,"&quot;");if(B){return(A!=null)?$$AC.specialMagicParseHtml(A):""}else{return A}};$$AC.getWidgetHTML=function(A,B){return $$AC.getHtml(A,B)};$$AC.isHTMLTag=function(B){if($$AB.isIE){return B.scopeName=="HTML"||!B.tagUrn}var A=$$AC.getTagName(B,true);return !A.startsWith("app:")};$$AC.getTagname=function(A){if(!A){throw"element cannot be null"}if(A.nodeType!=1){throw"node: "+A.nodeName+" is not an element, was nodeType: "+A.nodeType+", type="+(typeof A)}if(A._tagName){return A._tagName}if($$AB.isIE){if(A.scopeName&&A.tagUrn){return A.scopeName+":"+A.nodeName.toLowerCase()}}if($$AC.isInterpretiveMode){return A.nodeName.toLowerCase()}return String(A.nodeName.toLowerCase())};$$AC.addEventListener=function(C,D,E,B){var A=function(){var G=$A(arguments);if (Logger.debugEnabled) $D("on "+C.id+"."+D+" => invoking action "+E);return E.apply({data:{}},G)};var F=B>0?(function(){var H=$A(arguments);var I=H[0];if(I.keyCode){H[0]={keyCode:I.keyCode}}var G=function(){return A.apply(A,H)};G.delay(B/1000)}):A;Event.observe(C,D,F,false);$$AC.addTrash(C,function(){Event.stopObserving(C,D,F)});return C};$$AC.installChangeListener=function(A,B){(function(){if(A.type=="checkbox"){A._validatorObserver=new Form.Element.Observer(A,0.1,B)}else{A._focusChangeListener=function(){A._validatorObserver=new Form.Element.Observer(A,0.5,function(C,D){B(C,D)})};Event.observe(A,"focus",A._focusChangeListener);A._blurChangeListener=function(){if(A._validatorObserver){A._validatorObserver.stop();try{delete A._validatorObserver}catch(C){A._validatorObserver=null}B(A,Field.getValue(A))}};Event.observe(A,"blur",A._blurChangeListener)}}).defer();return A};$$AC.removeChangeListener=function(A){(function(){if(A._focusChangeListener){Event.stopObserving(A,"focus",A._focusChangeListener);try{delete A._focusChangeListener}catch(B){A._focusChangeListener=null}}if(A._blurChangeListener){Event.stopObserving(A,"blur",A._blurChangeListener);try{delete A._blurChangeListener}catch(B){A._blurChangeListener=null}}if(A._validatorObserver){A._validatorObserver.stop();try{delete A._validatorObserver}catch(B){A._validatorObserver=null}}}).defer()};$$AC.ElementFunctions={};$$AC.getFunction=function(C,A){var E=(typeof C=="string")?C:C.id;var B=E+"_"+A;var D=$$AC.ElementFunctions[B];if(D){return D}C=$el(E);if(C){return C[A]}return null};$$AC.attachFunction=function(C,A,D){var E=(typeof C=="string")?C:C.id;var B=E+"_"+A;$$AC.ElementFunctions[B]=D;return C};$$AC.executeFunction=function(D,B,A,G){G=(G==null)?false:G;A=(A==null)?[]:A;var H=(typeof D=="string")?D:D.id;D=$el(H);var C=H+"_"+B;var E=$$AC.ElementFunctions[C];if(E){switch(A.length){case 0:return E();case 1:return E(A[0]);case 2:return E(A[0],A[1]);case 3:return E(A[0],A[1],A[2]);case 4:return E(A[0],A[1],A[2],A[3]);case 5:return E(A[0],A[1],A[2],A[3],A[4]);case 6:return E(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return E(A[0],A[1],A[2],A[3],A[4],A[5],A[6]);case 8:return E(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7]);case 9:return E(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8]);case 10:return E(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9]);case 11:return E(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10]);default:throw"too many arguments - only 11 supported currently for method: "+B+", you invoked with "+A.length+", args was: "+Object.toJSON(A)}}if(D){var E=D[B];var F=typeof (E);if(E&&(F=="function"||($$AB.isIE&&F=="object"))){return D[B]()}}else{if(G){throw"element with ID: "+H+" doesn't have a function named: "+B}}};$$AC.customConditionObservers={};$$AC.compileWidget=function(D,I,d){d=d||$$AC.getTagname(D);var C=$$AR.widgets[d];var N="";if (Logger.debugEnabled) $D("compiled widget "+D+", id="+D.id+", tag="+d+", module="+C);if(C){if($$AC.isInterpretiveMode&&C.flashRequired){var H=C.flashVersion||9;var V=null;if(!$$AB.isFlash){V="Flash version "+H+" or greater is required"}else{if($$AB.flashVersion<H){V="Flash version "+H+" or greater is required. Your version is: "+$$AB.flashVersion}}if(V){V=V+'. <a href="http://www.adobe.com/products/flashplayer/" target="_NEW">Download Flash Now</a>';var M='<div class="flash_error" style="border:1px solid #c00;padding:5px;background-color:#fcc;text-align:center;margin:5px;">'+V+"</div>";new Insertion.Before(D,M);Element.remove(D);return }}var T=$$AC.getAndEnsureId(D);var P=C.getAttributes();var Z={};for(var W=0;W<P.length;W++){var V=false;(function(){var g=P[W];var h=D.getAttribute(g.name)||g.defaultValue;if(Object.isFunction(h)){h=g.defaultValue}if(!h&&!g.optional){$$AC.handleElementException(D,null,'required attribute "'+g.name+'" not defined for '+T);V=true}Z[g.name]=h})();if(V){return }}Z["id"]=T;var S=null;if(C.getActions){S=C.getActions();for(var a=0;a<S.length;a++){$$AC.buildCustomAction(S[a])}}if(C.getConditions){$$AC.customConditionObservers[T]={};var Q=C.getConditions();for(var W=0;W<Q.length;W++){var J=Q[W];var Y=$$AC.customConditionFunctionCallback(J);$$AC.registerCustomCondition({conditionNames:[J]},Y,D.id)}}if(Object.isFunction(C.dontParseOnAttributes)){if(!C.dontParseOnAttributes()){$$AC.parseOnAttribute(D)}}else{$$AC.parseOnAttribute(D)}var B=null;try{B=C.buildWidget(D,Z,I)}catch(U){$$AC.handleElementException(D,U,"building widget "+D.id);return }if(D.id!=T){$$AC.removeElementId(T);T=D.id;$$AC.getAndEnsureId(D)}var K=false;if(B){var b=B.position||$$AC.POSITION_REPLACE;var X=b==$$AC.POSITION_REMOVE;if(!X){var M=B.presentation;if(M!=null){$$AC.setElementId(D,T+"_widget");if(B.parent_tag!="none"&&B.parent_tag!=""){var R=B.parent_tag||"div";M="<"+R+' id="'+T+'_temp" style="margin:0;padding:0;display:none">'+M+"</"+R+">"}if($$AB.isIE&&M.indexOf("<app:")!=-1){M=$$AC.addIENameSpace(M)}K=true;switch(b){case $$AC.POSITION_REPLACE:new Insertion.Before(D,M);X=true;break;case $$AC.POSITION_TOP:new Insertion.Top(D,M);break;case $$AC.POSITION_BOTTOM:new Insertion.Bottom(D,M);break;case $$AC.POSITION_BEFORE:new Insertion.Before(D,M);break;case $$AC.POSITION_AFTER:new Insertion.After(D,M);break;case $$AC.POSITION_BODY_TOP:new Insertion.Top(document.body,M);break;case $$AC.POSITION_BODY_BOTTOM:new Insertion.Bottom(document.body,M);break;case $$AC.POSITION_HEAD_TOP:new Insertion.Top($$AR.HeadElement,M);break;case $$AC.POSITION_HEAD_BOTTOM:new Insertion.Bottom($$AR.HeadElement,M);break}}}var A=null;if(K){A=$el(T+"_temp");if(!A){A=D.ownerDocument.getElementById(T+"_temp")}$$AC.delegateToContainerProcessors(D,A)}var G=T;var O=D.getAttribute("fieldset");var L=D.id;if(X){$$AC.removeElementId(L);Element.remove(D)}if(A){if(K&&!$el(T)){$$AC.setElementId(A,T);G=T;Z["id"]=T}A.widget=C;A.widgetParameters=Z}if(S){for(var a=0;a<S.length;a++){var F=S[a];var E=C[F];if(!E){throw"couldn't find method named: "+F+" for module = "+C}(function(){var i=S[a];var g=C[F];var h=function(k,l,n,u,r,q,t,s){try{g(k,Z,n,u,r,q,t,s)}catch(o){$E("Error executing "+i+" in module "+C.getWidgetName()+". Error "+Object.getExceptionDetail(o)+", stack="+o.stack)}};$$AC.attachFunction(T,i,h)})()}}if(O&&!C.ignoreFieldset){$$AC.addFieldSet(A,false,O)}if(B.compile){try{C.compileWidget(Z,A)}catch(U){$$AC.handleElementException($el(T),U,"compiling widget "+T+", type "+D.nodeName);return }}if(K&&B.wire&&A){$$AC.compileElement(A,I)}if(A){A.style.display=""}}}else{if(D.style&&D.style.display!=D.style.originalDisplay){D.style.display=D.style.originalDisplay}}return N};$$AC.fireCustomCondition=function(B,A,E){$$AC.fireConditionEvent(B,A);var D=$$AC.customConditionObservers[B];if(D==null){if (Logger.debugEnabled) $D('no custom condition found for id="'+B+'"')}else{if(D[A]==null){if (Logger.debugEnabled) $D('no custom condition found for id="'+B+'" condition="'+A+'"')}else{var G=D[A];for(var F=0;F<G.length;F++){var K=G[F];params=K.params;var C=params?$$AC.getParameters(params,false):null;var I=(C)?Object.toJSON(C):null;var H=$$AC.parseConditionCondition(I,E);var J;if(H){J=$$AC.makeConditionalAction(B,K.action,K.ifCond,E)}else{if(elseaction){J=$$AC.makeConditionalAction(B,K.elseAction,K.ifCond,E)}}$$AC.executeAfter(J,K.delay)}}}};$$AC.customConditionFunctionCallback=function(A){return function(H,C,F,K,I,G){var B=H.id;var D=$$AC.parameterRE.exec(C);var J=(D?D[1]:C);var E=D?D[2]:null;if(J==A){var L={"action":F,"delay":I,"elseAction":K,"ifCond":G,"params":E};if($$AC.customConditionObservers[B]==null){$$AC.customConditionObservers[B]={}}if($$AC.customConditionObservers[B][A]){$$AC.customConditionObservers[B][A].push(L)}else{$$AC.customConditionObservers[B][A]=[L]}return true}return false}};$$AC.determineScope=function(A){var B=A.getAttribute("scope");if(!B){var C=A.parentNode;if(C){B=C.scope}if(!B){B="appcelerator"}}A.scope=B};$$AC.parseOnAttribute=function(B){try{var A=B.getAttribute("on");if(A&&Object.isString(A)){if (Logger.debugEnabled) $D("parseOnAttribute ",B.id," on=",A);$$AC.compileExpression(B,A,false);return true}}catch(C){$$AC.handleElementException(B,C,'compiling "on" attribute for element '+B.id)}return false};$$AC.smartTokenSearch=function(D,F){var G=-1;if(D.indexOf("[")>-1&&D.indexOf("]")>-1){var C=D.indexOf(F);if(C>-1){var A=false;for(var E=C;E>-1;E--){if(D.charAt(E)=="]"){break}if(D.charAt(E)=="["){A=true;break}}var B=false;for(var E=C;E<D.length;E++){if(D.charAt(E)=="["){break}if(D.charAt(E)=="]"){B=true;break}}if(A&&B){G=-1}else{G=D.indexOf(F)}}else{G=C}}else{G=D.indexOf(F)}return G};$$AC.compoundCondRE=/^\((.*)?\) then$/;$$AC.parseExpression=function(L,B){if(!L){return[]}if(!Object.isString(L)){alert("framework error: value was "+L+" -- unexpected type: "+typeof (L));throw"value: "+L+" is not a string!"}L=L.gsub("\n"," ");L=L.gsub("\r"," ");L=L.gsub("\t"," ");L=L.trim();var X=[];var O=$$AC.smartSplit(L," or ");for(var T=0,Q=O.length;T<Q;T++){var K=O[T].trim();var J=K.indexOf(" then ");if(J<=0){if($$AC.getTagname(B).indexOf(":")){K=K+" then execute";J=K.indexOf(" then ")}else{throw"syntax error: expected 'then' for expression: "+K}}var P=K.substring(0,J);var H=K.substring(0,J+5);var R=$$AC.compoundCondRE.exec(H);if(R){var W=R[1];P=$$AC.smartSplit(W," or ")}var F=null;var N=K.substring(J+6);var E=$$AC.smartTokenSearch(N,"else");var V=5;if(E==-1){E=N.indexOf("otherwise");V=10}var M=null;if(E>0){M=N.substring(0,E-1);F=N.substring(E+V)}else{M=N}var A=F||M;var I=null;var S=A.indexOf(" if expr[");if(S!=-1){var Y=A.substring(S+9);var C=Y.indexOf("]");if(C==-1){throw"error in if expression, missing end parenthesis at: "+M}I=Y.substring(0,C);if(F){F=A.substring(0,S)}else{M=A.substring(0,S)}A=Y.substring(C+2)}var U=0;var D=$$AC.smartTokenSearch(N,"after ");if(D!=-1){var G=A.substring(D+6);U=$$AU.DateTime.timeFormat(G);if(!I){if(F){F=A.substring(0,D-1)}else{M=A.substring(0,D-1)}}}X.push([null,P,M,F,U,I])}return X};$$AC.compileExpression=function(C,I,B){I=$$AC.processMacros(I,C.id);if(!I){alert("value returned null for "+C.id)}var H=$$AC.parseExpression(I,C);if (Logger.debugEnabled) $D("on expression for ",C.id," has ",H.length," condition/action pairs");for(var D=0;D<H.length;D++){var G=H[D];if (Logger.debugEnabled) $D("compiling expression for ",C.id," => condition=[",G[1],"], action=[",G[2],"], elseAction=[",G[3],"], delay=[",G[4],"], ifCond=[",G[5],"]");G[0]=C;var E=false;if(Object.isArray(G[1])){for(var F=0;F<G[1].length;F++){var J=G[1][F];var A=[C,J,G[2],G[3],G[4],G[5]];E=$$AC.handleCondition.call(this,A);if(!E){throw"syntax error: unknown condition type: "+G[1]+" for "+I}}continue}E=$$AC.handleCondition.call(this,G);if(!E){throw"syntax error: unknown condition type: "+G[1]+" for "+I}}};$$AC.isIDRef=function(A){if(A){if(Object.isString(A)){return A.charAt(0)=="$"}}return false};$$AC.parseConditionCondition=function(K,H){var M=true;var D=K?K.evalJSON():null;if(D){for(var L=0,I=D.length;L<I;L++){var B=D[L];var G=false,N=false;if(B.empty&&B.value){B.key=B.value;B.keyExpression=B.valueExpression;B.value=null}var E=B.key,J=B.value,C=B.operator||"";if(B.key&&B.key.charAt(0)=="!"){G=true;E=B.key.substring(1)}else{if(B.key&&B.key.charAt(B.key.length-1)=="!"){G=true;E=B.key.substring(0,B.key.length-1)}}var O=E;if(B.keyExpression||$$AC.isIDRef(E)){var F=$$AC.getEvaluatedValue(E,H,H,B.keyExpression);if(!B.keyExpression&&$$AC.isIDRef(E)&&E==F){E=null}else{E=F}}else{E=$$AC.getEvaluatedValue(E,H)}if(E==O){E=null}if((C=="<"||C==">")&&(J&&Object.isString(J)&&J.charAt(0)=="=")){C+="=";J=J.substring(1)}if(J&&Object.isString(J)&&J.charAt(0)=="~"){N=true;J=J.substring(1)}if(B.empty){J=E}else{if(B.keyExpression||$$AC.isIDRef(J)){var F=$$AC.getEvaluatedValue(J,H,H,B.valueExpression);if(!B.valueExpression&&$$AC.isIDRef(J)&&J==F){J=null}else{J=F}}else{J=$$AC.getEvaluatedValue(J,H)}}if(N){var A=new RegExp(J);M=A.test(E)}else{if(!C&&B.empty&&J==null){M=E}else{switch(C||"="){case"<":M=parseInt(E)<parseInt(J);break;case">":M=parseInt(E)>parseInt(J);break;case"<=":M=parseInt(E)<=parseInt(J);break;case">=":M=parseInt(E)>=parseInt(J);break;default:M=String(E)==String(J);break}}}if(G){M=!M}if(!M){break}}}return M};$$AC.customConditions=[];$$AC.customElementConditions=[];$$AC.registerCustomCondition=function(B,C,A){C.metadata=B;if(!A){$$AC.customConditions.push(C)}else{$$AC.customElementConditions.push({elementid:A,condition:C})}};$$AC.conditionListeners={};$$AC.registerConditionListener=function(B,E,D){var A=$el(B).id+"__"+E;var C=$$AC.conditionListeners[A];if(!C){C=[];$$AC.conditionListeners[A]=C}C.push(D)};$$AC.fireConditionEvent=function(B,E){var A=$el(B).id+"__"+E;var C=$$AC.conditionListeners[A];if(C){for(var D=0;D<C.length;D++){C[D]($el(B),E)}}};$$AC.handleCondition=function(E){var A=E[0];if (Logger.debugEnabled) $D("handleCondition called for ",A);if(E[1]&&Object.isBoolean(E[1])){var C=$$AC.makeAction(A.id,E[2]);return C.call(this,E[3])}for(var C=0;C<$$AC.customElementConditions.length;C++){var B=$$AC.customElementConditions[C];if(B.elementid==A.id){var D=B.condition;var F=D.apply(D,E);if(F){return true}}}for(var C=0;C<$$AC.customConditions.length;C++){var D=$$AC.customConditions[C];var F=D.apply(D,E);if(F){return true}}return false};$$AC.getConditionsMetadata=function(){return Appcelerator.Compile.customConditions.pluck("metadata")};$$AC.parameterRE=/(.*?)\[(.*)?\]/i;$$AC.expressionRE=/^expr\((.*?)\)$/;$$AC.customActions={};$$AC.customElementActions={};$$AC.registerCustomAction=function(A,D,B){var C=Object.clone(D);C.build=function(G,E,F){return["try {",D.build(G,E,F),"; }catch(exxx){$$AC.handleElementException",'($el("',G,'"),exxx,"Executing:',E,'");}'].join("")};if(D.parseParameters){C.parseParameters=D.parseParameters}if(!B){$$AC.customActions[A]=C}else{$$AC.customElementActions[A]=C}};$$AC.properCase=function(A){return A.charAt(0).toUpperCase()+A.substring(1)};$$AC.smartSplit=function(C,B){C=C.trim();var E=C.split(B);if(E.length==1){return E}var G=[];var D=null;for(var F=0;F<E.length;F++){var A=E[F];if(!D&&A.charAt(0)=="("){D=A+" or ";continue}else{if(D&&D.charAt(0)=="("){if(A.indexOf(") ")!=-1){G.push(D+A);D=null}else{D+=A+" or "}continue}}if(!D&&A.indexOf("[")>=0&&A.indexOf("]")==-1){if(D){D+=B+A}else{D=A}}else{if(D&&A.indexOf("]")==-1){D+=B+A}else{if(D){G.push(D+B+A);D=null}else{G.push(A)}}}}return G};$$AC.makeConditionalAction=function(E,D,C,A){var B=function(F){var G=$$AC.makeAction(E,D,A);if(C){if(Object.isUndefined(F.id)){F.id=E}if(Object.evalWithinScope(C,F)){G(F)}}else{G(F)}};return B};$$AC.makeAction=function(H,E,B){var D=[];var F=$$AC.smartSplit(E.trim()," and ");for(var G=0,A=F.length;G<A;G++){(function(){var R=F[G].trim();var K=R.startsWith("both:")||R.startsWith("*:");var O=!K&&R.startsWith("remote:")||R.startsWith("r:");var L=!O&&(R.startsWith("local:")||R.startsWith("l:"));var J=$$AC.parameterRE.exec(R);var M=J!=null?$$AC.getParameters(J[2].trim(),false):null;var N=J!=null?J[1]:R;M=M||[];if(B){for(var I in B){M.push({key:I,value:B[I]})}}if(L||O||K){var Q=function(V){var T={};for(var S=0;S<M.length;S++){var W=M[S];var U=W.key,X=W.value;if(W.keyExpression){U=$$AC.getEvaluatedValue(W.key,null,V,W.keyExpression)}else{if(W.valueExpression){X=$$AC.getEvaluatedValue(W.value,null,V,W.valueExpression)}else{if(W.empty){X=$$AC.getEvaluatedValue(W.key,null,V)}else{U=$$AC.getEvaluatedValue(W.key);X=$$AC.getEvaluatedValue(W.value,null,V)}}}T[U]=X}$$AC.fireServiceBrokerMessage(H,N,T,V)};D.push({func:Q,action:N})}else{var P=$$AC.customElementActions[N];if(!P){P=$$AC.customActions[N]}if(!P){throw"syntax error: unknown action: "+N+" for "+H}var Q=P.parseParameters;if(Q&&Object.isFunction(Q)){M=Q(H,N,J?J[2]||R:R)}var Q=function(T){T=T||window;if(Object.isArray(M)){for(var S=0;S<M.length;S++){var U=M[S];if(U.keyExpression){U.key=$$AC.getEvaluatedValue(U.key,T.data,T,U.keyExpression);U.keyExpression=false}else{if(U.valueExpression){U.value=$$AC.getEvaluatedValue(U.value,T.data,T,U.valueExpression);U.valueExpression=false;if(U.empty){U.key=U.value}}else{if(U.empty){U.value=$$AC.getEvaluatedValue(U.key,T.data,T)}else{U.key=$$AC.getEvaluatedValue(U.key);U.value=$$AC.getEvaluatedValue(U.value,T.data,T)}}}}}P.execute(H,N,M,T)};D.push({func:Q,action:N})}})()}var C=function(K){var I=Appcelerator.Config["perfmon"];for(var J=0;J<D.length;J++){actionFunc=D[J];var M=null;if(I){M=new Date}actionFunc.func(K);if(I){var L=(new Date).getTime()-M.getTime();$MQ("l:perfmon.action",{id:H,action:actionFunc.action,time:L})}}};return C};$$AC.convertMessageType=function(A){return $$AU.ServiceBroker.convertType(A)};$$AC.getMessageType=function(B){var A=$$AC.parameterRE.exec(B);return $$AC.convertMessageType(A&&A.length>0?A[1]:B)};$$AC.fireServiceBrokerMessage=function(D,B,A,C){(function(){var I=A||{};var F=$el(D);var E=null;var G=null;if(F){E=F.getAttribute("fieldset");G=F.scope}for(var K in I){var H=I[K];I[K]=$$AC.getEvaluatedValue(H,I,C)}var J=B.startsWith("local:")||B.startsWith("l:");if(E){$$AC.fetchFieldset(E,J,I)}if(J){if(I["id"]==null){I["id"]=D}if(I["element"]==null){I["element"]=$el(I["id"])}}if(!G||G=="*"){G="appcelerator"}$MQ(B,I,G)}).defer()};$$AC.fetchFieldset=function(J,H,C){if(!C){C={}}var E=$$AC.fieldSets[J];if(E&&E.length>0){for(var G=0,F=E.length;G<F;G++){var D=E[G];var I=$el(D);var A=I.getAttribute("name")||D;if(C[A]==null){if(I.type=="radio"&&!I.checked){continue}var B=$$AC.getElementValue(I,true,H);var K=typeof (B);if(B!=null&&(K=="object"||B.length>0||K=="boolean")){C[A]=B}else{C[A]=""}}else{if(I.type!="radio"){Logger.warn('fieldset value for "'+A+'" ignored because it conflicts with existing data payload value')}}}}return C};$$AC.getElementValue=function(E,H,C){E=$el(E);H=(H==null)?true:H;var G=E.widget;if(G){if(E.widget.getValue){return E.widget.getValue(E.id,E.widgetParameters)}}else{switch($$AC.getTagname(E)){case"input":return $$AC.getInputFieldValue(E,true,C);case"select":if(E.hasAttribute("multiple")){var D=[];var A=E.options;var F=E.options.length;for(var B=0;B<F;B++){if(A[B].selected){D.push(A[B].value)}}return D}break;case"img":case"iframe":return E.src;case"form":return""}if(E.value!=undefined){return E.value}return E.innerHTML}};$$AC.getInputFieldValue=function(B,A,F){var G=$$AC.getTagname(B);if(G!="input"&&G!="textarea"&&G!="select"){return null}F=F==null?true:F;A=(A==null)?false:A;var E=B.getAttribute("type")||"text";var H=Form.Element.Methods.getValue(B);switch(E){case"checkbox":return(H=="on"||H=="checked");case"password":if(!F){var I=B.getAttribute("hash");if(I){var D="";I.split(",").each(function(K){var J=$el(I);if(J){D+=$$AC.getInputFieldValue(J,false,true)}});var C=$$AU.MD5.hex_md5(H+D);return{"hash":C,"auth":$$AU.MD5.hex_md5(C+$$AU.Cookie.GetCookie("appcelerator-auth"))}}}}return $$AC.formatValue(H,!A)};$$AC.getEvaluatedValue=function(I,F,J,D){if(I&&typeof (I)=="string"){if(!D&&I.charAt(0)=="$"){var E=I.substring(1);var B=$el(E);if(B){return $$AC.getElementValue(B,true)}}else{if(!D&&!isNaN(parseFloat(I))){return I}else{var G=D||$$AC.expressionRE.exec(I);if(G){var H=D?I:G[1];var A=H.toFunction();var L=J?Object.clone(J):{};if(F){for(var C in F){if(Object.isString(C)){L[C]=F[C]}}}return A.call(L)}if(J){var K=Object.getNestedProperty(J,I,null);if(K){return K}}if(F){return Object.getNestedProperty(F,I,I)}}}}return I};$$AC.formatValue=function(C,A){A=(A==null)?true:A;if(C!=null){var B=typeof (C);if(B=="boolean"||B=="array"||B=="object"){return C}if(C=="true"||C=="false"){return C=="true"}if(C.charAt(0)=="'"&&A){return C}if(C.charAt(0)=='"'){C=C.substring(1,C.length-1)}if(A){return"'"+C+"'"}return C}return""};$$AC.dequote=function(A){if(A&&typeof A=="string"){if(A.charAt(0)=="'"||A.charAt(0)=='"'){A=A.substring(1)}if(A.charAt(A.length-1)=="'"||A.charAt(A.length-1)=='"'){A=A.substring(0,A.length-1)}}return A};$$AC.convertInt=function(A){if(A.charAt(0)=="0"){if(A.length==1){return 0}return $$AC.convertInt(A.substring(1))}return parseInt(A)};$$AC.convertFloat=function(A){return parseFloat(A)};$$AC.numberRe=/^[-+]{0,1}[0-9]+$/;$$AC.floatRe=/^[0-9]*[\.][0-9]*[f]{0,1}$/;$$AC.booleanRe=/^(true|false)$/;$$AC.quotedRe=/^['"]{1}|['"]{1}$/;$$AC.jsonRe=/^\{(.*)?\}$/;var STATE_LOOKING_FOR_VARIABLE_BEGIN=0;var STATE_LOOKING_FOR_VARIABLE_END=1;var STATE_LOOKING_FOR_VARIABLE_VALUE_MARKER=2;var STATE_LOOKING_FOR_VALUE_BEGIN=3;var STATE_LOOKING_FOR_VALUE_END=4;var STATE_LOOKING_FOR_VALUE_AS_JSON_END=5;$$AC.decodeParameterValue=function(C,B){var E=null;if(C!=null&&C.length>0&&!B){var A=$$AC.jsonRe.exec(C);if(A){E=String(A[0]).evalJSON()}if(!E){var D=$$AC.quotedRe.test(C);if(D){E=$$AC.dequote(C)}else{if($$AC.floatRe.test(C)){E=$$AC.convertFloat(C)}else{if($$AC.numberRe.test(C)){E=$$AC.convertInt(C)}else{if($$AC.booleanRe.test(C)){E=(C=="true")}else{E=C}}}}}}if(C=="null"||E=="null"){return null}return E==null?C:E};$$AC.parameterSeparatorRE=/[\$=:><!]+/;$$AC.getParameters=function(M,L){if(M==null||M.length==0){return L?{}:[]}var K=/expr\((.*?)\)/;var B=K.test(M);if(!$$AC.parameterSeparatorRE.test(M)&&!B){if(L){var W={};W[M]="";return W}else{return[{key:M,value:"",empty:true}]}}var E=0;var A="";var X=null;var V=L?{}:[];var J=false,U=false;var G=null;var T=B?{}:null;if(B){var H=function(d){var Y=d.indexOf("expr(");if(Y<0){return null}var Z=Y+5;var a=d.length-1;var k="";while(true){var l=d.indexOf(")",Z);if(l<0){break}k+=d.substring(Z,l);if(l==d.length-1){a=l+1;break}var h=false;var i=l+1;for(;i<d.length;i++){switch(d.charAt(i)){case",":a=i;h=true;break;case" ":break;default:Z=l+1;break}}if(i==d.length-1){a=i;break}if(h){break}k+=")"}var g=d.substring(Y,a);return[g,k]};var F=0;while(true){var N=H(M);if(!N){break}var P="__E__"+(F++);T[P]=N[1];M=M.replace(N[0],P)}}function O(Z,Y,a){if(Z&&Z.startsWith("__E__")){if(!L){return{key:T[Z],value:Y,keyExpression:true,valueExpression:false}}else{return T[Z]}}if(Y&&Y.startsWith("__E__")){if(!L){return{key:Z,value:T[Y],valueExpression:true,keyExpression:false}}else{return T[Y]}}var b=$$AC.decodeParameterValue(Y,a);if(!L){return{key:Z,value:b}}return b}for(var S=0,Q=M.length;S<Q;S++){var I=M.charAt(S);var R=true;switch(I){case'"':case"'":switch(E){case STATE_LOOKING_FOR_VARIABLE_BEGIN:quoted=true;R=false;E=STATE_LOOKING_FOR_VARIABLE_END;J=I=='"';U=I=="'";break;case STATE_LOOKING_FOR_VARIABLE_END:var D=M.charAt(S-1);if(J&&I=="'"||U&&I=='"'){}else{if(D!="\\"){E=STATE_LOOKING_FOR_VARIABLE_VALUE_MARKER;R=false;X=A.trim();A=""}}break;case STATE_LOOKING_FOR_VALUE_BEGIN:R=false;J=I=='"';U=I=="'";E=STATE_LOOKING_FOR_VALUE_END;break;case STATE_LOOKING_FOR_VALUE_END:var D=M.charAt(S-1);if(J&&I=="'"||U&&I=='"'){}else{if(D!="\\"){E=STATE_LOOKING_FOR_VARIABLE_BEGIN;R=false;if(L){V[X]=O(X,A,J||U)}else{V.push(O(X,A,J||U))}X=null;J=false,U=false;A=""}}break}break;case">":case"<":case"=":case":":if(E==STATE_LOOKING_FOR_VARIABLE_END){if(I=="<"||I==">"){X=A.trim();A="";E=STATE_LOOKING_FOR_VARIABLE_VALUE_MARKER}}switch(E){case STATE_LOOKING_FOR_VARIABLE_END:R=false;E=STATE_LOOKING_FOR_VALUE_BEGIN;X=A.trim();A="";G=I;break;case STATE_LOOKING_FOR_VARIABLE_VALUE_MARKER:R=false;E=STATE_LOOKING_FOR_VALUE_BEGIN;G=I;break}break;case",":switch(E){case STATE_LOOKING_FOR_VARIABLE_BEGIN:R=false;E=STATE_LOOKING_FOR_VARIABLE_BEGIN;break;case STATE_LOOKING_FOR_VARIABLE_END:E=STATE_LOOKING_FOR_VARIABLE_BEGIN;R=false;if(L){V[A]=null}else{var C=O(X,A);C.operator=G;C.key=C.value;C.empty=true;V.push(C)}X=null;J=false,U=false;A="";break;case STATE_LOOKING_FOR_VALUE_END:if(!J&&!U){E=STATE_LOOKING_FOR_VARIABLE_BEGIN;R=false;if(L){V[X]=O(X,A,J||U)}else{var C=O(X,A);C.operator=G;V.push(C)}X=null;J=false,U=false;A=""}break}break;case" ":break;case"\n":case"\t":case"\r":R=false;break;case"{":switch(E){case STATE_LOOKING_FOR_VALUE_BEGIN:E=STATE_LOOKING_FOR_VALUE_AS_JSON_END}break;case"}":if(E==STATE_LOOKING_FOR_VALUE_AS_JSON_END){E=STATE_LOOKING_FOR_VARIABLE_BEGIN;R=false;A+="}";if(L){V[X]=O(X,A,J||U)}else{var C=O(X,A);C.operator=G;V.push(C)}X=null;J=false,U=false;A=""}break;default:switch(E){case STATE_LOOKING_FOR_VARIABLE_BEGIN:E=STATE_LOOKING_FOR_VARIABLE_END;break;case STATE_LOOKING_FOR_VALUE_BEGIN:E=STATE_LOOKING_FOR_VALUE_END;break}}if(R){A+=I}if(S+1==Q&&X){A=A.strip();if(L){V[X]=O(X,A,J||U)}else{var C=O(X,A);C.operator=G;V.push(C)}}}if(A&&!X){if(L){V[X]=null}else{var C=O(X,A);C.empty=true;C.key=C.value;C.operator=G;V.push(C)}}return V};$$AC.executeAfter=function(D,A,B){var C=(B!=null)?function(){D(B)}:D;if(A>0){C.delay(A/1000)}else{C()}};$$AC.handleElementException=function(C,D,B){var A=C?$$AC.getTagname(C):document.body;var E="<strong>Appcelerator Processing Error:</strong><div>Element ["+A+"] with ID: "+(C.id||C)+" has an error: <div>"+Object.getExceptionDetail(D,true)+"</div>"+(B?"<div>in <pre>"+B+"</pre></div>":"")+"</div>";$E(E);if(A=="IMG"){new Insertion.Before(C,E)}else{C.innerHTML='<div style="border:4px solid #777;padding:30px;background-color:#fff;color:#e00;font-family:sans-serif;font-size:18px;margin-left:20px;margin-right:20px;margin-top:100px;text-align:center;">'+E+"</div>"}Element.show(C)};$$AC.fieldSets={};$$AC.addFieldSet=function(C,D,B){D=(D==null)?false:D;B=B||C.getAttribute("fieldset");if(B){var A=$$AC.fieldSets[B];if(!A){A=[];$$AC.fieldSets[B]=A}if(false==D){if (Logger.debugEnabled) $D("adding = ",C.id," to field = ",B,", values=",A);A.push(C.id)}return A}return null};$$AC.removeFieldSet=function(C){var B=C.getAttribute("fieldset");if(B){var A=$$AC.fieldSets[B];if(A){A.remove(C.id)}}};$$AC.updateFieldsetValues=function(K,J,I){var C=Object.getNestedProperty(J,I,null);if(!C){C=J}if(K){var E=$$AC.fieldSets[K];if(E&&E.length>0){for(var G=0,F=E.length;G<F;G++){var D=E[G];var H=$el(D);var A=H.name||H.getAttribute("name")||D;var B=Object.getNestedProperty(C,A,null);if(B!=null){$$AC.setElementValue(H,B)}}}}};$$AC.setElementValue=function(C,I){var A=false;var F=false;if(C&&I!=null){var E=C.widget;if(E){if(E.setValue){try{E.setValue(C.id,C.widgetParameters,I)}catch(G){$E(G)}}}else{switch($$AC.getTagname(C)){case"input":var H=C.getAttribute("type")||"text";switch(H){case"password":case"hidden":case"text":A=true;C.value=I;break;case"button":case"submit":C.value=I;break;case"checkbox":A=true;if(I==true||I=="true"){C.checked=true}else{C.checked=false}break;case"radio":A=true;if(I==C.getAttribute("value")){C.checked=true}else{C.checked=false}break}break;case"textarea":A=true;C.value=I;break;case"select":if(C.hasAttribute("multiple")){var J=$$AU.makeSet(I);var K=C.options;for(var B=0;B<K.length;B++){var D=K[B];if(J[D.value]){if(!D.selected){D.selected=true;F=true;A=true}}else{if(D.selected){D.selected=false;F=true;A=true}}}}else{var K=C.options;for(var B=0;B<K.length;B++){if(K[B].value==I){C.selectedIndex=B;F=true;A=true;break}}}break;case"a":C.href=I;break;case"img":case"iframe":C.src=I;break;default:C.innerHTML=I;break}}}if(F){try{Event.cache[C._eventID]["change"][0]({})}catch(G){if (Logger.debugEnabled) $D("failed to fire change listener for element: "+C.id)}}if(A){$$AC.executeFunction(C,"revalidate")}};$$AC.CSSAttributes=["color","cursor","font","font-family","font-weight","border","border-right","border-bottom","border-left","border-top","border-color","border-style","border-width","background","background-color","background-attachment","background-position","position","display","visibility","overflow","opacity","filter","top","left","right","bottom","width","height","margin","margin-left","margin-right","margin-bottom","margin-top","padding","padding-left","padding-right","padding-bottom","padding-top"];$$AC.isCSSAttribute=function(C){if(C=="style"){return true}for(var F=0,A=$$AC.CSSAttributes.length;F<A;F++){if($$AC.CSSAttributes[F]==C){return true}var D=$$AC.CSSAttributes[F];var B=D.indexOf("-");if(B>0){var E=D.substring(0,B)+D.substring(B+1).capitalize();if(E==C){return true}}}return false};$$AC.convertCSSAttribute=function(B){var A=B.indexOf("-");if(A>0){var C=B.substring(0,A)+B.substring(A+1).capitalize();return C}return B};$$AU.ServerConfig.addConfigListener(function(){if($$AC.compileOnLoad){var A=Prototype.K;$$AC.compileDocument(A)}});$$AC.setHTML=function(B,A){$el(B).innerHTML=A};var AppceleratorCompilerMethods={on:function(B,E,C){$$AC.destroy(B);if(C){for(var A in C){if(Object.isString(A)){var D=C[A];if(Object.isString(D)||Object.isNumber(D)||Object.isBoolean(D)){B.setAttribute(A,D)}}}$$AC.delegateToAttributeListeners(B)}$$AC.compileExpression(B,E,false);return B},get:function(A){return $el(A)}};Element.addMethods(AppceleratorCompilerMethods);Object.extend(Array.prototype,{on:function(C,A){for(var D=0;D<this.length;D++){var B=this[D];if(B&&Object.isElement(B)&&Object.isFunction(B.on)){B.on(C,A)}}return this},withoutAll:function(A){return this.without.apply(this,A)}});$$AC.macros={};$$AC.macroRE=/(#[A-Za-z0-9_-]+(\[(.*)?\])?)/;$$AC.processMacros=function(B,C,A){return B.gsub($$AC.macroRE,function(G){var K=G[0].substring(1);var H=K;var F=H.indexOf("[");var D=F>0?H.lastIndexOf("]"):-1;if(F>0&&D>0){H=H.substring(0,F)}var I=$$AC.macros[H];if(I){A=A||{};if(F>0&&D>0){var E=K.substring(F+1,D);E.split(",").each(function(M){var L=M.split("=");A[L[0].trim()]=L[1].trim()})}if(C){var J=A["id"];if(Object.isUndefined(J)){A["id"]=C}}return $$AC.processMacros(I(A),C,A)}return G[0]})};function $WEM(B){for(var A in B){var C=B[A];if(Object.isString(C)){$$AC.macros[A]=$$AC.compileTemplate(C)}}}$$AU.Dom={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,eachAttribute:function(B,F,J,E){E=E==null?true:E;J=J||[];if(B.attributes){var A=B.attributes;for(var I=0,G=A.length;I<G;I++){var K=A[I];if(K&&K.value!=null&&E==K.specified){var H=typeof (K);if(K.value.startsWith("function()")){continue}if(H=="function"||H=="native"||K.name.match(/_moz\-/)){continue}if(J.length>0){var L=false;for(var D=0,C=J.length;D<C;D++){if(J[D]==K.name){L=true;break}}if(L){continue}}F(K.name,K.value,K.specified,I,A.length)}}return I>0}return false},getTagAttribute:function(B,E,A,D){try{var C=B.getElementsByTagName(E)[0].getAttribute(A);if(null!=C){return C}}catch(F){}return D},each:function(D,B,C){if(typeof (D)=="array"){D.each(function(H){if(H.nodeType==B){C(H)}})}else{if(typeof (D)=="object"||typeof (D)=="function"&&navigator.userAgent.match(/WebKit/i)){for(var G=0,A=D.length;G<A;G++){var F=D[G];if(typeof F.nodeType!="undefined"&&F.nodeType==B){try{C(F)}catch(E){if(E==$break){break}else{if(E!=$continue){throw E}}}}}}else{throw ("unsupported dom nodelist type: "+typeof (D))}}},getText:function(D,E,F,K,A){var J=[];var C=D.childNodes;var G=C?C.length:0;for(var H=0;H<G;H++){var B=C[H];if(F){B=F(B)}if(B.nodeType==this.COMMENT_NODE){if(!A){J.push("<!-- "+B.nodeValue+" -->")}continue}if(B.nodeType==this.ELEMENT_NODE){J.push(this.toXML(B,true,null,null,E,K,A))}else{if(B.nodeType==this.TEXT_NODE){var I=B.nodeValue;if(I){J.push(I);if(K){J.push("\n")}}}else{if(B.nodeValue==null){J.push(this.toXML(B,true,null,null,E,K,A))}else{J.push(B.nodeValue||"")}}}}return J.join("")},hasAttribute:function(D,F,B){if(!D.hasAttribute){if(D.attributes){for(var E=0,A=D.attributes.length;E<A;E++){var C=D.attributes[E];if(C&&C.specified){if(B&&C.name==F||!B&&C.name.toLowerCase()==F.toLowerCase()){return true}}}}return false}else{return D.hasAttribute(F)}},getAttribute:function(D,F,B){if(B){return D.getAttribute(F)}else{for(var E=0,A=D.attributes.length;E<A;E++){var C=D.attributes[E];if(C&&C.specified){if(C.name.toLowerCase()==F.toLowerCase()){return C.value}}}return null}},toXML:function(I,H,N,C,D,P,B){N=(N||I.nodeName.toLowerCase());var E=[];E.push("<"+N);if(C){E.push(" id='"+C+"' ")}if(I.attributes){var M=0;var A=I.attributes;for(var L=0,F=A.length;L<F;L++){var O=A[L];if(O&&O.value!=null&&O.specified){var K=typeof (O);if(O.value&&O.value.startsWith("function()")){continue}if(K=="function"||K=="native"||O.name.match(/_moz\-/)){continue}if(C!=null&&O.name=="id"){continue}if($$AB.isIE&&!D&&O.name=="style"&&I.style&&I.style.cssText){var J=I.style.cssText;E.push(' style="'+J+'"');M++;continue}var G=String.escapeXML(O.value);if(Object.isUndefined(G)||(!G&&N=="input"&&O.name=="value")){G=""}E.push(" "+O.name+'="'+G+'"');M++}}}E.push(">");if(H&&I.childNodes&&I.childNodes.length>0){E.push("\n");E.push(this.getText(I,D,null,P,B))}E.push("</"+N+">"+(P?"\n":""));return E.join("")},getAndRemoveAttribute:function(B,A){var C=B.getAttribute(A);if(C){B.removeAttribute(A)}return C},getAttributesString:function(B,C){var A="";this.eachAttribute(B,function(D,E){if(false==(C&&C.indexOf(D)>-1)){A+=D+'="'+String.escapeXML(E||"")+'" '}},null,true);return A},createElement:function(B,A){var C=document.createElement(B);if(A){if(A["parent"]){A["parent"].appendChild(C)}if(A["className"]){C.className=A["className"]}if(A["html"]){C.innerHTML=A["html"]}if(A["children"]){A["children"].each(function(D){C.appendChild(D)})}}return C}};try{if(typeof (DOMNodeList)=="object"){DOMNodeList.prototype.length=DOMNodeList.prototype.getLength}if(typeof (DOMNode)=="object"){DOMNode.prototype.childNodes=DOMNode.prototype.getChildNodes;DOMNode.prototype.parentNode=DOMNode.prototype.getParentNode;DOMNode.prototype.nodeType=DOMNode.prototype.getNodeType;DOMNode.prototype.nodeName=DOMNode.prototype.getNodeName;DOMNode.prototype.nodeValue=DOMNode.prototype.getNodeValue}}catch(e){}$$AU.Cookie=Class.create();$$AU.Cookie={toString:function(){return"[$$AU.Cookie]"},getCookieVal:function(B){var A=document.cookie.indexOf(";",B);if(A==-1){A=document.cookie.length}return unescape(document.cookie.substring(B,A))},GetCookie:function(D){var B=escape(D)+"=";var F=B.length;var A=document.cookie.length;var E=0;while(E<A){var C=E+F;var H=document.cookie.substring(E,C);if(H==B){var G=this.getCookieVal(C);if(G!=null&&G!=""){if (Logger.debugEnabled) $D(this,"GetCookie",D+"="+G);return G}else{if (Logger.debugEnabled) $D(this,"GetCookie",D+"=null");return null}}E=document.cookie.indexOf(" ",E)+1;if(E==0){break}}if (Logger.debugEnabled) $D(this,"GetCookie",D+"=null");return null},SetCookie:function(B,H){var G=this.SetCookie.arguments;var E=this.SetCookie.arguments.length;var D=(E>2)?G[2]:null;var I=(E>3)?G[3]:null;var F=(E>4)?G[4]:null;var A=(E>5)?G[5]:false;var C=escape(B)+"="+escape(H)+((D==null)?"":("; expires="+D.toGMTString()))+((I==null)?"":("; path="+I))+((F==null)?"":("; domain="+F))+((A)?"; secure":"");if (Logger.debugEnabled) $D(this,"SetCookie",C);document.cookie=C},DeleteCookie:function(){var D=new Date();D.setTime(D.getTime()+(-1*24*60*60*1000));var A="; expires="+D.toGMTString();var C=$A(arguments);var B=this;C.each(function(E){if (Logger.debugEnabled) $D(B,"DeleteCookie",E);document.cookie=E+"="+A+"; path=/";document.cookie=E+"="+A+";"})},HasCookie:function(A){return this.GetCookie(A)!=null}};$$AR.onload(function(){$$AU.ServerConfig.addConfigListener(function(){if(window.location.protocol!="file:"){(function(){if(Appcelerator.Config["cookie_check"]){$$AU.Cookie.SetCookie("CookieCheck","1");var A=$$AU.Cookie.GetCookie("CookieCheck");if(!A){window.location=Appcelerator.DocumentPath+"upgrade_cookies.html"}else{$$AU.Cookie.DeleteCookie("CookieCheck")}}})()}})});$$AU.ServiceBroker={DEBUG:false,init:false,instanceid:Appcelerator.instanceid,serverPath:Appcelerator.DocumentPath+"servicebroker",interceptors:[],messageQueue:[],localMessageQueue:[],localTimer:null,localTimerPoll:10,initQueue:[],timer:null,time:null,serverDown:false,poll:false,fetching:false,localDirectListeners:{},remoteDirectListeners:{},localPatternListeners:[],remotePatternListeners:[],devmode:(window.location.href.indexOf("devmode=1")>0),disabled:this.devmode||(window.location.href.indexOf("file:/")!=-1)||Appcelerator.Parameters.get("mbDisabled")=="1",remoteDisabled:this.disabled||Appcelerator.Parameters.get("remoteDisabled")=="1",marshaller:"xml/json",transport:"appcelerator",multiplex:true,toString:function(){return"[ServiceBroker]"},addInterceptor:function(A){if (Logger.debugEnabled) $D(this.toString()+" Adding interceptor: "+A);this.interceptors.push(A)},removeInterceptor:function(A){if (Logger.debugEnabled) $D(this.toString()+"Removing interceptor: "+A);this.interceptors.remove(A)},convertType:function(A){if(A.startsWith("l:")){return"local:"+A.substring(2)}if(A.startsWith("r:")){return"remote:"+A.substring(2)}if(A.startsWith("*:")){return"both:"+A.substring(2)}return A},addListenerByType:function(I,H){I=this.convertType(I.trim());var G=I.indexOf(":");var E=(G!=-1)?(I.substring(0,G)):"both";var D=(G!=-1)?I.substring(G+1):I;var F=D.charAt(0)=="~";if(E=="local"||E=="both"){var C=null;if(F){this.localPatternListeners.push([H,new RegExp(D.substring(1))]);var B=H["_removePatternListenerArrays"];if(!B){B=[];H["_removePatternListenerArrays"]=B}B.push(this.localPatternListeners)}else{C=this.localDirectListeners[D];if(!C){C=[];this.localDirectListeners[D]=C}var A=H["_removeListenerArrays"];if(!A){A=[];H["_removeListenerArrays"]=A}A.push(C);C.push(H)}}if(E=="remote"||E=="both"){var C=null;if(F){this.remotePatternListeners.push([H,new RegExp(D.substring(1))]);var B=H["_removePatternListenerArrays"];if(!B){B=[];H["_removePatternListenerArrays"]=B}B.push(this.remotePatternListeners)}else{C=this.remoteDirectListeners[D];if(!C){C=[];this.remoteDirectListeners[D]=C}var A=H["_removeListenerArrays"];if(!A){A=[];H["_removeListenerArrays"]=A}A.push(C);C.push(H)}}},addListener:function(F){var D=new Date().getTime();var C=F["accept"];if(!C){alert("add listener problem, callback incorrect and has no accept function\n"+F);return }var B=C.call(F);if(B.length==1){this.addListenerByType(B[0],F)}else{for(var E=0,A=B.length;E<A;E++){this.addListenerByType(B[E],F)}}if(this.DEBUG){if (Logger.debugEnabled) $D(this.toString()+" Added listener: "+F+" ("+(new Date().getTime()-D)+" ms)")}},removeListener:function(J){var A=new Date().getTime();var C=J["_removeListenerArrays"];if(C&&C.length>0){for(var H=0,E=C.length;H<E;H++){C[H].remove(J)}delete J["_removeListenerArrays"]}var D=J["_removePatternListenerArrays"];if(D&&D.length>0){for(var H=0,E=D.length;H<E;H++){var G=D[H];if(G&&G.length>0){var K=null;for(var I=0,B=G.length;I<B;I++){var F=G[I];if(F[0]==J){K=F;break}}if(K){G.remove(K)}}}}if(this.DEBUG){if (Logger.debugEnabled) $D(this.toString()+" Removed listener: "+J+" ("+(new Date().getTime()-A)+" ms)")}},triggerComplete:function(){this.compileComplete=true;this.runInitQueue();this.startLocalTimer()},triggerConfig:function(){this.configComplete=true;this.runInitQueue()},runInitQueue:function(){if(this.compileComplete&&this.configComplete){this.init=true;if(this.initQueue&&this.initQueue.length>0){for(var A=0;A<this.initQueue.length;A++){this.queue(this.initQueue[A][0],this.initQueue[A][1])}this.initQueue=null}}},queue:function(B,M){if(!$$AU.ServiceBroker.init){if (Logger.debugEnabled) $D(B.type+" will be queued, not yet initialized");this.initQueue.push([B,M]);return }var J=B["type"];if(!J){throw"type must be specified on the message"}J=this.convertType(J);var O=B["scope"]||"appcelerator";var H=B["version"]||"1.0";if(this.interceptors.length>0){var D=true;for(var I=0,G=this.interceptors.length;I<G;I++){var F=this.interceptors[I];var C=F["interceptQueue"];if(C){var P=C.apply(F,[B,M,J,O,H]);if(this.DEBUG){if (Logger.debugEnabled) $D(self.toString()+" Invoked interceptor: "+F+", returned: "+P+" for message: "+J)}if(P!=null&&!P){D=false;break}}}if(!D){if (Logger.debugEnabled) $D(this+" interceptor squashed event: "+B["type"]);return }}var K=J.indexOf(":");var L=K!=-1?J.substring(0,K):"local";var A=K!=-1?J.substring(K+1):J;B["type"]=A;var E=(B["data"])?B["data"]:{};if(Logger.debugEnabled){var N=null;switch(typeof (E)){case"object":case"array":N=Object.toJSON(E);break;default:N=E.toString();break}if (Logger.debugEnabled) $D(this+" message queued: "+A+", data: "+N+", version: "+H+", scope: "+O)}this.localMessageQueue.push([A,E,L,O,H]);if(L=="remote"){if(this.messageQueue){if(!this.devmode&&!this.remoteDisabled){this.queueRemote(B,M,O,H)}}else{$E(this+" message:"+A+" ignored since we don't have a messageQueue!")}}},queueRemote:function(C,D,B,A){this.messageQueue.push([C,D,B,A]);this.startTimer(C["immediate"]||false)},dispatch:function(B){var Q=B.requestid;var M=B.type;var G=B.datatype;var O=B.scope;var F=B.data;if(this.interceptors.length>0){var D=true;for(var L=0,I=this.interceptors.length;L<I;L++){var H=this.interceptors[L];var C=H["interceptDispatch"];if(C){var P=C.apply(H,[Q,M,B,G,O]);if(P!=null&&!P){D=false;break}}}if(!D){return }}var E=$$AU.Performance.logStats?$$AU.Performance.createStat():null;var J=this.remoteDirectListeners[M];if(J&&J.length>0){for(var L=0,I=J.length;L<I;L++){this.sendToListener(J[L],M,F,G,"remote",O)}}if(this.remotePatternListeners.length>0){for(var L=0,I=this.remotePatternListeners.length;L<I;L++){var N=this.remotePatternListeners[L];var A=N[0];var K=N[1];if(K.test(M)){this.sendToListener(A,M,F,G,"remote",O)}}}if($$AU.Performance.logStats){$$AU.Performance.endStat(E,M,"remote")}},sendToListener:function(C,K,B,F,L,M){if(this.interceptors.length>0){var E=true;for(var J=0,H=this.interceptors.length;J<H;J++){var G=this.interceptors[J];var D=G.interceptSendToListener;if(D){var N=D.apply(G,[C,K,B,F,L,M]);if(N!=null&&!N){E=false;break}}}if(!E){return }}var A=C.acceptScope;if(A){if(!A(M)){return }}if (Logger.debugEnabled) $D(this.toString()+" forwarding "+K+" to "+C+", direction:"+L+", datatype:"+F+", data: "+B);try{C.onMessage.apply(C,[K,B,F,L,M])}catch(I){$E("Unhandled Exception dispatching:"+K+", "+B+", to listener:"+C+", "+Object.getExceptionDetail(I))}return true},flush:function(){this.deliver(false,true)},deliver:function(D,B){if(this.messageQueue==null){$E(this.toString()+", deliver called but no message queue");return }if(this.remoteDisabled){return }var F=$$AU.ServiceBrokerMarshaller[this.marshaller];if(!F){$E(this+" - no marshaller defined, will not send message to remote endpoint");this.remoteDisabled=true;return }var G=$$AU.ServiceBrokerTransportHandler[this.transport];if(!G){$E(this+" - no transport handler defined, will not send message to remote endpoint");this.remoteDisabled=true;return }this.fetching=true;var K=F.serialize(this.messageQueue,this.multiplex);var I=K.postBody;var J=K.contentType;var H=G.prepare(this,D,I,J);if(this.multiplex){this.messageQueue.clear()}else{if(this.messageQueue.length>0){this.messageQueue.removeAt(0)}}var C=H.url;var A=H.method;var E=H.postBody;var J=H.contentType;this.sendRequest(C,A,E,J,F,G,B);if(!this.multiplex&&this.messageQueue.length>0){this.deliver.defer()}},sendRequest:function(C,A,G,I,E,F,H,B){H=(H||0)+1;if(H>3){$E("failed to send request too many times to "+C);return }var J=this;var D=false;new Ajax.Request(C,{asynchronous:!B,method:A,postBody:G,contentType:I,evalJSON:false,evalJS:false,onComplete:function(){J.fetching=false},onSuccess:function(K){(function(){J.fetching=false;J.startTimer(false);if(K&&K.status&&K.status>=200&&K.status<300){if(J.serverDown){J.serverDown=false;var M=new Date().getTime()-J.serverDownStarted;if(Logger.infoEnabled){Logger.info("["+$$AU.DateTime.get12HourTime(new Date(),true,true)+"] "+J.toString()+" Server is UP at "+J.serverPath)}J.queue({type:"local:appcelerator.servicebroker.server.up",data:{path:this.serverPath,downtime:M}})}var L=parseInt(K.getResponseHeader("Content-Length")||"1");var P=K.getResponseHeader("Content-Type")||"unknown";if(L>0){var N=E.deserialize(K,parseInt(L),P);if(N&&N.length>0){for(var O=0;O<N.length;O++){J.localMessageQueue.push([N[O].type,N[O].data,"remote",N[O].scope,N[O].version||"1.0"])}}}}}).defer()},onFailure:function(N,L){if(N.status==400){if(D){J.queue({type:"l:appcelerator.servicebroker.failed",data:{}});Logger.warn("Failed authentication");return }else{D=true;var K=F.prepare(J,false,G,I);var M=K.url;J.sendRequest(M,A,G,I,E,F,H+1);return }}if(N.status==406){J.sendRequest(C,A,G,I,E,H);return }J.fetching=false;if(N.status>=500||N.status==404){J.serverDown=true;J.serverDownStarted=new Date().getTime();Logger.warn(J.toString()+" Server is DOWN at "+J.serverPath);J.queue({type:"local:appcelerator.servicebroker.server.down",data:{path:J.serverPath}})}else{$E(J.toString()+" Failure: "+N.status+" "+N.statusText)}J.startTimer(false)},onException:function(O,K){var N=new String(K);var L=true;var M=true;J.fetching=false;if(N.indexOf("NS_ERROR_NOT_AVAILABLE")!=-1&&N.indexOf("nsIXMLHttpRequest.status")!=-1){L=false}if(N.indexOf("NS_ERROR_FILE_NOT_FOUND")!=-1){M=false}if(L){$E(J.toString()+" Exception: "+N)}if(M){J.startTimer(false)}}})},destroy:function(){this.cancelTimer();this.cancelLocalTimer();if(this.messageQueue){this.messageQueue.clear()}if(this.localMessageQueue){this.localMessageQueue.clear()}this.messageQueue=null;this.time=null;if(this.localDirectListeners){for(var B in this.localDirectListeners){var A=this.localDirectListeners[B];if(Object.isArray(A)){A.clear()}}this.localDirectListeners=null}if(this.remoteDirectListeners){for(var B in this.remoteDirectListeners){var A=this.remoteDirectListeners[B];if(Object.isArray(A)){A.clear()}}this.remoteDirectListeners=null}if(this.localPatternListeners){this.localPatternListeners.clear()}this.localPatternListeners=null;if(this.remotePatternListeners){this.remotePatternListeners.clear()}this.remotePatternListeners=null},cancelLocalTimer:function(){if(this.locaTimer){clearInterval(this.locaTimer);this.locaTimer=0}},cancelTimer:function(){if(this.timer){clearTimeout(this.timer);this.timer=0}},onServiceBrokerInvalidContentType:function(A){if(Logger.fatalEnabled){Logger.fatal(this+", received an invalid content type ("+(A||"none")+"), probably need to re-login, redirecting to landing page")}},onServiceBrokerInvalidLogin:function(){if(Logger.fatalEnabled){Logger.fatal(this+", received an invalid credentials, probably need to re-login, redirecting to landing page")}},startLocalTimer:function(){this.localTimer=setInterval(function(){var F=this.localMessageQueue;if(F&&F.length>0){var O=F[0];var A=O[0];var D=O[1];var L=O[2];var N=O[3];var H=O[4];var E=$$AU.Performance.logStats?$$AU.Performance.createStat():null;switch(L){case"remote":var C=this.remoteDirectListeners[A];var M=this.remotePatternListeners;if(C){for(var J=0,G=C.length;J<G;J++){this.sendToListener(C[J],A,D,"JSON",L,N,H)}}if(M){for(var J=0,G=M.length;J<G;J++){var K=M[J];var B=K[0];var I=K[1];if(I.test(A)){this.sendToListener(B,A,D,"JSON",L,N,H)}}}break;case"local":C=this.localDirectListeners[A];M=this.localPatternListeners;if(C){for(var J=0,G=C.length;J<G;J++){this.sendToListener(C[J],A,D,"JSON",L,N,H)}}if(M){for(var J=0,G=M.length;J<G;J++){var K=M[J];var B=K[0];var I=K[1];if(I.test(A)){this.sendToListener(B,A,D,"JSON",L,N,H)}}}break}if($$AU.Performance.logStats){$$AU.Performance.endStat(E,A,L)}F.remove(O)}}.bind(this),this.localTimerPoll)},startTimer:function(D){if(!this.init){if (Logger.debugEnabled) $D(this.toString()+" - startTimer called but not running yet");return }if(this.disabled){return }this.cancelTimer();if(this.messageQueue){if(!this.poll){if(this.messageQueue.length>0&&!this.fetching){this.emptyQueueHits=0;this.deliver(true);return }return }if(D&&!this.fetching){this.emptyQueueHits=0;this.deliver(D);return }var B=new Date().getTime();if(this.time){if(this.messageQueue.length>0&&B-this.time>=150&&!this.fetching){this.emptyQueueHits=0;this.deliver(false);return }}this.time=B;var A=this;var C=this.downServerPoll;if(!this.serverDown){if(this.messageQueue.length>1){C=this.moreThanOneEntryQueuePoll;this.emptyQueueHits=0}else{if(this.messageQueue.length>0){C=this.oneEntryQueuePoll;this.emptyQueueHits=0}else{C=Math.min(this.emptyQueuePollMax,this.emptyQueuePoll+(this.emptyQueueHits*this.emptyQueueDecay));this.emptyQueueHits++}}}this.timer=setTimeout(function(){if(!A.fetching){A.deliver(false)}},C)}else{$E(toString()+" startTimer called and we have no message queue")}},maxWaitPollTime:200,maxWaitPollTimeWhenSending:0,moreThanOneEntryQueuePoll:50,oneEntryQueuePoll:200,emptyQueuePoll:2000,emptyQueuePollMax:30000,emptyQueueDecay:500,emptyQueueHits:0,downServerPoll:10000};function $MQ(C,D,B,A){$$AU.ServiceBroker.queue({type:C,data:D||{},scope:B,version:A||"1.0"})}function $MQL(B,E,D,A){var C={accept:function(){if(Object.isArray(B)){return B}return[B]},acceptScope:function(F){if(D){return D=="*"||F==D}return true},onMessage:function(H,J,G,K,F){try{E.apply(E,[H,J,G,K,F])}catch(I){$$AC.handleElementException(A,I,"service broker handling => "+K+":"+H+" ("+Object.toJSON(J)+"), tried invoking function:"+E)}}};$$AU.ServiceBroker.addListener(C);if(A){$$AC.addTrash(A,function(){$$AU.ServiceBroker.removeListener(C)})}return C}if(APPCELERATOR_DEBUG_LEVEL=="2"){$MQL("*:~.*",function(C,D,B,E,A){Logger.info("Message Type: "+E+":"+C+"\nMessage Data: "+Object.toJSON(D))})}$$AU.ServiceBrokerMarshaller={};$$AU.ServiceBrokerMarshaller["xml/json"]={currentRequestId:1,jsonify:function(G){var E=this.currentRequestId++;var D=G[2];var A=G[3];var C="JSON";var F=G[0]["data"];var B="<message requestid='"+E+"' type='"+G[0]["type"]+"' datatype='"+C+"' scope='"+D+"' version='"+A+"'>";B+="<![CDATA["+Object.toJSON(F)+"]]>";B+="</message>";return B},serialize:function(I,A){var D=null;if(I.length>0){D="";var B=new Date();var G=B.getTime();D="<?xml version='1.0' encoding='UTF-8'?>\n";var C=B.getTimezoneOffset()/60;var E=$$AU.IdleManager.getIdleTimeInMS();D+="<request version='1.0' idle='"+E+"' timestamp='"+G+"' tz='"+C+"'>\n";if(A){for(var H=0,F=I.length;H<F;H++){D+=this.jsonify(I[H])}}else{D+=this.jsonify(I[0])}D+="</request>"}return{"postBody":D,"contentType":"text/xml"}},deserialize:function(D,B,L){if(D.status==202){return null}if(L.indexOf("text/xml")==-1&&L.indexOf("application/xml")==-1){$E(this+", invalid content type: "+L+", expected: text/xml or application/xml");return null}var G=D.responseXML;if(!G){return null}var C=G.documentElement.childNodes;var K=null;if(C&&C.length>0){K=[];for(var J=0;J<C.length;J++){var A=C.item(J);if(A.nodeType==$$AU.Dom.ELEMENT_NODE){var O=A.getAttribute("requestid");try{var I=A.getAttribute("type");var F=A.getAttribute("datatype");var N=A.getAttribute("scope")||"appcelerator";var E,M;try{M=$$AU.Dom.getText(A);E=M.evalJSON();E.toString=function(){return Object.toJSON(this)}}catch(H){$E("Error received evaluating: "+M+" for type: "+I+", error: "+Object.getExceptionDetail(H));return }if (Logger.debugEnabled) $D(this.toString()+" received remote message, type:"+I+",data:"+E);K.push({type:I,data:E,datatype:F,scope:N,requestid:O})}catch(H){$E(this+" - Error in dispatch of message. "+Object.getExceptionDetail(H))}}}}return K}};$$AU.ServiceBrokerMarshaller["application/json"]={prepareMsg:function(B){var A={};A["type"]=B[0]["type"];A["scope"]=B[2];A["version"]=B[3];A["data"]=B[0]["data"];return A},serialize:function(D,C){var B={};if(D.length>0){var E={};var F=new Date();B["timestamp"]=F.getTime()+(F.getTimezoneOffset()*60*1000);B["version"]="1.0";B["messages"]=[];if(C){for(var G=0,A=D.length;G<A;G++){B["messages"].push(this.prepareMsg(D[G]))}}else{B["messages"].push(this.prepareMsg(D[0]))}}return{"postBody":Object.toJSON(B),"contentType":"application/json"}},deserialize:function(B,A,J){if(B.status==202){return null}if(J.indexOf("application/json")==-1){$E(this+", invalid content type: "+J+", expected: application/json");return null}var M=B.responseText.evalJSON();var C=M["messages"];var I=[];for(var H=0;H<C.length;H++){try{var L=C[H];var G=L["type"];var E=L["datatype"];var K=L["scope"]||"appcelerator";var D=L["data"];L["datatype"]="JSON";if (Logger.debugEnabled) $D(this.toString()+" received remote message, type:"+G+",data:"+D);I.push({type:G,data:D,datatype:E,scope:K})}catch(F){$E(this+" - Error in dispatch of message. "+Object.getExceptionDetail(F))}}return I}};function jsonParameterEncode(A,B,E){switch(typeof (B)){case"string":case"number":case"boolean":E.push(A+"="+encodeURIComponent(B));break;case"array":case"object":if(Object.isArray(B)){for(var D=0;D<B.length;D++){jsonParameterEncode(A+"."+D,B[D],E)}}else{for(var C in B){jsonParameterEncode(A+"."+C,B[C],E)}}break;case"function":break;default:E.push(encodeURIComponent(A)+"=");break}}function jsonToQueryParams(B){var C=[];for(var A in B){var D=B[A];jsonParameterEncode(A,D,C)}return C.join("&")}function json_encode_xml(C,A){var E={};var D=A[C.nodeName];if(D){if(Object.isArray(D)){D.push(E)}else{A[C.nodeName]=[D,E]}}else{A[C.nodeName]=E}$$AU.Dom.eachAttribute(C,function(G,H){E[G]=H});var B=false;$$AU.Dom.each(C.childNodes,$$AU.Dom.ELEMENT_NODE,function(G){json_encode_xml(G,E);B=true});if(!B){var F=$$AU.Dom.getText(C);A[C.nodeName]=F}}$$AU.ServiceBrokerMarshaller["application/x-www-form-urlencoded"]={currentRequestId:1,parameterize:function(G){var D=this.currentRequestId++;var C=G[2];var A=G[3];var B="JSON";var E=G[0]["data"];var F="$messagetype="+G[0]["type"]+"&$requestid="+D+"&$datatype="+B+"&$scope="+C+"&$version="+A;if(E){F+="&"+jsonToQueryParams(E)}return F},serialize:function(D,C){var B=null;if(D.length>0){B="";if(C){for(var E=0,A=D.length;E<A;E++){B+=this.parameterize(D[E])}}else{B+=this.parameterize(D[0])}}return{"postBody":B,"contentType":"application/x-www-form-urlencoded"}},deserialize:function(A,B,C){if(A.status==202){return null}if(C.indexOf("/json")==-1){$E(this+", invalid content type: "+C+", expected json mimetype");return null}return A.responseText.evalJSON(true)}};$$AU.ServiceBrokerTransportHandler={};$$AU.ServiceBrokerTransportHandler["appcelerator"]={prepare:function(G,C,F,I){var E=Appcelerator.ServerConfig["sessionid"].value||"JSESSIONID";var H=$$AU.Cookie.GetCookie(E);var D=(H)?$$AU.MD5.hex_md5(H+G.instanceid):"";var J="?maxwait="+((!C&&F)?G.maxWaitPollTime:G.maxWaitPollTimeWhenSending)+"&instanceid="+G.instanceid+"&auth="+D+"&ts="+new Date().getTime();var B=G.serverPath+J;var A=F?"post":"get";return{"url":B,"method":A,"postBody":F||"","contentType":I}}};$$AU.ServiceBrokerInterceptor=Class.create();Object.extend($$AU.ServiceBrokerInterceptor.prototype,{initialize:function(){},toString:function(){return"[$$AU.ServiceBrokerInterceptor]"},interceptQueue:function(A,B){return true},interceptDispatch:function(C,B,D,A){return true},interceptSendToListener:function(C,B,D,A){return true}});if($$AU.ServiceBroker.disabled||$$AU.ServiceBroker.remoteDisabled){$$AU.ServiceBroker.triggerConfig();Logger.warn("[ServiceBroker] remote delivery of messages is disabled")}else{$$AU.ServerConfig.addConfigListener(function(){var A=Appcelerator.ServerConfig["servicebroker"];if(!A||A["disabled"]=="true"){$$AU.ServiceBroker.disabled=true;$$AU.ServiceBroker.remoteDisabled=true;$$AU.ServiceBroker.triggerConfig();Logger.warn("[ServiceBroker] remote delivery of messages is disabled");return }$$AU.ServiceBroker.serverPath=A.value;$$AU.ServiceBroker.poll=(A.poll=="true");$$AU.ServiceBroker.multiplex=A.multiplex?(A.multiplex=="true"):true;$$AU.ServiceBroker.transport=A.transport||$$AU.ServiceBroker.transport;$$AU.ServiceBroker.marshaller=A.marshaller||$$AU.ServiceBroker.marshaller;var C=Appcelerator.ServerConfig["sessionid"].value||"unknown_cookie_name";var B=$$AU.Cookie.GetCookie(C);if(!B){new Ajax.Request($$AU.ServiceBroker.serverPath+"?initial=1",{asynchronous:true,method:"get",evalJSON:false,evalJS:false,onSuccess:function(D){$$AU.ServiceBroker.triggerConfig();$$AU.ServiceBroker.startTimer();Logger.info("ServiceBroker ready")}});return }$$AU.ServiceBroker.triggerConfig();$$AU.ServiceBroker.startTimer();Logger.info("ServiceBroker ready")})}$$AR.onunload($$AU.ServiceBroker.destroy.bind($$AU.ServiceBroker));$$AC.afterDocumentCompile(function(){$$AU.ServiceBroker.triggerComplete()});$$AU.Performance=Class.create();$$AU.Performance={logStats:(window.location.href.indexOf("logStats=1")>0),stats:$H({}),createStat:function(){if(this.logStats){return new Date()}},endStat:function(H,C,D,E){if(this.logStats){var G=C;if(D){G=G+"."+D}else{D=""}var A=new Date();var B=this.stats.get(G);var F=(A.getTime()-H.getTime());if(!B){var B={"type":C,"category":D,"hits":0,"mean":0,"min":F,"max":F,"total":0};this.stats.set(G,B)}B.hits++;B.last=F;B.total+=F;B.mean=B.total/B.hits;B.max=(B.last>B.max?B.last:B.max);B.min=(B.last<B.min?B.last:B.min);Logger.info("stats: "+C+" last:"+B.last+"ms mean:"+B.mean+"ms hits:"+B.hits+" min:"+B.min+"ms max:"+B.max+"ms total:"+B.total+"ms")}},reset:function(C,A,B){this.stats=$H({})}};$MQL("l:get.performance.request",function(B,C,A,D){$MQ("l:get.performance.response",{"stats":$$AU.Performance.stats.values()})});$MQL("l:reset.performance.request",function(B,C,A,D){$$AU.Performance.reset()});Appcelerator.Types={};Appcelerator.Types.enumeration=function(){var A="^("+$A(arguments).join(")|(")+")$";return{name:"Enumeration",values:$A(arguments),regex:RegExp(A)}};Appcelerator.Types.openEnumeration=function(){var A="^("+$A(arguments).join(")|(")+")|(.*)$";return{name:"Enumeration",values:$A(arguments),regex:RegExp(A)}};Appcelerator.Types.pattern=function(B,A){A=A||"pattern";return{name:A,regex:B}};Appcelerator.Types.bool=Appcelerator.Types.enumeration("true","false");Appcelerator.Types.bool.name="Boolean";Appcelerator.Types.number=Appcelerator.Types.pattern(/^-?[0-9]+(\.[0-9]+)$/,"Number");Appcelerator.Types.naturalNumber=Appcelerator.Types.pattern(/[0-9]+/,"Natural Number");Appcelerator.Types.cssDimension=Appcelerator.Types.pattern(/^-?[0-9]+(\.[0-9]+)(%|(em)|(en)|(px)|(pc)|(pt))?$/,"CSS Dimension");Appcelerator.Types.identifier=Appcelerator.Types.pattern(/^[a-zA-Z_][a-zA-Z0-9_.]*$/,"Identifier");Appcelerator.Types.messageSend=Appcelerator.Types.pattern(/^((l:)|(r:)|(local:)|(remote:))[a-zA-Z0-9_.]+/,"Appcelerator Message Send");Appcelerator.Types.messageReceive=Appcelerator.Types.pattern(/^((l:)|(r:)|(local:)|(remote:))((~.+)|([a-zA-Z0-9_.]+))/,"Appcelerator Message Reception");Appcelerator.Types.onExpr={name:"On Expression"};Appcelerator.Types.fieldset={name:"Fieldset"};Appcelerator.Types.json={name:"JSON Object"};Appcelerator.Types.javascriptExpr={name:"Javascript Expression"};Appcelerator.Types.pathOrUrl={name:"Path or url to resource"};Appcelerator.Types.cssClass={name:"CSS Class name"};Appcelerator.Types.color={name:"Color value"};Appcelerator.Types.time={name:"Time value"};Appcelerator.Types.elementId={name:"Element Id"};Appcelerator.Types.commaSeparated={name:"Comma Separated Values"};Appcelerator.Types.languageId={name:"Localization String Id"};Appcelerator.Types.isInstance=function(C,A){if(A.regex){return A.regex.match(C)}switch(A){case Appcelerator.Types.onExpr:try{var B=$$AC.parseExpression(C);return B&&B.length>0}catch(D){return false}case Appcelerator.Types.time:return C&&!isNaN($$AU.DateTime.timeFormat(C));case Appcelerator.Types.fieldset:return true;default:return true}};Appcelerator.Types.getTypeId=function(A){try{return $H(Appcelerator.Types).find(function(C){return C[1]==A})[0]}catch(B){return null}};$$AC.registerCustomAction("show",{execute:function(E,B,D){if(D&&D.length>0){var C=D[0];var A=C.key;Element.show(A)}else{Element.show(E)}}});$$AC.registerCustomAction("hide",{execute:function(G,D,E){if(E&&E.length>0){var A=false;var B=null;for(var F=0;F<E.length;F++){if(E[F].key=="optional"){A=E[F].value;continue}if(E[F].key=="id"){B=E[F].value;continue}if(!B){B=E[F].key}}if(!B&&!A){throw"no key specified for hide action"}var C=$el(B);if(!C&&!A){throw"no element with id: "+B+" found for hide action"}if(C){Element.hide(C)}}else{Element.hide(G)}}});$$AC.registerCustomAction("visible",{execute:function(E,B,D){if(D&&D.length>0){var C=D[0];var A=C.key;Element.setStyle(A,{visibility:"visible"})}else{Element.setStyle(E,{visibility:"visible"})}}});$$AC.registerCustomAction("hidden",{execute:function(E,B,D){if(D&&D.length>0){var C=D[0];var A=C.key;Element.setStyle(A,{visibility:"hidden"})}else{Element.setStyle(E,{visibility:"hidden"})}}});$$AC.effects=$H(Effect).select(function(C){var B=C[0];var D=C[1];var A=B.charAt(0).toLowerCase()+B.substring(1);return Effect.Methods[A]||D.superclass==Effect.Base}).pluck("0");$$AC.effects.push("ScrollTo");$$AC.customEffects={};$$AC.registerCustomEffect=function(A,B){$$AC.customEffects[A]=B};$$AC.getMoveByOpts=function(C){var A=$$AC.findParameter(C,"x");A=(A==null)?0:A;var D=$$AC.findParameter(C,"y");D=(D==null)?0:D;var B=$$AC.findParameter(C,"duration");B=(B==null)?2:B;return{"x":A,"y":D,"duration":B}};$$AC.registerCustomEffect("Bounce",function(B,A){opts=$$AC.getMoveByOpts(A);new Effect.MoveBy($el(B),opts["x"],opts["y"],{duration:opts["duration"],transition:Effect.Transitions.SwingTo})});$$AC.registerCustomEffect("Bang",function(B,A){opts=$$AC.getMoveByOpts(A);new Effect.MoveBy($el(B),opts["x"],opts["y"],{duration:opts["duration"],transition:Effect.Transitions.Bounce})});$$AC.registerCustomAction("effect",{metadata:{requiresParameters:true,shorthandParameters:true,optionalParameterKeys:$$AC.effects,description:"Invokes a visual effect on this element"},execute:function(id,action,params){if(params&&params.length>0){var arg1=params[0].key.split(",");var effectName=arg1[0];effectName=effectName.dasherize().camelize();effectName=effectName.charAt(0).toUpperCase()+effectName.substring(1);var options={};var target=id;if(params.length>1){for(var c=1;c<params.length;c++){if(params[c].key=="id"){target=params[c].value;options["id"]=target}else{if(params[c].key=="transition"){var t=params[c].value;if(!t.startsWith("Effect.Transitions.")){var error=false;var x=0;while(x<1){x=1;eval("try { "+t+"; error = false;} catch(e) { error = true; }");if(error){t="Effect.Transitions."+t}else{break}}}var f=Object.evalWithinScope(t,{});if(Object.isFunction(f)){options[params[c].key]=f}}else{options[params[c].key]=params[c].value}}}}if($$AC.customEffects[effectName]){var f=$$AC.customEffects[effectName];f(id,options)}else{if($$AC.effects.indexOf(effectName)!=-1){Element.visualEffect(target,effectName,options)}else{throw"syntax error: unsupported effect type: "+effectName}}}else{throw"syntax error: effect action must have parameters."}}});$$AC.registerCustomAction("toggle",{metadata:{requiresParameters:true,description:"Toggles a CSS property, CSS Class, or boolean attribute on this element"},execute:function(A,E,D){if(D&&D.length>0){var F=D[0];var J=F.key;var C=F.value;var B=null;if(J=="class"){if(Element.hasClassName(A,C)){Element.removeClassName(A,C)}else{Element.addClassName(A,C)}}else{if($$AC.isCSSAttribute(J)){J=$$AC.convertCSSAttribute(J);switch(J){case"display":case"visibility":var G="";if(!C){C=(J=="display")?"block":"visible"}switch(C){case"inline":G="none";break;case"block":G="none";break;case"none":G="block";break;case"hidden":G="visible";break;case"visible":G="hidden";break}var H=Element.getStyle(A,J);var D={};if(H!=G){D[J]=G}else{D[J]=C}Element.setStyle(A,D);break;default:var H=Element.getStyle(A,J);var D={};if(H){D[J]=""}else{D[J]=C}Element.setStyle(A,D);break}}else{var H=$el(A);if(!H){throw"no element with ID: "+A}var I=H.getAttribute(J);if(I){H.removeAttribute(J)}else{H.setAttribute(J,C)}}}}else{throw"syntax error: toggle action must have parameters"}}});$$AC.generateSetter=function(B,A){if(A){return $$AC.getEvaluatedValue(B,A.data||{})}else{return $$AC.getEvaluatedValue(B,{})}};$$AC.findTargetFromParams=function(E,C){var B=E;if(C&&C.length>0){for(var D=0;D<C.length;D++){var A=C[D];if(A.key=="id"){B=A.value;break}}}return $el(B)};(function(){var A=function(B,E,D,N){if(D.length==0){throw"syntax error: expected parameter key:value for action: "+E}var K=null;var I=$$AC.findTargetFromParams(B,D);for(var J=0;J<D.length;J++){var G=D[J];var M=G.key;if(!Object.isString(M)){continue}var L=G.value;if($$AC.isCSSAttribute(M)){M=$$AC.convertCSSAttribute(M);if(!K){K={}}K[M]=$$AC.generateSetter(L,N);continue}else{if(M=="class"){if(E=="set"){$el(I).className=$$AC.generateSetter(L,N)}Element.addClassName(B,$$AC.generateSetter(L,N))}else{if(M.startsWith("style")){$el(I)[M]=$$AC.generateSetter(L,N)}else{var H=$el(I);if(!H){throw"syntax error: element with ID: "+I+" doesn't exist"}if(H.nodeName=="IFRAME"&&M=="src"){var C=H.getAttribute("onloaded");if(C){$$AU.IFrame.monitor(H,function(){$MQ(C,{},H.scope)})}}if(H[M]!=null){switch(M){case"checked":case"selected":case"disabled":case"defaultChecked":var L=$$AC.generateSetter(L,N);if(L){H.setAttribute(M,L)}else{H.removeAttribute(M)}break;default:var F=$$AB.isOpera&&H.nodeName=="IFRAME"&&M=="src";if(F){H.location.href=$$AC.generateSetter(L,N)}else{H[M]=$$AC.generateSetter(L,N)}}}else{H.setAttribute(M,$$AC.generateSetter(L,N))}}}}}if(K){Element.setStyle(I,K)}};$$AC.registerCustomAction("add",{metadata:{description:"Add a CSS property or attribute on this element"},execute:A});$$AC.registerCustomAction("set",{metadata:{description:"Set a CSS property or attribute on this element"},execute:A})})();$$AC.registerCustomAction("remove",{execute:function(H,D,F){if(F.length==0){throw"syntax error: expected parameter for action: "+D}var E=$$AC.findTargetFromParams(H,F);var B=null;var C=null;var A=false;for(var G=0;G<F.length;G++){if(F[G].key=="id"){continue}if(F[G].key=="optional"){A=F[G].value;continue}if(!B){B=F[G].key;C=F[G].value}}if(!B&&!A){throw"couldn't find key to remove"}if(B){switch(B){case"class":Element.removeClassName(E,$$AC.formatValue(C,false));break;default:E.removeAttribute(B)}}}});$$AC.registerCustomAction("statechange",{metadata:{requiresParameters:true},execute:function(D,B,C){if(C.length==0){throw"syntax error: expected parameters in format 'statechange[statemachine=state]'"}var A=C.map(function(G){var E=G.key;var F=G.value;$$AC.StateMachine.fireStateMachineChange(E,F,true,true,false)})}});(function(){var scriptBuilderAction={metadata:{requiresParameters:true,description:"Executes a line of javascript"},parseParameters:function(id,action,params){return params},execute:function(id,action,params,scope){var f=function(){eval(params)}.bind(scope);f()}};$$AC.registerCustomAction("javascript",scriptBuilderAction);$$AC.registerCustomAction("function",scriptBuilderAction);$$AC.registerCustomAction("script",scriptBuilderAction)})();$$AC.findParameter=function(C,A){if(C){if(C[A]){return C[A]}else{if(C.length>0){for(var D=0;D<C.length;D++){var B=C[D];if(B.key==A){return B.value}}}}}return null};$$AC.registerCustomAction("selectOption",{execute:function(A,D,C,K){if(C.length==0){throw"syntax error: expected parameter property for action: "+D}var I=$el(A);if(!I.options){throw"syntax error: selectOption must apply to a select tag"}var J=C[0].key;var B=C[0].value||J;if(B=="$null"){B=""}var H=Object.getNestedProperty(K.data,J,B);var F=$el(A);var G=Object.isArray(H);F.selectedIndex=-1;for(var E=0;E<F.options.length;E++){if(G){F.options[E].selected=H.include(F.options[E].value)}else{if(F.options[E].value==H){F.selectedIndex=E;break}}}$$AC.executeFunction(F,"revalidate")}});var ResetAction={execute:function(A,E,D){var H=$$AC.findParameter(D,"id")||A;var G=$el(H);var B=false;var C=null;var G=$el(H);var F="";var I="";switch($$AC.getTagname(G)){case"input":case"textarea":G.value=I;B=true;break;case"select":G.selectedIndex=0;B=true;break;case"img":G.src="";break;case"a":G.href="#";break;case"form":Form.reset(H);Form.Methods.getInputs(H).each(function(J){$$AC.executeFunction(J,"revalidate")});return ;default:G.update(I);return }if(B){$$AC.executeFunction(G,B)}}};$$AC.registerCustomAction("clear",ResetAction);$$AC.registerCustomAction("reset",ResetAction);var ResetFormAction={execute:function(G,D,F){var E=$$AC.findParameter(F,"id")||G;var A=$el(E);var C=null;var B=null;switch($$AC.getTagname(A)){case"form":$el(E).reset();break;case"input":case"select":case"textarea":default:$el(E).form.reset();break}}};$$AC.registerCustomAction("clearform",ResetFormAction);$$AC.registerCustomAction("value",{metadata:{requiresParameters:true,requiredParameterKeys:["value"],optionalParameterKeys:["text","append","id","property"],description:"Sets the value of the current element with data from the message payload"},execute:function(U,X,g,C){var E=$$AC.findTargetFromParams(U,g);var F=null;var a=false;var D=false;var i=null;var V=null;if(g){for(var d=0,Z=g.length;d<Z;d++){var L=g[d];switch(L.key){case"append":a=true;break;case"value":F=L.value;break;default:i=L.key;V=L.value;if(L.empty){if(i.startsWith("'")&&i.endsWith("'")){V=$$AC.dequote(L.key);V=null}}}}}if(!i&&!F){i=g[0].key;V=g[0].value}if(!F){if(!V&&i&&i.startsWith("'")&&i.endsWith("'")){F=$$AC.dequote(i)}else{if(!V){F=Object.getNestedProperty(C,i)}else{if(V){if(typeof (V)=="object"){F=Object.getNestedProperty(V,i)}else{F=V}}}}}var Q="";var Y="";var S="";var M=false;switch($$AC.getTagname(E)){case"input":M=true;var G=E.getAttribute("type")||"text";switch(G){case"password":case"hidden":case"text":Y="value";break;case"checkbox":Y="checked";a=false;S="==true || "+F+"=='true'";break;case"button":case"submit":Y="value";break}break;case"textarea":M=true;Y="value";break;case"select":var B="";var K=$$AC.findParameter(g,"property");var J=$$AC.findParameter(g,"row");var V=$$AC.findParameter(g,"value");var R=$$AC.findParameter(g,"text");if(!K){throw"required parameter named 'property' not found in value parameter list"}if(!V){throw"required parameter named 'value' not found in value parameter list"}if(!R){R=V}if(!a){E.options.length=0}var T=$$AC.generateSetter(K,C);if(T){for(var d=0;d<T.length;d++){if(J){var O=Object.getNestedProperty(T[d],J)}else{var O=T[d]}if(O){E.options[E.options.length]=new Option(Object.getNestedProperty(O,R),Object.getNestedProperty(O,V))}}}$$AC.executeFunction(E,"revalidate");return ;case"div":case"span":case"p":case"a":case"h1":case"h2":case"h3":case"h4":case"h5":case"td":case"code":case"li":case"blockquote":Y="innerHTML";break;case"img":case"iframe":a=false;Y="src";break;case"form":var P=U+"_no_submit";if(!$el(P)){var H=document.createElement("input");H.id=P;H.type="text";H.style.display="none";H.name="no_submit_guarantee";E.appendChild(H)}D=true;var W="value["+i+"]";var b=this.findMatchingFormClause(E,W);var N=E.descendants();for(var d=0;d<N.length;d++){var I=N[d];$$AC.getAndEnsureId(I);var A;switch($$AC.getTagname(I)){case"select":case"textarea":case"input":A=I.getAttribute("name")||I.id||"";break;default:A=I.getAttribute("name")||""}if(A){var X="value["+i+"."+A+"]";$$AC.handleCondition.call(this,[I,true,X,C,null,null])}}break;default:throw"syntax error: "+E.nodeName+" not supported for value action"}if(!D){if(a){var h=E[Y];E[Y]=h+F+S}else{E[Y]=F+S}if(M){$$AC.executeFunction(E,"revalidate")}}},findMatchingFormClause:function(B,D){var C=$$AC.parseExpression(B.getAttribute("on"));for(var A=0;A<C.length;A++){var E=C[A][2];if(E==D){return C[A]}}return[]}});$$AC.registerCustomAction("bind",{metadata:{requiresParameters:false,description:"Sets the value to all elements with the same fieldset to the data from the payload"},parseParameters:function(D,B,C,A){return C},execute:function(G,F,E,D){var C=$el(G);var A=C.getAttribute("fieldset");if(!A||A==""){throw"syntax error: element has no field set attribute "+C}var B=E;$$AC.updateFieldsetValues(A,D.data,B)}});$$AC.executeActionFunction=function(H,G,F,B,A){var E=$$AC.findParameter(F,"id")||H;if(B){try{var D=$el(E);if(D&&!D.disabled&&Element.showing(D)){$$AC.executeFunction(E,G,[E,G,A.data,A.scope,A.version,F,A.direction,A.type])}}catch(C){}}else{A=(!A)?{}:A;$$AC.executeFunction(E,G,[E,G,A.data,A.scope,A.version,F,A.direction,A.type])}};var GenericActionFunction=Class.create();Object.extend(GenericActionFunction.prototype,{initialize:function(A,B){this.checkenabled=A;this.widgetAction=!!B},execute:function(D,B,C,A){$$AC.executeActionFunction(D,B,C,this.checkenabled,A)}});$$AC.GenericFunctions=[["execute",false],["enable",false],["disable",false],["focus",true],["blur",true],["select",false],["selected",false],["unselect",false],["click",false],["submit",false]];for(var c=0,len=$$AC.GenericFunctions.length;c<len;c++){var gf=$$AC.GenericFunctions[c];var f=new GenericActionFunction(gf[1]);$$AC.registerCustomAction(gf[0],f)}$$AC.buildCustomAction=function(A){var C=$$AC.customActions[A];if(!C){var B=new GenericActionFunction(false,true);$$AC.registerCustomAction(A,B)}};$$AC.buildCustomElementAction=function(A,B,D){var C=new GenericActionFunction(false,true);$$AC.registerCustomAction(A,C,B);$$AC.attachFunction(B.id,A,D)};$$AC.registerCustomAction("history",{execute:function(E,B,D){if(D&&D.length>0){var C=D[0];var A=C.key;Appcelerator.History.go(A)}else{throw"required parameter for history action"}}});Object.extend(Array.prototype,{remove:function(C){var A=[];for(var B=0;B<this.length;B++){if(this[B]!=C){A.push(this[B])}}this.clear();for(var B=0;B<A.length;B++){this.push(A[B])}return A}});$$AC.registerCustomCondition({conditionNames:["dragstart","drag","dragend","dragover","drop"],description:"Respond to drag-and-drop events on the element"},function(E,B,C,I,F,D){var G=null;switch(B){case"dragstart":G="onStart";break;case"drag":G="onDrag";break;case"dragend":G="onEnd";break;case"dragover":if(!E.getAttribute("droppable")){throw"dragover condition only applies to elements that have droppable attribute"}if(!E.hoverListeners){E.hoverListeners=[]}var J=$$AC.makeConditionalAction(E.id,C,D);E.hoverListeners.push({onHover:function(K){$$AC.executeAfter(J,F,{id:E.id,dragged:K.id})}});return true;case"drop":if(!E.getAttribute("droppable")){throw"drop condition only applies to elements that have droppable attribute"}if(!E.dropListeners){E.dropListeners=[]}var J=$$AC.makeConditionalAction(E.id,C,D);E.dropListeners.push({onDrop:function(K){$$AC.executeAfter(J,F,{id:E.id,dropped:K.id})}});return true}if(G){var A=E.id;var J=$$AC.makeConditionalAction(E.id,C,D);var H={};H[G]=function(L,K){if(K.element.id==A){$$AC.executeAfter(J,F,{id:A})}};Draggables.addObserver(H);$$AC.addTrash(E,function(){Draggables.removeObserver(E)});return true}return false});$$AC.registerCustomCondition({conditionNames:["enter","enter!"],description:"Respond to 'enter' keypress on a form"},function(E,B,C,I,F,D){switch(B){case"enter":case"enter!":if($$AC.getTagname(E)!="form"){throw"invalid condition: "+B+" on element of type: "+E.tagName+", only supported on form elements"}var A=E.id;var K=$$AC.makeConditionalAction(A,C,D,{id:A});var C=function(L){$$AC.executeAfter(K,F,{id:A});if(B=="enter!"){Event.stop(Event.getEvent(L))}};var G=Form.Methods.getInputs(E);for(var H=0;H<G.length;H++){var J=G[H];$$AC.getAndEnsureId(J);$$AU.KeyManager.installHandler($$AU.KeyManager.KEY_ENTER,J,C);$$AC.addTrash(J,function(){$$AU.KeyManager.removeHandler($$AU.KeyManager.KEY_ENTER,J)})}return true}return false});$$AC.Events=["click","focus","blur","dblclick","mousedown","mouseout","mouseover","mousemove","change","scroll","contextmenu","mousewheel","input","paste","orientationchange"];$$AC.EventTargets=["this","parent","down","after","next","sibling","next-sibling","before","up","prev-sibling","previous-sibling","child","children","window","body"];$$AC.actionId=0;$$AC.isEventSelector=function(C){if(C.indexOf(":")!=-1){return false}if(C.charAt(C.length-1)=="!"){C=C.substring(0,C.length-1)}for(var D=0,A=$$AC.Events.length;D<A;D++){if(C==$$AC.Events[D]){return true}var B=C.indexOf(".");realtoken=C.substring(B+1);realtoken=$$AC.parseEventConditionName(realtoken);if(realtoken==$$AC.Events[D]){return true}}return false};$$AC.filteredEvent=function(D,C){if(C!=null){for(var A=0;A<C.length;A++){filter=C[A];var B=filter.value;var E=""+D[filter.name];if(E!=B){return true}}}return false};$$AC.parseEventConditionName=function(A){if(A.indexOf("[")==-1){return A}else{return A.substring(0,A.indexOf("["))}};$$AC.parseEventConditionFilters=function(G){if(G.indexOf("[")!=-1){filters=new Array();var F=(G.indexOf("[")+1);var A=(G.indexOf("]"));var C=G.substring(F,A);var D=(C.split(","));for(var B=0;B<D.length;B++){var E=D[B].split("=");filters.push({name:E[0],value:E[1]})}return filters}else{return null}};$$AC.registerCustomCondition({conditionPrefixes:$$AC.EventTargets.map(function(A){return A+"."}),conditionSuffixes:$$AC.Events,prefixOptional:true,description:"Respond to standard DOM event"},function(B,L,I,D,Q,G){if(!$$AC.isEventSelector(L)){return false}if(D){throw"syntax error: 'else' action not supported on event conditions for: "+L}var O=false;if(L.charAt(L.length-1)=="!"){O=true;L=L.substring(0,L.length-1)}var E=$$AC.parseEventConditionFilters(L);L=$$AC.parseEventConditionName(L);var K=L.indexOf(".");var J=L,R=B.id,C=false;if(K>0){var M=L.substring(0,K);switch(M){case"this":R=B.id;break;case"parent":R=B.parentNode.id;break;case"down":case"after":case"next":case"sibling":case"next-sibling":R=B.nextSibling.id;break;case"before":case"up":case"prev-sibling":case"previous-sibling":R=B.previousSibling.id;break;case"child":case"children":C=true;break;case"window":R="window";break;case"body":R=document.body.id;break;default:R=M}J=L.substring(K+1)}if(J=="orientationchange"){R=document.body.id}if($$AC.getTagname(B)=="select"&&J=="change"&&(C||R==B.id)){var N=function(U){if($$AC.filteredEvent(U,E)){return }var V=B.options[B.selectedIndex||0];var T=V;if(Element.isDisabled(T)||Element.isDisabled(T.parentNode)){return }var S=$$AC.makeConditionalAction(B.id,I,G,{value:V.value,text:V.text});S();if(O){Event.stop(U);return false}};$$AC.addEventListener(B,J,N,Q)}else{if(J=="change"){var F=$$AC.makeConditionalAction(B.id,I,G);B._validatorObserver=new Form.Element.Observer(B,0.5,function(S,T){F(S,T)})}else{if(C){for(var P=0;P<B.childNodes.length;P++){(function(){var U=B.childNodes[P];if(U.nodeType==1){$$AC.getAndEnsureId(U);if (Logger.debugEnabled) $D("adding listener to "+U.id+" for event: "+J);var T=function(Z){if($$AC.filteredEvent(Z,E)){return }var Y=U;if(Element.isDisabled(Y)||Element.isDisabled(Y.parentNode)){return }var X=$$AC.makeConditionalAction($$AC.getAndEnsureId(U),I,G);var V=X,W=$A(arguments);return V.apply(this,[Z||window.event].concat(W))};var S=T;if(O){S=function(V){if($$AC.filteredEvent(V,E)){return }T(V);Event.stop(V);return false}}$$AC.addEventListener(U,J,S,Q)}})()}}else{if(Object.isString(R)){R=R=="window"?window:$el(R)}if(!R){throw"syntax error: target not found for "+L}if (Logger.debugEnabled) $D("adding listener to "+R+", name: "+R.nodeName+", id: "+R.id+" for event: "+J);var F=$$AC.makeConditionalAction(R.id,I,G);var A={id:R.id};var H=function(V){if($$AC.filteredEvent(V,E)){return }var U=$el(A.id);if(Element.isDisabled(U)||Element.isDisabled(U.parentNode)){return }var S=F,T=$A(arguments);return S.apply(A,[V||window.event].concat(T))};var N=H;if(O){N=function(S){if($$AC.filteredEvent(S,E)){return }H(S);Event.stop(S);return false}}$$AC.addEventListener(R,J,N,Q)}}}return true});if($$AB.isIPhone){window.onorientationchange=function(){if(!Element.hasClassName("orientation_"+window.orientation)){var B=Element.classNames(document.body);if(B){B._each(function(C){if(C.startsWith("orientation_")){B.remove(C)}})}Element.addClassName(document.body,"orientation_"+window.orientation)}var A=document.createEvent("Events");A.initEvent("orientationchange",true,true);document.body.dispatchEvent(A)}}$$AC.registerCustomCondition({conditionPrefixes:["history:==","history:!="],suffixOptional:true,description:"Respond to back/forward navigation"},function(G,C,E,J,H,F){if(!C.startsWith("history:")&&!C.startsWith("history[")){return false}var D=null;if(C.startsWith("history:")){D=C.substring(8)}if(C.startsWith("history[")){D=C.substring(8,C.indexOf("]"))}D=D||"";var A=G.id;var L=$$AC.makeConditionalAction(A,E,F);var I=J?$$AC.makeConditionalAction(A,J,null):null;var B="==";var K=null;if(D.charAt(0)=="!"){D=D.substring(1);B="!="}else{if(D=="*"){B="*"}else{if(D.charAt(0)=="~"){B="regex";D=D.substring(1)}else{if(D.indexOf("*")>-1){B="regex";D=D.gsub(/\*/,"(.*)?")}}}}if(B=="regex"){K=new RegExp(D)}D=D.length==0||D=="_none_"||D==="null"?null:D;Appcelerator.History.onChange(function(P,O,N){var M=false;switch(B){case"regex":M=K.test(P);break;case"==":M=(P==D);break;case"!=":M=(P!=D);break;case"*":M=!Object.isUndefined(P);break}if(M){$$AC.executeAfter(L,H,{data:O})}else{if(I){$$AC.executeAfter(I,H,{data:O})}}});return true});$$AC.registerCustomCondition({conditionNames:["keypress","keyup","keydown"],description:"Respond to key events on the element"},function(B,M,J,E,Q,G){if(M.indexOf("keypress")==-1&&M.indexOf("keyup")==-1&&M.indexOf("keydown")==-1){return false}if(E){throw"syntax error: 'else' action not supported on event conditions for: "+M}var D=M;var P=false;if(M.charAt(D.length-1)=="!"){M=M.substring(0,M.length-1);P=true}var L=M.indexOf(".");var K=M,R=B.id,C=false;if(L>0){var N=M.substring(0,L);switch(N){case"this":R=B.id;break;case"parent":R=B.parentNode.id;break;case"down":case"after":case"next":case"sibling":case"next-sibling":R=B.nextSibling.id;break;case"before":case"up":case"prev-sibling":case"previous-sibling":R=B.previousSibling.id;break;case"child":case"children":C=true;break;case"window":R="window";break;case"body":R=document.body.id;break;default:R=N}K=M.substring(L+1)}var L=M.indexOf("[");var H=null;if(L>0){H=M.substring(L+1,M.indexOf("]"));K=K.substring(0,L)}if(K=="keypress"||K=="keydown"||K=="keyup"){if(Object.isString(R)){R=R=="window"?window:$el(R)}if(!R){throw"syntax error: target not found for "+M}if (Logger.debugEnabled) $D("adding listener to "+R+", name: "+R.nodeName+", id: "+R.id+" for event: "+K);var F=$$AC.makeConditionalAction(R.id,J,G);var A={id:R.id};var I=function(Z){var X=$el(A.id);if(Element.isDisabled(X)||Element.isDisabled(X.parentNode)){return }var U=Z.keyCode;var Y={key:U,event:Z};if(H){var W=H.split("+");var V=W[W.length-1];switch(V){case"enter":if(U!=Event.KEY_RETURN){return }break;case"esc":if(U!=Event.KEY_ESC){return }break;case"left":if(U!=Event.KEY_LEFT){return }break;case"right":if(U!=Event.KEY_RIGHT){return }break;case"up":if(U!=Event.KEY_UP){return }break;case"down":if(U!=Event.KEY_DOWN){return }break;case"tab":if(U!=Event.KEY_TAB){return }break;case"delete":if(U!=Event.KEY_DELETE){return }break;case"backspace":if(U!=Event.KEY_BACKSPACE){return }break;default:if(U!=V){return }break}if(W.length>1){for(var T=0;T<(W.length-1);T++){var S=W[T];switch(S){case"ctrl":if(!Z.ctrlKey){return }break;case"alt":if(!Z.altKey){return }break;case"shift":if(!Z.shiftKey){return }break;case"meta":if(!Z.metaKey){return }break}}}}$$AC.executeAfter(F,0,Y)};var O=I;if(P){O=function(S){I(S);Event.stop(S);return false}}$$AC.addEventListener(R,K,O,Q);return true}return false});$$AC.registerCustomCondition({conditionPrefixes:["local:","remote:","l:","r:","both:","*:"],freeformSuffix:true,description:"Respond to a local or remote message"},function(G,B,E,K,H,F){if(B.startsWith("local:")||B.startsWith("l:")||B.startsWith("remote:")||B.startsWith("r:")||B.startsWith("both:")||B.startsWith("*:")){var A=G.id;var C=$$AC.parameterRE.exec(B);var I=(C?C[1]:B);var D=C?C[2]:null;var L=$$AC.makeConditionalAction(A,E,F);var J=(K?$$AC.makeConditionalAction(A,K,null):null);return $$AC.MessageAction.makeMBListener(G,I,L,D,H,J)}return null});$$AC.MessageAction={};$$AC.MessageAction.onMessage=function(G,C,D,J,K,F,A,E,I){var H=$$AC.parseConditionCondition(F,C);var B={type:G,datatype:D,direction:J,data:C,scope:K};if(H){$$AC.executeAfter(A,E,B)}else{if(I){$$AC.executeAfter(I,E,B)}}};$$AC.MessageAction.makeMBListener=function(D,G,C,B,F,H){var A=B?$$AC.getParameters(B,false):null;var E=A?G.indexOf("["):0;if(E>0){G=G.substring(0,E)}var I=(A)?Object.toJSON(A):null;$MQL(G,function(L,M,K,N,J){$$AC.MessageAction.onMessage(L,M,K,N,J,I,C,F,H)},D.scope,D);return true};$$AC.registerCustomCondition({conditionNames:["resize"],description:("Respond to resizing of an element, requires that the <i>resizable</i> attribute be set")},function(D,G,F,A,B,E){if(G=="resize"){if(!D.getAttribute("resizable")){throw'resize condition only applies to elements that have resizable="true"'}if(!D.resizeListeners){D.resizeListeners=[]}var C=$$AC.makeConditionalAction(D.id,F,E);D.resizeListeners.push({onResize:function(H){$$AC.executeAfter(C,B,{id:D.id})}});return true}return false});$$AC.Selected={};$$AC.Selected.makeSelectedListener=function(C,G,E,A,B,D){var F=$$AC.getAndEnsureId(C);$$AC.attachFunction(C,"selected",function(K,L,H){if(K){var J=$$AC.makeConditionalAction(F,E,D,{count:L,unselect:H});$$AC.executeAfter(J,B,{count:L,id:F,unselect:H})}else{if(A){var I=$$AC.makeConditionalAction(F,A,null,{count:L,unselect:H});$$AC.executeAfter(I,B,{count:L,id:F,unselect:H})}}})};$$AC.registerCustomCondition({conditionPrefixes:["parent.","child.","children."],conditionSuffixes:["selected"],prefixOptional:true,description:("Respond to selection of this element, requires the <i>selectable</i> attribute be set")},function(C,H,E,A,B,D){switch(H){case"selected":Element.addClassName(C,"app_selectable");$$AC.Selected.makeSelectedListener(C,H,E,A,B,D);break;case"parent.selected":Element.addClassName(C,"app_selectable");$$AC.Selected.makeSelectedListener(C.parentNode,H,E,A,B,D);break;case"children.selected":case"child.selected":Element.addClassName(C,"app_selectgroup");for(var G=0;G<C.childNodes.length;G++){var F=C.childNodes[G];if(F.nodeType==1){Element.addClassName(F,"app_selectable");$$AC.Selected.makeSelectedListener(F,H,E,A,B,D)}}break;default:return false}return true});$$AC.registerCustomCondition({conditionNames:["sortupdate","sortchange"],description:"Respond to sortable events on the element"},function(E,H,G,B,C,F){var A=null;switch(H){case"sortupdate":if(!E.getAttribute("sortable")){throw"sortupdate condition only applies to elements that have sortable attribute"}if(!E.updateListeners){E.updateListeners=[]}var D=$$AC.makeConditionalAction(E.id,G,F);E.updateListeners.push({onUpdate:function(I){$$AC.executeAfter(D,C,{id:I.id})}});return true;case"sortchange":if(!E.getAttribute("sortable")){throw"sortchange condition only applies to elements that have sortable attribute"}if(!E.changeListeners){E.changeListeners=[]}var D=$$AC.makeConditionalAction(E.id,G,F);E.changeListeners.push({onChange:function(I){$$AC.executeAfter(D,C,{id:I.id})}});return true}return false});$$AC.StateMachine={};$$AC.StateMachine.APP_STATES={};$$AC.StateMachine.CompiledStateConditionCache={};$$AC.StateMachine.isStateCondition=function(A){return $$AC.parameterRE.test(A)};$$AC.getTransitionSource=function(A){if(A.indexOf(":")==-1){return""}else{value=A.split(":")[0];return""+value}};$$AC.getTransitionTarget=function(A){if(A.indexOf(":")==-1){return A}else{value=A.split(":")[1];return""+value}};$$AC.registerCustomCondition({pattern:/([^\[]*)\[([^\]]*)\]/},function(B,Q,P,F,V,L){if(!$$AC.StateMachine.isStateCondition(Q)){return false}var O=B.id;var M=Q.split(" ");var Q="";var G=[];for(var T=0,R=M.length;T<R;T++){var E=M[T].trim();if(E.length==0){continue}switch(E){case"and":Q+=" && ";continue;case"||":case"&&":Q+=" "+E+" ";continue;default:break}var K="";if(E.charAt(0)=="!"){K="!";E=E.substring(1)}else{if(E.startsWith("not ")){K="!";E=E.substring(4)}}var I=$$AC.parameterRE.exec(E);var N=I[1];var D=$$AC.getTransitionTarget(I[2]);var U=$$AC.getTransitionSource(I[2]);G.push([N,D,U]);if(D!=""&&D){Q+=K+'$$AC.StateMachine.isStateValid("'+N+'","'+D+'")'}}var J=$$AC.makeConditionalAction(O,P,L);var S=(F?$$AC.makeConditionalAction(O,F,null):null);var H=$$AC.StateMachine.CompiledStateConditionCache[Q];if(!H){H=Q.toFunction();$$AC.StateMachine.CompiledStateConditionCache[Q]=H;if (Logger.debugEnabled) $D("compiled state => "+Q)}for(var T=0,R=G.length;T<R;T++){var N=G[T][0];var A=G[T][1];var C=G[T][2];if (Logger.debugEnabled) $D("adding state change listener for "+N+"["+A+"]");$$AC.StateMachine.registerStateListener(N,function(a,Y,b,X){var W=false;if(C!=""){var Z=C==(""+X)||C=="";var d=A==(""+Y)||A=="";W=Z&&d}else{W=H();if (Logger.debugEnabled) $D("statemachine: "+a+"["+Y+"] logic returned => "+W)}if(W){$$AC.executeAfter(J,V)}else{if(S){$$AC.executeAfter(S,V)}}});$$AC.StateMachine.addOnLoadStateCheck(N)}return true});$$AC.StateMachine.isStateMachine=function(A){return $$AC.StateMachine.APP_STATES[A]!=null};$$AC.StateMachine.isStateValid=function(B,C){var A=$$AC.StateMachine.APP_STATES[B];if(A){if(A.active){return(C=="*"||A.states["state_"+C]==true)}}return false};$$AC.StateMachine.disableStateMachine=function(B){var C=$$AC.StateMachine.getActiveState(B,true);var A=$$AC.StateMachine.APP_STATES[B];if(A){A.active=false;A.init=true;if (Logger.debugEnabled) $D("disable state machine="+B+"["+C+"]");if(C){$$AC.StateMachine.fireStateMachineChange(B,C,false)}A.activeState=C}};$$AC.StateMachine.enableStateMachine=function(B){var A=$$AC.StateMachine.APP_STATES[B];if(A){A.active=true;A.init=true;var C=A.activeState;if (Logger.debugEnabled) $D("enable state machine="+B+"["+C+"]");if(C){A.activeState=null;$$AC.StateMachine.fireStateMachineChange(B,C,true,true)}}};$$AC.StateMachine.addState=function(C,D,B){var A=$$AC.StateMachine.APP_STATES[C];if(!A){A=$$AC.StateMachine.createStateMachine(C)}A.states["state_"+D]=B};$$AC.StateMachine.createStateMachine=function(B){var A={"states":{},"listeners":[],"active":true,"activeState":null,"init":false};$$AC.StateMachine.APP_STATES[B]=A;return A};$$AC.StateMachine.registerStateListener=function(B,C){var A=$$AC.StateMachine.APP_STATES[B];if(!A){A=$$AC.StateMachine.createStateMachine(B)}A.listeners.push(C)};$$AC.StateMachine.unregisterStateListener=function(C,D){var B=$$AC.StateMachine.APP_STATES[C];if(B){var A=B.indexOf(D);if(A>=0){B.removeAt(A);return true}}return false};$$AC.StateMachine.getActiveState=function(B,D){var A=$$AC.StateMachine.APP_STATES[B];if(A&&(A.active||D==true)){if(A.activeState!=null){return A.activeState}for(var C in A.states){if(C.startsWith("state_")){if(true==A.states[C]){return C.substring(6)}}}}return null};$$AC.StateMachine.fireStateMachineChange=function(I,A,K,C,L){if (Logger.debugEnabled) $D("fireStateMachineChange => "+I+"["+A+"] = "+K+", force="+(C==true)+",init="+L);var F=$$AC.StateMachine.APP_STATES[I];if(F){var B=false;var N="state_"+F.activeState;var G=F.activeState;for(var M in F.states){if(M.startsWith("state_")){if(A==M.substring(6)){var E=F.states[M];if(L==true||C==true||K==null||E==null||(E!=null&&E!=K)){F.states[M]=K;F.activeState=K?M.substring(6):null;B=N==M?false:true}}else{if(K!=null&&K==true){F.states[M]=false}}}}if (Logger.debugEnabled) $D("setting activeState = "+F.activeState+" for "+I);F.init=true;B=C==true?true:B;if(B&&F.listeners.length>0){for(var J=0,H=F.listeners.length;J<H;J++){var D=F.listeners[J];D.apply(D,[I,A,K,G])}}}};$$AC.StateMachine.addOnLoadStateCheck=function(A){if($$AC.StateMachine.initialStateInit){if($$AC.StateMachine.initialStateInit.indexOf(A)<0){$$AC.StateMachine.initialStateInit.push(A)}}};$$AC.StateMachine.resetOnStateListeners=function(){if(!$$AC.StateMachine.initialStateLoaders){$$AC.StateMachine.initialStateLoaders=[];$$AC.StateMachine.initialStateInit=[]}};$$AC.StateMachine.fireOnStateListeners=function(){if($$AC.StateMachine.initialStateLoaders&&$$AC.StateMachine.initialStateLoaders.length>0){var C=[];for(var F=0,A=$$AC.StateMachine.initialStateLoaders.length;F<A;F++){var E=$$AC.StateMachine.initialStateLoaders[F];if (Logger.debugEnabled) $D("firing initial state change = "+E[0]+"["+E[1]+"]");$$AC.StateMachine.fireStateMachineChange(E[0],E[1],true,false,true);C.push(E[0])}if($$AC.StateMachine.initialStateInit&&$$AC.StateMachine.initialStateInit.length>0){for(var F=0;F<$$AC.StateMachine.initialStateInit.length;F++){var B=$$AC.StateMachine.initialStateInit[F];if(C.indexOf(B)<0){var D=$$AC.StateMachine.getActiveState(B);if(D){$$AC.StateMachine.fireStateMachineChange(B,D,true,true,false);C.push(B)}}}}}$$AC.StateMachine.initialStateLoaders=null;$$AC.StateMachine.initialStateInit=null};$$AC.StateMachine.re=/[\s\n\r]+or[\s\n\r]+/;$$AC.StateMachine.compileStateCondition=function(B,L){var A={"name":B,"states":{},"types":[]};if(L){var K=L.split($$AC.StateMachine.re);for(var J=0,G=K.length;J<G;J++){var C=K[J];var E=$$AC.parameterRE.exec(C);var I=$$AC.convertMessageType(E?E[1]:C);var D=E?E[2]:null;var M=D?$$AC.getParameters(D,false):null;var H=M?$$AC.StateMachine.compileMessageConditionExpression(M):null;var F=A.states[I];if(!F){A.types.push(I);F=[];A.states[I]=F}F.push(H||"1==1")}}return A};$$AC.StateMachine.compileMessageConditionExpression=function(D){var C="";for(var H=0,A=D.length;H<A;H++){var G=D[H];var E=null;var F="==";var B=G.key;if(B.endsWith("!")){F="!=";B=B.substring(0,B.length-1)}switch(typeof (G.value)){case"string":E='"'+G.value+'"';break;case"number":case"boolean":E=G.value;break}C+='Object.getNestedProperty(this.data,"'+B+'")'+F+E;if(H+1<A){C+=" && "}}return C};$$AC.StateMachine.buildConditions=function(E){var H={};for(var I=0,G=E.length;I<G;I++){var B=E[I];for(var K=0,C=B.types.length;K<C;K++){var J=B.types[K];var D=H[J];if(!D){D=[];D.push('case "'+J+'": { ');H[J]=D}var L=B.states[J];D.push("if ("+L.join(" || ")+') return "'+B.name+'";')}}var A=[];var F=[];for(var J in H){F.push(J);var D=H[J];A.push(D.join("")+"break; } ")}return{types:F.uniq(),code:"switch(this.messagetype) { "+A.join("")+" default: return null; } "}};$$AC.StateMachine.initialStateLoaders=[];$$AC.StateMachine.initialStateInit=[];$$AC.afterDocumentCompile($$AC.StateMachine.fireOnStateListeners);Object.extend(Appcelerator.Decorator,{invalidImage:Appcelerator.ImagePath+"warning.png",validImage:Appcelerator.ImagePath+"confirm.png",toString:function(){return"[Appcelerator.Decorator]"},decoratorId:0,names:[],addDecorator:function(B,A){Appcelerator.Decorator[B]=A;$$AD.names.push(B)},checkInvalid:function(C,D,A,E,B){if(A){var G=$el(A);if(G){if(B){if(D){$$AC.setHTML(G,'<img src="'+$$AD.validImage+'"/> <span class="success_color">'+E+"</span>");$$AC.dynamicCompile(G)}}else{if(!D){$$AC.setHTML(G,'<img src="'+$$AD.invalidImage+'" style="margin: 3px 0 -3px 0"/> '+E);$$AC.dynamicCompile(G)}Element.setStyle(A,{visibility:(D?"hidden":"visible")})}}}else{var F="decorate_"+C.id;var G=$el(F);if(!G){new Insertion.After(C.id,'<span id="'+F+'" style="font-size:11px;color:#ff0000"></span>');G=$el(F)}if(B){$$AC.setHTML(G,'<img src="'+$$AD.validImage+'"/> <span class="success_color">'+E+"</span>");$$AC.dynamicCompile(G)}else{if(!D){$$AC.setHTML(G,'<img src="'+$$AD.invalidImage+'" style="margin: 3px 0 -3px 0"/> '+E);$$AC.dynamicCompile(G)}Element.setStyle(F,{visibility:(D?"hidden":"visible")})}}}});(function(){var A=$$AD.addDecorator;A("defaultDecorator",function(B,C){});A("custom",function(C,D,B){if(!B){throw"invalid custom decorator, decoratorId attribute must be specified"}var E=$el(B);if(!E){throw"invalid custom decorator, decorator with ID: "+B+" not found"}if(!D){if(E.style.display=="none"){E.style.display=""}if(E.style.visibility=="hidden"){E.style.visibility=""}}else{if(E.style.display!="none"){E.style.display="none"}if(E.style.visibility!="hidden"){E.style.visibility="hidden"}}});A("termsAccepted",function(C,D,B){this.checkInvalid(C,D,B,"must accept terms and conditions")});A("required",function(C,D,B){this.checkInvalid(C,D,B,"required")});A("zipcode_5",function(C,D,B){this.checkInvalid(C,D,B,"5 digit zipcode required")});A("phone_us",function(C,D,B){this.checkInvalid(C,D,B,"10 digit phone number required (###-###-####)")});A("ssn",function(C,D,B){this.checkInvalid(C,D,B,"9 digit ssn required (###-##-####)")});A("email",function(C,D,B){this.checkInvalid(C,D,B,"enter a valid email address")});A("date",function(C,D,B){this.checkInvalid(C,D,B,"invalid date")});A("number",function(C,D,B){this.checkInvalid(C,D,B,"invalid number")});A("fullname",function(C,D,B){this.checkInvalid(C,D,B,"enter first and last name")});A("alphanumeric",function(C,D,B){this.checkInvalid(C,D,B,"enter an alphanumeric value")});A("noSpaces",function(C,D,B){this.checkInvalid(C,D,B,"value must contain no spaces")});A("password",function(C,D,B){this.checkInvalid(C,D,B,"password must be at least 6 characters")});A("url",function(C,D,B){this.checkInvalid(C,D,B,"enter a valid URL")});A("checked",function(C,D,B){this.checkInvalid(C,D,B,"item must be checked")});A("wholenumber",function(C,D,B){this.checkInvalid(C,D,B,"enter a whole number")});A("length",function(E,F,C){if(!F){var D=E.getAttribute("validatorMinLength")||"0";var B=E.getAttribute("validatorMaxLength")||"999999";this.checkInvalid(E,F,C,"value must be between "+D+"-"+B+" characters")}else{this.checkInvalid(E,F,C,E.value.length+" characters",true)}})})();$MQL("appcelerator.download",function(I,D,E,J){var A=D["name"];var H=D["ticket"];var G=Appcelerator.ServerConfig["download"];var B=G?G.path:Appcelerator.DocumentPath+"/download";var C=$$AU.UUID.generateNewId();B=B+"?ticket="+encodeURIComponent(H)+"&name="+encodeURIComponent(A)+"&reqid="+C;var F='<iframe id="'+C+'" src="'+B+'" height="1" width="1" style="position:absolute;left:-400px;top:-400px;height:1px;width:1px;"></iframe>';new Insertion.Bottom(document.body,F)});Object.extend(Effect.Transitions,{elastic:function(A){return -1*Math.pow(4,-8*A)*Math.sin((A*6-1)*(2*Math.PI)/2)+1},swingFromTo:function(B){var A=1.70158;return((B/=0.5)<1)?0.5*(B*B*(((A*=(1.525))+1)*B-A)):0.5*((B-=2)*B*(((A*=(1.525))+1)*B+A)+2)},swingFrom:function(B){var A=1.70158;return B*B*((A+1)*B-A)},swingTo:function(B){var A=1.70158;return(B-=1)*B*((A+1)*B+A)+1},bounce:function(A){if(A<(1/2.75)){return(7.5625*A*A)}else{if(A<(2/2.75)){return(7.5625*(A-=(1.5/2.75))*A+0.75)}else{if(A<(2.5/2.75)){return(7.5625*(A-=(2.25/2.75))*A+0.9375)}else{return(7.5625*(A-=(2.625/2.75))*A+0.984375)}}}},bouncePast:function(A){if(A<(1/2.75)){return(7.5625*A*A)}else{if(A<(2/2.75)){return 2-(7.5625*(A-=(1.5/2.75))*A+0.75)}else{if(A<(2.5/2.75)){return 2-(7.5625*(A-=(2.25/2.75))*A+0.9375)}else{return 2-(7.5625*(A-=(2.625/2.75))*A+0.984375)}}}},easeFromTo:function(A){if((A/=0.5)<1){return 0.5*Math.pow(A,4)}return -0.5*((A-=2)*Math.pow(A,3)-2)},easeFrom:function(A){return Math.pow(A,4)},easeTo:function(A){return Math.pow(A,0.25)}});for(var p in Effect.Transitions){var v=Effect.Transitions[p];if(Object.isFunction(v)){Effect.Transitions[String(p.charAt(0)).toUpperCase()+p.substring(1)]=v}}Element.getDocumentSize=function(){var E,A;var D,B;if(window.innerHeight&&window.scrollMaxY){E=document.body.scrollWidth;A=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){E=document.body.scrollWidth;A=document.body.scrollHeight}else{E=document.body.offsetWidth;A=document.body.offsetHeight}}var C,F;if(self.innerHeight){C=self.innerWidth;F=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){C=document.documentElement.clientWidth;F=document.documentElement.clientHeight}else{if(document.body){C=document.body.clientWidth;F=document.body.clientHeight}}}if(A<F){D=F}else{D=A}if(E<C){B=C}else{B=E}return[B,D,C,F]};Element.getPageScroll=function(){var A;if(self.pageYOffset){A=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){A=document.documentElement.scrollTop}else{if(document.body){A=document.body.scrollTop}}}return A};Element.getCenteredTopPosition=function(B,A){var C=Element.getDimensions(B);var D=Element.getDimensions(A).width;return(C.height-D)/2};Element.center=function(A,B,I){var E=$el(B);var F=Element.getDimensions(A);var C=F.width;var J=F.height;var H=Element.getDimensions(B).width;var D=(C-H)/2;E.style.position="absolute";E.style.left=D+"px";E.style.right=D+C+"px";if(I){E.style.top=I+"px"}else{var G=E.offsetHeight||parseInt(E.style.height)||200;E.style.top=(J-G)/2+"px"}};Element.findParentForm=function(A){var B=null;Element.ancestors(A).each(function(C){if(C.nodeName=="FORM"){B=C;throw $break}});return B};Element.showing=function(A,B){if(!Element.visible(A)){return false}B=B||A.ancestors();var C=true;B.each(function(D){if(!Element.visible(D)){C=false;throw $break}});return C};Element.findNonShowingAncestor=function(A,B){if(!Element.visible(A)){return A}B=B||A.ancestors();var C=null;B.each(function(D){if(!Element.visible(D)){C=D;throw $break}});return C};Element.setHeight=function(A,B){A=$el(A);A.style.height=B+"px"};Element.setWidth=function(B,A){B=$el(B);B.style.width=A+"px"};Element.setTop=function(B,A){B=$el(B);B.style.top=A+"px"};Element.isVisible=function(A){return A.style.visibility!="hidden"&&A.style.display!="none"};Element.ensureVisible=function(D){D=$el(D);Position.prepare();var H=Position.cumulativeOffset(D);var F=Element.getDocumentSize();var I=Element.getPageScroll();var A=I+F[3];var B=H[1]>=I+25;var E=H[1]<=A-25;var C=(B&&E);if(!C){var G=Math.max(0,H[1]-30);window.scrollTo(0,G)}};Element.isDisabled=function(A){A=$el(A);return(A&&(A.disabled||A.getAttribute("disabled")=="true"))};Object.extend(Event,{getEvent:function(A){A=A||window.event;return A?typeof (A.inspect)=="function"?A:Event.extend(A):null},isEventObject:function(A){A=this.getEvent(A);if(A){if(typeof (A.cancelBubble)!="undefined"&&typeof (A.qualifier)!="undefined"){return true}if(typeof (A.stopPropagation)!="undefined"&&typeof (A.preventDefault)!="undefined"){return true}}return false},getKeyCode:function(B){var A;if(B){if(typeof (B.keyCode)!="undefined"){A=B.keyCode}else{if(typeof (B.which)!="undefined"){A=B.which}}}else{A=window.event.keyCode}return A},isKey:function(B,A){return Event.getKeyCode(B)==A},isEscapeKey:function(A){return Event.isKey(A,Event.KEY_ESC)||Event.isKey(A,A.DOM_VK_ESCAPE)},isEnterKey:function(A){return Event.isKey(A,Event.KEY_RETURN)||Event.isKey(A,A.DOM_VK_ENTER)},isSpaceBarKey:function(A){return Event.isKey(A,Event.KEY_SPACEBAR)||Event.isKey(A,A.DOM_VK_SPACE)},isPageUpKey:function(A){return Event.isKey(A,Event.KEY_PAGEUP)||Event.isKey(A,A.DOM_VK_PAGE_UP)},isPageDownKey:function(A){return Event.isKey(A,Event.KEY_PAGEDOWN)||Event.isKey(A,A.DOM_VK_PAGE_DOWN)},isHomeKey:function(A){return Event.isKey(A,Event.KEY_HOME)||Event.isKey(A,A.DOM_VK_HOME)},isEndKey:function(A){return Event.isKey(A,Event.KEY_END)||Event.isKey(A,A.DOM_VK_END)},isDeleteKey:function(A){return Event.isKey(A,Event.KEY_DELETE)||Event.isKey(A,A.DOM_VK_DELETE)},isLeftKey:function(A){return Event.isKey(A,Event.KEY_LEFT)||Event.isKey(A,A.DOM_VK_LEFT)},isRightKey:function(A){return Event.isKey(A,Event.KEY_RIGHT)||Event.isKey(A,A.DOM_VK_RIGHT)},KEY_SPACEBAR:0,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_END:35,KEY_HOME:36,KEY_DELETE:46});(function(){if(!Appcelerator.Config["usegears"]){return }if(window.google&&google.gears){return }var A=null;if(typeof GearsFactory!="undefined"){A=new GearsFactory()}else{try{A=new ActiveXObject("Gears.Factory");if(A.getBuildInfo().indexOf("ie_mobile")!=-1){A.privateSetGlobalObject(this)}}catch(C){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){A=document.createElement("object");A.style.display="none";A.width=0;A.height=0;A.type="application/x-googlegears";document.documentElement.appendChild(A)}}}if(!A){return }if(!window.google){google={}}if(!google.gears){google.gears={factory:A}}google.gears.appcelerator={};google.gears.appcelerator.workerPool=google.gears.factory.create("beta.workerpool");google.gears.appcelerator.workerPool.onmessage=function(E,D,F){$$AU.ServiceBroker.gearsDispatch(F.text)};var B=(Appcelerator.WidgetPath+"common/js/gears/").replace(window.location,"");google.gears.appcelerator.serviceBrokerId=google.gears.appcelerator.workerPool.createWorkerFromUrl(B+"servicebroker_remote.js");$$AR.requireCommonJS("gears/servicebroker_local.js")})();Appcelerator.History={};Appcelerator.History.changeListeners=[];Appcelerator.History.currentState=false;Appcelerator.History.onChange=function(A){Appcelerator.History.changeListeners.push(A)};Appcelerator.History.go=function(A){document.location.hash=A};Appcelerator.History.fireChange=function(C){if(C&&C.charAt(0)=="#"){C=C.substring(1)}if(C===""){C=null}if(Appcelerator.History.currentState!=C){Appcelerator.History.currentState=C;var B={state:C};for(var D=0;D<Appcelerator.History.changeListeners.length;D++){var A=Appcelerator.History.changeListeners[D];A(C,B)}}};if($$AB.isIE){Appcelerator.History.loadIE=function(){var C=document.createElement("iframe");C.id="app_hist_frame";C.style.position="absolute";C.style.left="-10px";C.style.top="-10px";C.style.width="1px";C.style.height="1px";C.src="javascript:false";document.body.appendChild(C);var E=$el("app_hist_frame");var A=null;var D=null;var B=false;setInterval(function(){var G=E.contentWindow.document;if(!G){return }A=G.getElementById("state");var H=document.location.hash;if(H!==B){B=H;G.open();G.write('<html><body><div id="state">'+H+"</div></body></html>");G.close();Appcelerator.History.fireChange(H)}else{if(A){var F=A.innerText;if(D!=F){D=F;if(F==null||F===""){if(document.location.hash){B="#";document.location.hash="";Appcelerator.History.fireChange("#")}}else{if(F!=document.location.hash){document.location.hash=F;Appcelerator.History.fireChange(document.location.hash)}}}}else{if(B){B=false}}}},50)}}$$AC.afterDocumentCompile(function(){if($$AB.isIE){Appcelerator.History.loadIE()}else{if($$AC.isCompiledMode){return }else{var A=history.length;var B=null;setInterval(function(){var C;var D;C=document.location.hash;D=history.length;if(C!==B){B=C;A=D;Appcelerator.History.fireChange(C)}else{if(D!==A){B=C;A=D;Appcelerator.History.fireChange(C)}}},50)}}});$$AU.IdleManager=Class.create();$$AU.IdleManager={IDLE_TIME:60000,timestamp:null,activeListeners:[],idleListeners:[],idle:false,started:false,install:function(){if(this.started){return }this.started=true;this.event=this.onActivity.bind(this);this.timestamp=new Date().getTime();Event.observe(window.document,"keypress",this.event,false);Event.observe(window.document,"mousemove",this.event,false);var A=this;Event.observe(window,"unload",function(){Event.stopObserving(window.document,"keypress",A.event,false);Event.stopObserving(window.document,"mousemove",A.event,false);A.event=null},false);this.startTimer()},startTimer:function(){this.stopTimer();this.timer=setInterval(this.onTimer.bind(this),500)},stopTimer:function(){if(this.timer){clearInterval(this.timer);this.timer=0}},onTimer:function(){if(this.isIdle()){this.stopTimer();this.idle=true;if(this.idleListeners.length>0){this.idleListeners.each(function(A){A.call(A)})}}},registerIdleListener:function(A){$$AU.IdleManager.install();this.idleListeners.push(A)},unregisterIdleListener:function(A){this.idleListeners.remove(A)},registerActiveListener:function(A){$$AU.IdleManager.install();this.activeListeners.push(A)},unregisterActiveListener:function(A){this.activeListeners.remove(A)},isIdle:function(){return this.getIdleTimeInMS()>=this.IDLE_TIME},getIdleTimeInMS:function(){return(new Date().getTime()-this.timestamp)},onActivity:function(){this.timestamp=new Date().getTime();if(this.idle){this.idle=false;if(this.activeListeners.length>0){this.activeListeners.each(function(A){A.call(A)})}this.startTimer()}return true}};if($$AB.isIE6){document.getElementsByTagNameNS=function(G,B){var C=$A(document.getElementsByTagName("*"));if(G=="http://www.w3.org/1999/xhtml"){G=""}var E=[];for(var F=0,A=C.length;F<A;F++){var D=C[F];if(D.tagUrn==G&&(B=="*"||D.nodeName==B)){E.push(D)}}return E};try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}$$AU.IFrame={fetch:function(D,C,B,A){D=Appcelerator.URI.absolutizeURI(D,Appcelerator.DocumentPath);setTimeout(function(){A=(A==null)?false:A;var E="frame_"+new Date().getTime()+"_"+Math.round(Math.random()*99);var H=document.createElement("iframe");$$AC.setElementId(H,E);if(!$$AB.isFirefox){H.setAttribute("name",E)}H.setAttribute("src",D);H.style.position="absolute";H.style.width=H.style.height=H.borderWidth="1px";H.style.left="-50px";H.style.top="-50px";var G=document.body.appendChild(H);if(window.frames&&window.frames[E]){G=window.frames[E]}G.name=E;var F={iframe:G,frameid:E,onload:C,removeOnLoad:(B==null)?true:B,src:D,copyContent:A};if(!$$AB.isFirefox){setTimeout($$AU.IFrame.checkIFrame.bind(F),10)}else{G.onload=$$AU.IFrame.doIFrameLoad.bind(F)}},0)},monitor:function(C,B){var A={iframe:C,frameid:C.id,onload:B,removeOnLoad:false};if(!$$AB.isFirefox){setTimeout($$AU.IFrame.checkIFrame.bind(A),10)}else{C.onload=$$AU.IFrame.doIFrameLoad.bind(A)}},doIFrameLoad:function(){var C=this.iframe.contentDocument||this.iframe.document;var A=C.documentElement.getElementsByTagName("body")[0];if($$AB.isSafari&&$$AB.isWindows&&A.childNodes.length==0){$$AU.IFrame.fetch(this.src,this.onload,this.removeOnLoad);return }if(this.copyContent){var E=document.createElement("div");$$AU.IFrame.loadStyles(C.documentElement);var D=document.createElement("div");D.innerHTML=A.innerHTML;E.appendChild(D);this.onload(E)}else{this.onload(A)}if(this.removeOnLoad){var B=this.frameid;if($$AB.isFirefox){setTimeout(function(){Element.remove(B)},50)}else{Element.remove(B)}}},checkIFrame:function(){var B=this.iframe.contentDocument||this.iframe.document;var A=B.readyState;if(A=="complete"||(!document.getElementById&&A=="interactive")){$$AU.IFrame.doIFrameLoad.call(this)}else{setTimeout($$AU.IFrame.checkIFrame.bind(this),10)}},loadStyles:function(B){for(var A=0;A<B.childNodes.length;A++){var E=B.childNodes[A];if(E.nodeName=="STYLE"){if($$AB.isIE){var C=document.createStyleSheet();C.cssText=E.styleSheet.cssText}else{var C=document.createElement("style");C.setAttribute("type","text/css");try{C.appendChild(document.createTextNode(E.innerHTML))}catch(F){C.cssText=E.innerHTML}$$AR.HeadElement.appendChild(C)}}else{if(E.nodeName=="LINK"){var D=document.createElement("link");D.setAttribute("type",E.type);D.setAttribute("rel",E.rel);D.setAttribute("href",E.getAttribute("href"));$$AR.HeadElement.appendChild(D)}}$$AU.IFrame.loadStyles(E)}}};$$AU.EventBroadcaster=Class.create();Object.extend($$AU.EventBroadcaster.prototype,{listeners:[],addListener:function(A){this.listeners.push(A)},removeListener:function(A){if(!this.listeners){return false}return this.listeners.remove(A)},dispose:function(){if(this.listeners){this.listeners.clear()}},fireEvent:function(){if(!this.listeners||this.listeners.length==0){if (Logger.debugEnabled) $D(this+" not firing event: registered no listeners");return }var B=$A(arguments);if(undefined==B||0==B.length){throw"fire event not correct for "+this+", requires at least a event name parameter"}var A=B.shift();var C=A.charAt(0).toUpperCase();var D="on"+C+A.substring(1);if (Logger.debugEnabled) $D(this+" firing event: "+D+", listeners: "+this.listeners.length);this.listeners.each(function(F){var E=F[D];if(E){E.apply(F,B)}else{if(typeof (F)=="function"){F.apply(F,B)}}})}});$$AU.KeyManager=Class.create();Object.extend($$AU.KeyManager,{monitors:[],KEY_ENTER:1,KEY_ESCAPE:2,KEY_SPACEBAR:3,disabled:false,installed:false,toString:function(){return"[$$AU.KeyManager]"},disable:function(){this.disabled=true},enable:function(){this.disabled=false},install:function(){this.installed=true;this.keyPressFunc=this.onkeypress.bindAsEventListener(this);document.body.onkeypress=this.keyPressFunc;$$AR.onunload(this.dispose.bind(this))},dispose:function(){document.body.onkeypress=null;this.keyPressFunc=null;var A=this;this.monitors.each(function(B){A.removeHandler(B[0],B[1])});this.monitors=null},removeHandler:function(H,A){if(A){var C=A["_focusHandler_"+H];var B=A["_blurHandler_"+H];if(C){Event.stopObserving(A,"focus",C,false);try{delete A["_focusHandler_"+H]}catch(I){}}if(B){Event.stopObserving(A,"blur",B,false);try{delete A["_blurHandler_"+H]}catch(I){}}}if(this.monitors.length>0){var J=null;for(var F=0,D=this.monitors.length;F<D;F++){var G=this.monitors[F];if(G[0]==H&&G[1]==A){J=G;break}}if(J){this.monitors.remove(J)}}},installHandler:function(D,C,E){if(!this.installed){this.install.bind(this)}var B=this;this.removeHandler(D,C);var G=[D,C,E];if(C){var A=function(H){H=Event.getEvent(H);C.focused=true;B.monitors.remove(G);B.monitors.push(G);return true};var F=function(H){H=Event.getEvent(H);C.focused=false;B.monitors.remove(G);return true};C["_focusHandler_"+D]=A;C["_blurHandler_"+D]=F;Event.observe(C,"focus",A,false);Event.observe(C,"blur",F,false)}else{this.monitors.push(G)}},onkeypress:function(E){if(this.monitors.length>0&&!this.disabled){E=Event.getEvent(E);var C=false;for(var F=0,B=this.monitors.length;F<B;F++){var A=this.monitors[F];if((Event.isEnterKey(E)&&A[0]==$$AU.KeyManager.KEY_ENTER)||(Event.isEscapeKey(E)&&A[0]==$$AU.KeyManager.KEY_ESCAPE)||(Event.isSpaceBarKey(E)&&A[0]==$$AU.KeyManager.KEY_SPACEBAR)){var D=Event.element(E);if(A[1]==null||D==A[1]){A[2](E);C=true;break}}}if(C){Event.stop(E);return false}}return true}});$$AR.onload($$AU.KeyManager.install.bind($$AU.KeyManager));if(window.navigator.language!=undefined){$$AL.currentLanguage=window.navigator.language}else{$$AL.currentLanguage="en-US"}$$AL.LanguageMap={};$$AL.addLanguageBundle=function(D,B,C){C=C==null?$H():typeof (C.get)=="function"?C:$H(C);if(Object.isArray(D)){for(var E=0;E<D.length;E++){$$AL.addLanguageBundle(D[E],B,C)}}else{$$AL.LanguageMap["language_"+D]={"map":C,"display":B,"lang":D};var A=D.indexOf("-");if(A>0){$$AL.LanguageMap["language_"+D.substring(0,A)]={"map":C,"display":B,"lang":D.substring(0,A)}}}};$$AL.updateLanguageBundle=function(E,C,D){var B=$$AL.getBundle(E);if(!B){$$AL.addLanguageBundle(E,C,D)}else{B.map=B.map.merge(D)}var A=E.indexOf("-");if(A>0){$$AL.updateLanguageBundle(E.substring(0,A),C,D)}};$$AL.getLanguages=function(){var B=[];for(var A in $$AL.LanguageMap){if(A.startsWith("language_")){B.push({id:A.substring(9),name:$$AL.LanguageMap[A].display})}}return B};$$AL.getBundle=function(C){C=(C==null)?$$AL.currentLanguage:C;var B=$$AL.LanguageMap["language_"+C];if(!B){var A=C.indexOf("-");if(A>0){return $$AL.getBundle(C.substring(0,A))}}return B};$$AL.set=function(B,C,D){var A=$$AL.getBundle(D);if(!A||!A.map){throw"language bundle not found for language: "+D}A.map.set(B,C)};$$AL.get=function(C,E,F){var B=$$AL.getBundle(F);if(B&&B.map){var D=B.map.get(C);if(!D){var A=B.lang.indexOf("-");if(A>0){return $$AL.get(C,E,B.lang.substring(0,A))}}return D||E}return E};$$AL.compiledTemplates={};$$AL.getWithFormat=function(B,D,F,A){F=(F==null)?$$AL.currentLanguage:F;var E=B+":"+F;var G=$$AL.compiledTemplates[E];if(!G){var C=$$AL.get(B,D,F);if(!C){return D}G=$$AC.compileTemplate(C);$$AL.compiledTemplates[E]=G}return G.call(G,A)};$$AL.supportedTags=["div","span","input","a","td","select","option","li","h1","h2","h3","h4","ol","legend","img"];$$AL.registerTag=function(A){if($$AL.supportedTags.indexOf(A)==-1){$$AL.supportedTags.push(A)}};$$AL.unregisterTag=function(A){var B=$$AL.supportedTags.indexOf(A);if(B!=-1){$$AL.supportedTags.removeAt(B)}};$$AL.addLanguageBundle(["en","en-US"],"English",{});$$AU.MD5={hexcase:0,b64pad:"",chrsz:8,hex_md5:function(A){return this.binl2hex(this.core_md5(this.str2binl(A),A.length*this.chrsz))},b64_md5:function(A){return this.binl2b64(this.core_md5(this.str2binl(A),A.length*this.chrsz))},str_md5:function(A){return this.binl2str(this.core_md5(this.str2binl(A),A.length*this.chrsz))},hex_hmac_md5:function(A,B){return this.binl2hex(this.core_hmac_md5(A,B))},b64_hmac_md5:function(A,B){return this.binl2b64(this.core_hmac_md5(A,B))},str_hmac_md5:function(A,B){return this.binl2str(this.core_hmac_md5(A,B))},md5_vm_test:function(){return this.hex_md5("abc")=="900150983cd24fb0d6963f7d28e17f72"},core_md5:function(K,F){K[F>>5]|=128<<((F)%32);K[(((F+64)>>>9)<<4)+14]=F;var J=1732584193;var I=-271733879;var H=-1732584194;var G=271733878;for(var C=0;C<K.length;C+=16){var E=J;var D=I;var B=H;var A=G;J=this.md5_ff(J,I,H,G,K[C+0],7,-680876936);G=this.md5_ff(G,J,I,H,K[C+1],12,-389564586);H=this.md5_ff(H,G,J,I,K[C+2],17,606105819);I=this.md5_ff(I,H,G,J,K[C+3],22,-1044525330);J=this.md5_ff(J,I,H,G,K[C+4],7,-176418897);G=this.md5_ff(G,J,I,H,K[C+5],12,1200080426);H=this.md5_ff(H,G,J,I,K[C+6],17,-1473231341);I=this.md5_ff(I,H,G,J,K[C+7],22,-45705983);J=this.md5_ff(J,I,H,G,K[C+8],7,1770035416);G=this.md5_ff(G,J,I,H,K[C+9],12,-1958414417);H=this.md5_ff(H,G,J,I,K[C+10],17,-42063);I=this.md5_ff(I,H,G,J,K[C+11],22,-1990404162);J=this.md5_ff(J,I,H,G,K[C+12],7,1804603682);G=this.md5_ff(G,J,I,H,K[C+13],12,-40341101);H=this.md5_ff(H,G,J,I,K[C+14],17,-1502002290);I=this.md5_ff(I,H,G,J,K[C+15],22,1236535329);J=this.md5_gg(J,I,H,G,K[C+1],5,-165796510);G=this.md5_gg(G,J,I,H,K[C+6],9,-1069501632);H=this.md5_gg(H,G,J,I,K[C+11],14,643717713);I=this.md5_gg(I,H,G,J,K[C+0],20,-373897302);J=this.md5_gg(J,I,H,G,K[C+5],5,-701558691);G=this.md5_gg(G,J,I,H,K[C+10],9,38016083);H=this.md5_gg(H,G,J,I,K[C+15],14,-660478335);I=this.md5_gg(I,H,G,J,K[C+4],20,-405537848);J=this.md5_gg(J,I,H,G,K[C+9],5,568446438);G=this.md5_gg(G,J,I,H,K[C+14],9,-1019803690);H=this.md5_gg(H,G,J,I,K[C+3],14,-187363961);I=this.md5_gg(I,H,G,J,K[C+8],20,1163531501);J=this.md5_gg(J,I,H,G,K[C+13],5,-1444681467);G=this.md5_gg(G,J,I,H,K[C+2],9,-51403784);H=this.md5_gg(H,G,J,I,K[C+7],14,1735328473);I=this.md5_gg(I,H,G,J,K[C+12],20,-1926607734);J=this.md5_hh(J,I,H,G,K[C+5],4,-378558);G=this.md5_hh(G,J,I,H,K[C+8],11,-2022574463);H=this.md5_hh(H,G,J,I,K[C+11],16,1839030562);I=this.md5_hh(I,H,G,J,K[C+14],23,-35309556);J=this.md5_hh(J,I,H,G,K[C+1],4,-1530992060);G=this.md5_hh(G,J,I,H,K[C+4],11,1272893353);H=this.md5_hh(H,G,J,I,K[C+7],16,-155497632);I=this.md5_hh(I,H,G,J,K[C+10],23,-1094730640);J=this.md5_hh(J,I,H,G,K[C+13],4,681279174);G=this.md5_hh(G,J,I,H,K[C+0],11,-358537222);H=this.md5_hh(H,G,J,I,K[C+3],16,-722521979);I=this.md5_hh(I,H,G,J,K[C+6],23,76029189);J=this.md5_hh(J,I,H,G,K[C+9],4,-640364487);G=this.md5_hh(G,J,I,H,K[C+12],11,-421815835);H=this.md5_hh(H,G,J,I,K[C+15],16,530742520);I=this.md5_hh(I,H,G,J,K[C+2],23,-995338651);J=this.md5_ii(J,I,H,G,K[C+0],6,-198630844);G=this.md5_ii(G,J,I,H,K[C+7],10,1126891415);H=this.md5_ii(H,G,J,I,K[C+14],15,-1416354905);I=this.md5_ii(I,H,G,J,K[C+5],21,-57434055);J=this.md5_ii(J,I,H,G,K[C+12],6,1700485571);G=this.md5_ii(G,J,I,H,K[C+3],10,-1894986606);H=this.md5_ii(H,G,J,I,K[C+10],15,-1051523);I=this.md5_ii(I,H,G,J,K[C+1],21,-2054922799);J=this.md5_ii(J,I,H,G,K[C+8],6,1873313359);G=this.md5_ii(G,J,I,H,K[C+15],10,-30611744);H=this.md5_ii(H,G,J,I,K[C+6],15,-1560198380);I=this.md5_ii(I,H,G,J,K[C+13],21,1309151649);J=this.md5_ii(J,I,H,G,K[C+4],6,-145523070);G=this.md5_ii(G,J,I,H,K[C+11],10,-1120210379);H=this.md5_ii(H,G,J,I,K[C+2],15,718787259);I=this.md5_ii(I,H,G,J,K[C+9],21,-343485551);J=this.safe_add(J,E);I=this.safe_add(I,D);H=this.safe_add(H,B);G=this.safe_add(G,A)}return Array(J,I,H,G)},md5_cmn:function(F,C,B,A,E,D){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(C,F),this.safe_add(A,D)),E),B)},md5_ff:function(C,B,G,F,A,E,D){return this.md5_cmn((B&G)|((~B)&F),C,B,A,E,D)},md5_gg:function(C,B,G,F,A,E,D){return this.md5_cmn((B&F)|(G&(~F)),C,B,A,E,D)},md5_hh:function(C,B,G,F,A,E,D){return this.md5_cmn(B^G^F,C,B,A,E,D)},md5_ii:function(C,B,G,F,A,E,D){return this.md5_cmn(G^(B|(~F)),C,B,A,E,D)},core_hmac_md5:function(C,F){var E=this.str2binl(C);if(E.length>16){E=this.core_md5(E,C.length*this.chrsz)}var A=Array(16),D=Array(16);for(var B=0;B<16;B++){A[B]=E[B]^909522486;D[B]=E[B]^1549556828}var G=this.core_md5(A.concat(this.str2binl(F)),512+F.length*this.chrsz);return this.core_md5(D.concat(G),512+128)},safe_add:function(A,D){var C=(A&65535)+(D&65535);var B=(A>>16)+(D>>16)+(C>>16);return(B<<16)|(C&65535)},bit_rol:function(A,B){return(A<<B)|(A>>>(32-B))},str2binl:function(D){var C=Array();var A=(1<<this.chrsz)-1;for(var B=0;B<D.length*this.chrsz;B+=this.chrsz){C[B>>5]|=(D.charCodeAt(B/this.chrsz)&A)<<(B%32)}return C},binl2str:function(C){var D="";var A=(1<<this.chrsz)-1;for(var B=0;B<C.length*32;B+=this.chrsz){D+=String.fromCharCode((C[B>>5]>>>(B%32))&A)}return D},binl2hex:function(C){var B=this.hexcase?"0123456789ABCDEF":"0123456789abcdef";var D="";for(var A=0;A<C.length*4;A++){D+=B.charAt((C[A>>2]>>((A%4)*8+4))&15)+B.charAt((C[A>>2]>>((A%4)*8))&15)}return D},binl2b64:function(D){var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var F="";for(var B=0;B<D.length*4;B+=3){var E=(((D[B>>2]>>8*(B%4))&255)<<16)|(((D[B+1>>2]>>8*((B+1)%4))&255)<<8)|((D[B+2>>2]>>8*((B+2)%4))&255);for(var A=0;A<4;A++){if(B*8+A*6>D.length*32){F+=this.b64pad}else{F+=C.charAt((E>>6*(3-A))&63)}}}return F}};if(!$$AB.isSafari){String.prototype.gsub=function(G,E){var A=[],F=this,C;if(typeof G=="string"){G=new RegExp(G,"g")}else{var B=(G.multiline?"m":"")+(G.ignoreCase?"i":"")+"g";G=new RegExp(G.source,B)}E=arguments.callee.prepareReplacement(E);var D=0;var C=G.exec(F);while(C){A.push(F.slice(D,C.index));D=G.lastIndex;A.push(String.interpret(E(C)));C=G.exec(F)}A.push(F.slice(D,F.length));return A.join("")};String.prototype.gsub.prepareReplacement=function(B){if(Object.isFunction(B)){return B}var A=new Template(B);return function(C){return A.evaluate(C)}}}$$AC.registerAttributeProcessor(["div","input","button"],"activators",{handle:function(B,A,I){if(I&&(B.nodeName=="DIV"||B.getAttribute("type")=="button"||B.nodeName=="BUTTON")){$$AC.addFieldSet(B,true);var E=I.split(",");if(E.length>0){var D=function(){var L=true;for(var N=0,K=E.length;N<K;N++){var M=$el(E[N]);var J=M.validatorValid;if(!J){L=false;break}}B.setAttribute("disabled",!L);B.disabled=!L;if(B.disabled&&B.onActivatorsDisable){B.onActivatorsDisable()}if(!B.disabled&&B.onActivatorsEnable){B.onActivatorsEnable()}};for(var G=0,F=E.length;G<F;G++){var C=E[G];var H=$el(C);if(!H){throw"syntax error: invalid field: "+C+" specified for activator on field: "+B.id}if(!$$AC.getFunction(H,"addValidationListener")){throw"syntax error: non-validator field: "+C+" specified for activator on field: "+B.id}$$AC.executeFunction(H,"addValidationListener",[D])}D()}}},metadata:{description:("")}});$$AC.registerAttributeProcessor("form","disablesubmit",{handle:function(B,C,D){if(D=="true"){var A=document.createElement("input");A.type="text";A.style.display="none";A.name="disablesubmit";B.appendChild(A)}},metadata:{description:("When set to true, then it will disable the form from auto-submit when a user hits enter.")}});$$AC.registerAttributeProcessor("div","draggable",{handle:function(B,C,D){if(D&&D!="false"){var A=D=="true"?{}:D.evalJSON();var E=new Draggable(B.id,A);$$AC.addTrash(B,function(){E.destroy()})}},metadata:{description:("Make this element draggable. Dragged elements can be dropped on a droppable.")}});$$AC.registerAttributeProcessor("div","droppable",{handle:function(B,C,D){if(D&&D!="false"){var A=D=="true"?{}:D.evalJSON();A.onHover=function(G){var F=B.hoverListeners;if(F&&F.length>0){for(var H=0;H<F.length;H++){var E=F[H];E.onHover(G)}}};A.onDrop=function(G){var F=B.dropListeners;if(F&&F.length>0){for(var H=0;H<F.length;H++){var E=F[H];E.onDrop(G)}}};Droppables.add(B.id,A);$$AC.addTrash(B,function(){Droppables.remove(B)})}},metadata:{description:("Make this element a possible drop target.")}});$$AC.registerAttributeProcessor("*","fieldset",{handle:function(A,B,C){if(C&&A.getAttribute("type")!="button"){$$AC.addFieldSet(A,false);$$AC.addTrash(A,function(){$$AC.removeFieldSet(A)})}},metadata:{description:("Groups fields together. Messages sent from an element with a <i>fieldset</i> will contain a payload built from all the elements in the fieldset.<br/>The keys of the payload will be the names (or, lacking names, the ids) of the fieldset elements and the payload values will be the result of $$AC.getInputFieldValue() on each element.")}});$$AC.Image={};$$AC.registerAttributeProcessor("img","srcexpr",{handle:function(img,attribute,value){if(value){try{var srcvalue=eval(String.unescapeXML(value));if($$AB.isIE6){img.onload=function(){img.addBehavior($$AR.getModuleCommonDirectory()+"/images/appcelerator/iepngfix.htc")}}img.src=srcvalue}catch(e){$$AC.handleElementException(img,e,"setting img srcexpr using expression = "+value)}}}});$$AL.AttributeProcessor={handle:function(B,C,D){if(D){var A=$$AL.get(D);if(!A){Logger.error("couldn't find localization key for "+D);return }switch($$AC.getTagname(B)){case"select":B.options.length=0;for(var F=0;F<A.length;F++){var E=A[F];B.options[B.options.length]=new Option(E.value,E.id)}break;case"option":if(typeof A=="object"){B.text=A.value;B.value=A.id}else{B.value=B.text=A}break;case"input":B.value=A;break;case"img":B.setAttribute("title",A);B.setAttribute("alt",A);break;default:B.innerHTML=A;break}}},metadata:{description:("Specify a language bundle key that will be used to lookup localized text for this element.")}};$$AC.registerAttributeProcessor($$AL.supportedTags,"langid",$$AL.AttributeProcessor);$$AC.registerAttributeProcessor("*","on",{handle:function(A,B,C){if(C){var C=A.getAttribute("set");if(C){return }$$AC.parseOnAttribute(A)}},metadata:{description:("Contains a Web Expression: a mapping between event triggers and actions. Independent trigger/action pairs can be join with the <b>or</b> keyword.<br/> Multiple actions for a single trigger can be combined with the <b>and</b> keyword.<br/> ")}});$$AC.registerAttributeProcessor(["img"],"reflectable",{handle:function(B,C,D){if(D&&D!="false"){var A=D=="true"?{}:D.evalJSON();Reflection.add(B,A)}},metadata:{description:("Add reflection to any image across all browsers.")}});var Reflection={defaultHeight:0.5,defaultOpacity:0.5,add:function(D,O){Reflection.remove(D);doptions={"height":Reflection.defaultHeight,"opacity":Reflection.defaultOpacity};if(O){for(var I in doptions){if(!O[I]){O[I]=doptions[I]}}}else{O=doptions}try{var L=document.createElement("div");var B=D;var E=B.className.split(" ");var H="";for(j=0;j<E.length;j++){if(E[j]!="reflect"){if(H){H+=" "}H+=E[j]}}var J=Math.floor(B.height*O["height"]);var G=Math.floor(B.height*(1+O["height"]));var N=B.width;if(document.all&&!window.opera){if(B.parentElement.tagName=="A"){var L=document.createElement("a");L.href=B.parentElement.href}L.className=H;B.className="reflected";L.style.cssText=B.style.cssText;B.style.cssText="vertical-align: bottom";var F=document.createElement("img");F.src=B.src;F.style.width=N+"px";F.style.display="block";F.style.height=B.height+"px";F.style.marginBottom="-"+(B.height-J)+"px";F.style.filter="flipv progid:DXImageTransform.Microsoft.Alpha(opacity="+(O["opacity"]*100)+", style=1, finishOpacity=0, startx=0, starty=0, finishx=0, finishy="+(O["height"]*100)+")";L.style.width=N+"px";L.style.height=G+"px";B.parentNode.replaceChild(L,B);L.appendChild(B);L.appendChild(F)}else{var C=document.createElement("canvas");if(C.getContext){L.className=H;B.className="reflected";L.style.cssText=B.style.cssText;B.style.cssText="vertical-align: bottom";var A=C.getContext("2d");C.style.height=J+"px";C.style.width=N+"px";C.height=J;C.width=N;L.style.width=N+"px";L.style.height=G+"px";B.parentNode.replaceChild(L,B);L.appendChild(B);L.appendChild(C);A.save();A.translate(0,D.height-1);A.scale(1,-1);A.drawImage(D,0,0,N,D.height);A.restore();A.globalCompositeOperation="destination-out";var M=A.createLinearGradient(0,0,0,J);M.addColorStop(1,"rgba(255, 255, 255, 1.0)");M.addColorStop(0,"rgba(255, 255, 255, "+(1-O["opacity"])+")");A.fillStyle=M;if(navigator.appVersion.indexOf("WebKit")!=-1){A.fill()}else{A.fillRect(0,0,N,J*2)}}}}catch(K){}},remove:function(A){if(A.className=="reflected"){A.className=A.parentNode.className;A.parentNode.parentNode.replaceChild(A,A.parentNode)}}};$$AC.registerAttributeProcessor(["div","img","table"],"resizable",{handle:function(B,C,D){if(D&&D!="false"){var A=D=="true"?{}:D.evalJSON();A.resize=function(G){var F=B.resizeListeners;if(F&&F.length>0){for(var H=0;H<F.length;H++){var E=F[H];E.onResize(G)}}};B.resizable=new Resizeable(B.id,A);$$AC.addTrash(B,function(){B.resizable.destroy()})}},metadata:{description:("")}});$$AC.SelectableGroups={};$$AC.retainedWidgetAttributes.push("selectable");$$AC.wireSelectable=function(G,K){G=$el(G);var A=K;var D=false;var J=A.split(",");if(J.length>1){D=J[1]=="multiselect"}var B=G.id;var M=G.getAttribute("supressAutoStyles")=="true";var F=$$AC.SelectableGroups[A];if(!F){var L=D?[]:null;F={selected:L,members:[]};$$AC.SelectableGroups[A]=F}var E=function(O,P,Q,N){Q=Q||0;if(!M){if(P){O.setAttribute("selected","true");Element.addClassName(O,"selected")}else{O.removeAttribute("selected");Element.removeClassName(O,"selected")}}$$AC.executeFunction(O,"selected",[P,Q,N])};for(var I=0,H=G.childNodes.length;I<H;I++){var C=G.childNodes[I];if(C&&C.nodeType&&C.nodeType==1){(function(){var O=$$AC.getAndEnsureId(C);F.members.push(O);var N={};N.element=C;C.app_selectable=true;var Q=function(W,a){W=Event.getEvent(W);var X=this.element;if(W){var Z=Event.element(W);if(Z==this.element){if(W._selectedEventSeen){return }W._selectedEventSeen=true}else{var T=Z.parentNode;while(T&&T!=document.body){if(T.app_selectable){X=T;if(W._selectedEventSeen){return }if(X==F.selected){return }W._selectedEventSeen=true;break}else{T=T.parentNode}}}}a=a!=null?a==true:false;var R=false;var U=a;var S=(!a&&F.selected&&F.selected!=X);if(F.selected||(a&&!F.selected)){if(D){var Y=F.selected.indexOf(X.id);if(Y>=0){U=true;E(X,false,F.selected.length-1,U);F.selected.removeAt(Y);R=true;return }}else{var Z=F.selected;E(F.selected,false,S?1:0,true);R=true;F.selected=null;if(Z==X){return }}}if(!a){var V=1;if(D){F.selected.push(X.id);V=F.selected.length}else{F.selected=X}E(X,true,V,false);R=true}else{if(!R){var Y=F.selected.indexOf(X.id);if(Y>=0){E(X,false,F.selected.length-1,U);F.selected.removeAt(Y);R=true;return }Logger.warn("not removed on unselected "+X.id+",current="+F.selected.join(","))}}};var P=Q.bind(N);$$AC.attachFunction(C,"unselect",function(){Q.apply(this,[null,true])}.bind(N));$$AC.attachFunction(C,"select",function(){Q.apply(this,[null,false])}.bind(N));Event.observe(C,"click",P,false);$$AC.addTrash(C,function(){Q.apply(this,[null,true]);F.members.remove(this.element.id);Event.stopObserving(this.element,"click",P)}.bind(N))})()}}};$$AC.registerAttributeProcessor(["div","ul","ol","tr"],"selectable",{handle:function(A,B,C){if(C){$$AC.wireSelectable(A,C)}}});$$AC.registerAttributeProcessor(["div","ul","ol"],"sortable",{handle:function(B,C,D){if(D&&D!="false"){var A=D=="true"?{}:D.evalJSON();if(!A.tag){Element.cleanWhitespace(B);var E=B.down();if(E){A.tag=$$AC.getTagname(E)}}A.onUpdate=function(H){var G=B.updateListeners;if(G&&G.length>0){for(var I=0;I<G.length;I++){var F=G[I];F.onUpdate(H)}}};A.onChange=function(H){var G=B.changeListeners;if(G&&G.length>0){for(var I=0;I<G.length;I++){var F=G[I];F.onChange(H)}}};Sortable.create(B.id,A);$$AC.addTrash(B,function(){Sortable.destroy(B)})}}});$$AC.registerAttributeProcessor(["textarea","input","select"],"validator",{handle:function(H,B,J){if(J&&H.getAttribute("type")!="button"){var G=Appcelerator.Validator[J];if(!G){throw"syntax error: validator specified is not registered: "+J}var G=Appcelerator.Validator[J];var J=$$AC.getInputFieldValue(H,true,true);H.validatorValid=G(J,H)||false;var D=H.getAttribute("decorator");var F=null,K=null;if(D){F=Appcelerator.Decorator[D];if(!F){throw"syntax error: decorator specified is not registered: "+D}K=F?H.getAttribute("decoratorId"):null}var A=null;var E=0;var C=function(){E=0;$$AC.executeFunction(H,"revalidate")};$$AC.installChangeListener(H,function(){if(A){clearTimeout(A);A=null}if(E++<10){A=setTimeout(C,100)}else{C()}return true});var I=[];$$AC.attachFunction(H,"revalidate",function(){var O=$$AC.getInputFieldValue(H,true,true);var M=G(O,H);var Q=M==H.validatorValid;H.validatorValid=M;if(F){F.apply(Appcelerator.Decorator,[H,H.validatorValid,K])}if(!O){Element.addClassName(H,"validator_empty");Element.removeClassName(H,"validator_value")}else{Element.addClassName(H,"validator_value");Element.removeClassName(H,"validator_empty")}if(M){Element.removeClassName(H,"validator_invalid");Element.addClassName(H,"validator_valid")}else{Element.removeClassName(H,"validator_valid");Element.addClassName(H,"validator_invalid")}if(Q){return M}if(I.length>0){for(var P=0,L=I.length;P<L;P++){var N=I[P];N.apply(N,[H,H.validatorValid])}}return H.validatorValid});$$AC.attachFunction(H,"removeValidationListener",function(M){var L=I.indexOf(M);if(L>=0){I.removeAt(L)}});$$AC.attachFunction(H,"addValidationListener",function(L){I.push(L)});$$AC.addTrash(H,function(){$$AC.removeChangeListener(H);I=null});$$AC.executeFunction(H,"revalidate")}}});Appcelerator.UI=Class.create();Appcelerator.UI.UIManager={managers:{}};Appcelerator.UI.UIComponents={};Appcelerator.UI.UIListeners={};Appcelerator.UI.registerListener=function(C,A,D,F){var E=function(){if(this.name==A||A=="*"){if(this.event==D||D=="*"){var G=this.data||{};G.type=this.type;G.name=this.name;G.event=this.event;F.call(G)}}};var B=Appcelerator.UI.UIListeners[C];if(!B){B=[];Appcelerator.UI.UIListeners[C]=B}B.push(E)};Appcelerator.UI.fireEvent=function(D,A,E,F){var C=Appcelerator.UI.UIListeners[D];if(C&&C.length>0){var B={type:D,name:A,event:E,data:F};for(var G=0;G<C.length;G++){C[G].call(B)}}};Appcelerator.UI.registerUIManager=function(B,A){Appcelerator.UI.UIManager.managers[B]=A};Appcelerator.UI.registerUIComponent=function(C,B,A){try{var D=Appcelerator.UI.UIComponents[C+":"+B];if(!D){D={};Appcelerator.UI.UIComponents[C+":"+B]=D}D.impl=A;D.loaded=true;if(A.setPath){A.setPath.call(A,D.dir)}if(D.elements){for(var G=0;G<D.elements.length;G++){var F=D.elements[G];Appcelerator.UI.activateUIComponent(D.impl,D.dir,F.type,F.name,F.element,F.options,F.callback)}D.elements=null}}catch(E){$$AC.handleElementException(null,E,"registerUIComponent for "+C+":"+B)}};Appcelerator.UI.activateUIComponent=function(K,H,M,B,G,P,N){var J=Appcelerator.UI.UIManager.parseAttributes(G,K,P);if(J!=false){try{K.build(G,J);Appcelerator.UI.addElementUI(G,M,B)}catch(I){$$AC.handleElementException(G,I,"activateUIComponent for "+M+":"+B)}}if(K.getActions){var E=K.getActions();var C=G.id;for(var L=0;L<E.length;L++){(function(){var Q=E[L];var S=K[Q];if(S){var R=function(T,U,V,b,Y,X,a,Z){try{S.apply(K,[T,J,V,b,Y,X,a,Z])}catch(W){$E("Error executing "+Q+" in container type: "+Z+". Error "+Object.getExceptionDetail(W)+", stack="+W.stack)}};$$AC.buildCustomElementAction(Q,G,R)}})()}}if(K.getConditions){$$AC.customConditionObservers[G.id]={};var D=K.getConditions();for(var F=0;F<D.length;F++){var O=D[F];var A=$$AC.customConditionFunctionCallback(O);$$AC.registerCustomCondition({conditionNames:[O]},A,G.id)}}$$AC.parseOnAttribute(G);if(N){N()}};Appcelerator.UI.loadUIComponent=function(E,C,D,B,H){var F=Appcelerator.UI.UIComponents[E+":"+C];if(F){if(F.loaded){Appcelerator.UI.activateUIComponent(F.impl,F.dir,E,C,D,B,H)}else{F.elements.push({type:E,name:C,element:D,options:B,callback:H})}}else{if(!D.state){D.state={pending:0}}D.state.pending+=1;var A=Appcelerator.DocumentPath+"/components/"+E+"s/"+C;var G=A+"/"+C+".js";Appcelerator.UI.UIComponents[E+":"+C]={dir:A,loaded:false,elements:[{type:E,name:C,element:D,options:B,callback:H}]};$$AR.remoteLoadScript(G,function(){D.state.pending-=1;$$AC.checkLoadState(D)},function(){Appcelerator.UI.UIManager.handleLoadError(D,E,C,null,G);D.state.pending-=1;$$AC.checkLoadState(D)})}};Appcelerator.UI.UIManager.handleLoadError=function(C,D,B,A,E){$E("error loading - type:"+D+",name:"+B+",subtype:"+A+"\nfor "+C.id+" from url="+E);$$AC.handleElementException(C,null,"couldn't load "+D+":"+B+" for : "+E)};Appcelerator.UI.createControl=function(B,C,A,D){Appcelerator.loadUIManager("control",C,B,A||{},D)};Appcelerator.UI.addBehavior=function(B,C,A,D){Appcelerator.loadUIManager("behavior",C,B,A||{},D)};Appcelerator.UI.createLayout=function(B,C,A,D){Appcelerator.loadUIManager("layout",C,B,A||{},D)};Appcelerator.UI.dependencyMap=[];Appcelerator.UI.elementMap={};Appcelerator.UI.addElementUIDependency=function(B,D,C,E,A,F){if(Appcelerator.UI.elementMap[B.id+"_"+E+"_"+A]){F(B)}else{Appcelerator.UI.dependencyMap.push({element:B,ui:D,type:C,dependencyUI:E,dependencyType:A,callback:F})}};Appcelerator.UI.addElementUI=function(B,D,C){var E=Appcelerator.UI.dependencyMap;for(var A=0;A<E.length;A++){if(E[A].element.id==B.id){if((E[A].dependencyUI==D)&&(E[A].dependencyType==C)){if(Appcelerator.UI.elementMap[B.id+"_"+E[A].ui+"_"+E[A].type]){E[A].callback(B)}}}}Appcelerator.UI.elementMap[B.id+"_"+D+"_"+C]={element:B}};Appcelerator.loadUIManager=function(G,F,B,E,H,I){var D=Appcelerator.UI.UIManager.managers[G];if(D){var A={element:B,args:E};Appcelerator.UI.fireEvent(G,F,"beforeBuild",A);var C=function(){Appcelerator.UI.fireEvent(G,F,"afterBuild",A);if(I){I()}};D(F,B,E,C)}else{if(H==true){$E("UI not found for "+G+", type: "+F)}else{B.state.pending+=1;$$AR.requireCommonJS("appcelerator/"+G+"s/"+G+"s.js",function(){Appcelerator.UI.fireEvent(G,F,"register");Appcelerator.loadUIManager(G,F,B,E,true,I);B.state.pending-=1;$$AC.checkLoadState(B.state)},function(){$$AC.handleElementException(B,null,"error loading "+F+"["+name+"]");B.state.pending-=1;$$AC.checkLoadState(B.state)})}}};$$AC.registerAttributeProcessor("*","set",{queue:[],handle:function(E,B,N){Element.addClassName(E,"container");var G=$$AC.smartSplit(N," and ");var H=0;var A=function(){H++;if(H==G.length){$$AC.compileElementChildren(E)}};for(var F=0;F<G.length;F++){var M=G[F].replace("[",",").replace("]","");var L=M.split(",");var K;var J;var I={};for(var D=0;D<L.length;D++){if(D==0){K=L[0].trim()}else{if(D==1){J=L[1].trim()}else{var C=L[D].split("=");I[C[0].trim()]=C[1].trim()}}}if(F==0){E.stopCompile=true}Appcelerator.loadUIManager(K,J,E,I,false,A)}},metadata:{description:("set visual properties for an element")}});Appcelerator.UI.UIManager.defaultThemes={"panel":"basic","shadow":"basic","button":"white_gradient","input":"white_gradient","textarea":"white_gradient","select":"thinline","tabpanel":"white","accordion":"basic"};Appcelerator.UI.UIManager.getDefaultTheme=function(A){return Appcelerator.UI.UIManager.defaultThemes[A]};Appcelerator.UI.UIManager.setDefaultThemes=function(A,B){Appcelerator.UI.UIManager.defaultThemes[A]=B};Appcelerator.UI.UIManager.attrToJSON=function(D){var A=D.split(",");var C={};for(var B=0;B<A.length;B++){var E=A[B].split("=");C[E[0].trim()]=E[1].trim()}return C};Appcelerator.UI.UIManager.parseAttributes=function(F,H,C){var A=H.getAttributes();for(var E=0;E<A.length;E++){var B=false;var D=A[E];var G=C[D.name]||F.style[D.name]||D.defaultValue;if(Object.isFunction(G)){G=D.defaultValue}if(!G&&!D.optional){$$AC.handleElementException(F,null,'required attribute "'+D.name+'" not defined for '+F.id);B=true}C[D.name]=G;if(B==true){$E("error parsing attributes for "+F);return false}}return C};Appcelerator.UI.themes={};$$AR.registerTheme=function(D,A,F,B){var C=$$AR.getThemeKey(D,A,F);var E=Appcelerator.UI.themes[C];if(!E){E={};Appcelerator.UI.themes[C]=E}E.impl=B;E.loaded=true;$$AR.loadTheme(D,A,F,null,null)};$$AR.getThemeKey=function(B,A,C){return B+":"+A+":"+C};$$AR.loadTheme=function(H,C,D,E,M){D=D||Appcelerator.UI.UIManager.getDefaultTheme(C);var J=$$AR.getThemeKey(H,C,D);var B=Appcelerator.UI.themes[J];var A=false;var L=Appcelerator.DocumentPath+"/components/"+H+"s/"+C+"/themes/"+D;if(!B){B={callbacks:[],impl:null,loaded:false,path:L};Appcelerator.UI.themes[J]=B;A=true}if(B.loaded){if(B.callbacks&&B.callbacks.length>0&&B.impl&&B.impl.build){for(var I=0;I<B.callbacks.length;I++){var K=B.callbacks[I];B.impl.build(K.element,K.options)}}if(E!=null&&M!=null&&B.impl&&B.impl.build){if(B.impl.setPath){B.impl.setPath.call(B.impl,L)}B.impl.build(E,M)}B.callbacks=null}else{B.callbacks.push({element:E,options:M})}if(A){var G=L+"/"+D+".css";$$AR.remoteLoadCSS(G);var F=L+"/"+D+".js";$$AR.remoteLoadScript(F,null,function(){Appcelerator.UI.UIManager.handleLoadError(E,H,D,C,F)})}};Appcelerator.UI.registerUIManager("theme",function(E,C,A,F){if(E=="defaults"){for(var B in A){Appcelerator.UI.UIManager.setDefaultThemes(B,A[B])}$$AC.compileElementChildren(C)}else{Element.addClassName(C,"themed");var D=C.nodeName.toLowerCase();A["theme"]=E;Appcelerator.UI.loadUIComponent("control",D,C,A,F)}});Appcelerator.UI.ContainerManager={};Appcelerator.UI.widgetRegex=/^app:/;Appcelerator.UI.registerUIManager("control",function(C,B,A,E){if(Appcelerator.UI.widgetRegex.test(C)){var D=$$AC.createCompilerState();D.pending+=1;D.scanned=true;$$AR.requireModule(C,function(){var F=$$AC.compileWidget(B,D,C);D.pending-=1;$$AC.checkLoadState(D);Element.fire(B,"element:compiled:"+B.id,{id:B.id})});return }Element.addClassName(B,C);Appcelerator.UI.loadUIComponent("control",C,B,A,E)});Appcelerator.UI.LayoutManager={};Appcelerator.UI.LayoutManager._formatTable=function(A){return'<table width="'+A["width"]+'" cellspacing="'+(A["cellspacing"]||"")+'" cellpadding="'+(A["cellpadding"]||"0")+'">'};Appcelerator.UI.LayoutManager._buildForm=function(E){var B=E["childNodes"];var L=E["html"];var O=E["align"];var C=E["colspan"];var I=E["hintPos"];var D=E["errorPos"];var P=E["buttonPos"];var U=E["labelWidth"];var W=E["element"];var R=W.getAttribute("fieldset")||W.id+"_fieldset";var V=[];var H=[];var A=[];var X=[];var S=[];for(var T=0,Q=B.length;T<Q;T++){var N=B[T];if(N.nodeType==1){switch(N.tagName.toLowerCase()){case"input":case"select":case"textarea":if(N.getAttribute("type")=="button"){if($$AB.isIE){A.push(N.outerHTML)}else{A.push($$AU.Dom.toXML(N,true,$$AC.getTagname(N)))}}else{var F=N.getAttribute("fieldset");if(!F){N.setAttribute("fieldset",R)}V.push({"element":N})}break;case"label":if($$AB.isIE){if(N.getAttribute("type")=="hint"){X.push({"id":N.htmlFor,"element":N,"html":N.outerHTML})}else{if(N.getAttribute("type")=="error"){S.push({"id":N.htmlFor,"element":N,"html":N.outerHTML})}else{H.push({"id":N.htmlFor,"element":N,"html":N.outerHTML})}}}else{if(N.getAttribute("type")=="hint"){X.push({"id":N.getAttribute("for"),"element":N,"html":$$AU.Dom.toXML(N,true,$$AC.getTagname(N))})}else{if(N.getAttribute("type")=="error"){S.push({"id":N.getAttribute("for"),"element":N,"html":$$AU.Dom.toXML(N,true,$$AC.getTagname(N))})}else{H.push({"id":N.getAttribute("for"),"element":N,"html":$$AU.Dom.toXML(N,true,$$AC.getTagname(N))})}}}break;case"button":if($$AB.isIE){A.push(N.outerHTML)}else{A.push($$AU.Dom.toXML(N,true,$$AC.getTagname(N)))}break}}}for(var K=0;K<V.length;K++){(function(){var k="";var g="";var a="";var l="";l=V[K].element;k="";for(var b=0;b<H.length;b++){if(H[b].id==l.id){k=H[b].html;break}}g="";for(var b=0;b<S.length;b++){if(S[b].id==l.id){g=S[b].html;break}}a="";for(var b=0;b<X.length;b++){if(X[b].id==l.id){a=(I=="input")?X[b].element.innerHTML:X[b].html;break}}if(O=="horizontal"){var h="middle";var Z="5px";var d="5px";var Y="0px";if((D=="top"||D=="bottom")&&((I=="top"||I=="bottom"))){h="middle";Z="15px"}else{if(D=="top"||I=="top"){h="bottom"}else{if(D=="bottom"||I=="bottom"){h="top";Y="4px"}}}if((Z=="5px")&&(I!="bottom")&&(D!="bottom")){Z="9px"}L+='<tr><td align="left" valign="'+h+'" width="'+U+'" style="padding-bottom:'+Z+";padding-top:"+Y+'" >'+k+"</td>";L+='<td align="left" style="padding-bottom:'+d+'">';L+=(I=="top")?"<div>"+a+"</div>":"";L+=(D=="top")?"<div>"+g+"</div>":"";L+=$$AU.Dom.toXML(l,true,$$AC.getTagname(l));L+=(I=="right")?'<span style="padding-left:5px">'+a+"</span>":"";L+=(D=="right")?'<span style="padding-left:5px">'+g+"</span>":"";L+=(I=="bottom")?'<div style="margin-bottom:10px;position:relative;top:-1px">'+a+"</div>":"";L+=(D=="bottom")?'<div style="margin-bottom:10px;position:relative;top:-1px">'+g+"</div>":"";L+="</td></tr>"}else{L+='<tr><td align="left">'+k;L+=(I=="top")?'<span style="padding-left:5px">'+a+"</span>":"";L+=(D=="top")?'<span style="padding-left:5px">'+g+"</span>":"";L+="</td></tr><tr>";L+=(D!="bottom"&&I!="bottom")?'<td align="left" style="padding-bottom:5px">':'<td align="left">';L+=$$AU.Dom.toXML(l,true,$$AC.getTagname(l));L+=(I=="right")?'<span style="padding-left:5px">'+a+"</span>":"";L+=(D=="right")?'<span style="padding-left:5px">'+g+"</span>":"";L+=(I=="bottom")?'<div style="margin-bottom:5px;position:relative;top:-1px">'+a+"</div>":"";L+=(D=="bottom")?'<div style="margin-bottom:5px;position:relative;top:-1px">'+g+"</div>":"";L+="</td></tr>"}if(E["hintPos"]=="input"){W.observe("element:compiled:"+W.id,function(i){if(I=="input"){$el(l.id).value=a;Element.addClassName($el(l.id),"layout_form_hinttext")}Event.observe(l.id,"click",function(m){if($el(l.id).value==a){$el(l.id).value="";Element.removeClassName($el(l.id),"layout_form_hinttext")}});Event.observe(l.id,"blur",function(m){if($el(l.id).value==""){$el(l.id).value=a;Element.addClassName($el(l.id),"layout_form_hinttext")}})})}})()}if(A.length>0){var M=(D=="bottom"||I=="bottom")?"0px":"5px";var G="5px";if(P=="right"){L+='<tr><td></td><td align="left" colspan="1" style="padding-top:'+M+";padding-bottom:"+G+'">'}else{L+='<tr><td align="left" colspan='+C+' style="padding-top:'+M+";padding-bottom:"+G+'">'}for(var J=0;J<A.length;J++){L+=A[J]+'<span style="padding-right:10px"></span>'}L+="</td></tr>"}L+="</table>";return L};Appcelerator.UI.registerUIManager("layout",function(C,B,A,D){Element.addClassName(B,"layout");Element.addClassName(B,C);Appcelerator.UI.loadUIComponent("layout",C,B,A,D)});Appcelerator.UI.registerUIManager("behavior",function(C,B,A,D){Appcelerator.UI.loadUIComponent("behavior",C,B,A,D)});$$AU.UUID={dateSeed:(Appcelerator.started||new Date).getTime(),convert:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],base16:function(C){var B=null;if(C<16){B=this.convert[C]}else{var D=""+Math.floor(C/16);var A=C-D*16;if(D>=16){B=this.base16(D)+this.convert[A]}else{B=this.convert[D]+this.convert[A]}}return B},generateNewId:function(){var E=new Date(1970,9,22,0,0,0,0);var D=this.base16(this.dateSeed-E.getTime());var B=this.base16(Math.floor(999999999999*Math.random()));var C=String(window.location.pathname).encode64();var A=(C.length>10?C.substring(0,10):C).gsub(/[^a-zA-Z0-9]/,"0");var F=this.base16(Math.round(this.dateSeed*Math.random()));return D+"-"+B+"-"+A+"-"+F}};Object.extend(Appcelerator.Validator,{toString:function(){return"[Appcelerator.Validator]"},uniqueId:0,names:[],addValidator:function(A,B){Appcelerator.Validator[A]=B;$$AV.names.push(A)},URI_REGEX:/^((([hH][tT][tT][pP][sS]?|[fF][tT][pP])\:\/\/)?([\w\.\-]+(\:[\w\.\&%\$\-]+)*@)?((([^\s\(\)\<\>\\\"\.\[\]\,@;:]+)(\.[^\s\(\)\<\>\\\"\.\[\]\,@;:]+)*(\.[a-zA-Z]{2,4}))|((([01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}([01]?\d{1,2}|2[0-4]\d|25[0-5])))(\b\:(6553[0-5]|655[0-2]\d|65[0-4]\d{2}|6[0-4]\d{3}|[1-5]\d{4}|[1-9]\d{0,3}|0)\b)?((\/[^\/][\w\.\,\?\'\\\/\+&%\$#\=~_\-@]*)*[^\.\,\?\"\'\(\)\[\]!;<>{}\s\x7F-\xFF])?)$/,ALPHANUM_REGEX:/^[0-9a-zA-Z]+$/,DECIMAL_REGEX:/^[-]?([1-9]{1}[0-9]{0,}(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|\.[0-9]{1,2})$/,EMAIL_REGEX:/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,PHONE_REGEX:/^(?:\([2-9]\d{2}\)\ ?|[2-9]\d{2}(?:\-?|\ ?))[2-9]\d{2}[- ]?\d{4}$/,SSN_REGEX:/(^|\s)(00[1-9]|0[1-9]0|0[1-9][1-9]|[1-6]\d{2}|7[0-6]\d|77[0-2])(-?|[\. ])([1-9]0|0[1-9]|[1-9][1-9])\3(\d{3}[1-9]|[1-9]\d{3}|\d[1-9]\d{2}|\d{2}[1-9]\d)($|\s|[;:,!\.\?])/,dtCh:"/",minYear:1000,maxYear:3000,stripCharsInBag:function(C,D){var B;var A="";for(B=0;B<C.length;B++){var E=C.charAt(B);if(D.indexOf(E)==-1){A+=E}}return A},daysInFebruary:function(A){return(((A%4==0)&&((!(A%100==0))||(A%400==0)))?29:28)},DaysArray:function(B){for(var A=1;A<=B;A++){this[A]=31;if(A==4||A==6||A==9||A==11){this[A]=30}if(A==2){this[A]=29}}return this}});(function(){var A=$$AV.addValidator;A("required",function(B){if(null==B){return false}if(typeof (B)=="boolean"){return B}B=""+B;return B.trim().length>0});A("email_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.EMAIL_REGEX.test(B)});A("email",function(B){return $$AV.EMAIL_REGEX.test(B)});A("zipcode_5",function(B){return(B.length==5&&$$AV.number(B)==true)?true:false});A("zipcode_5_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.zipcode_5(B)});A("ssn",function(B){return $$AV.SSN_REGEX.test(B)});A("ssn_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.ssn(B)});A("phone_us",function(B){return $$AV.PHONE_REGEX.test(B)});A("phone_us_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.phone_us(B)});A("fullname_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.fullname(B)});A("fullname",function(B){return((B.split(" ")).length>1)});A("noSpaces_optional",function(B){if(!B){return true}return $$AV.noSpaces(B)});A("noSpaces",function(B){if(!$$AV.required(B)){return false}return B.indexOf(" ")==-1});A("password_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.password(B)});A("password",function(B){return(B.length>=6)});A("number",function(B){if(!B||B.trim().length==0||B<0){return false}return $$AV.DECIMAL_REGEX.test(B)});A("number_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.number(B)});A("wholenumber_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.wholenumber(B)});A("wholenumber",function(C){if(!C||C<0){return false}for(var B=0;B<C.length;B++){var D=C.charAt(B);if(((D<"0")||(D>"9"))){return false}}return true});A("url_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.url(B)});A("url",function(B){return $$AV.URI_REGEX.test(B)});A("checked",function(B){return B||B=="on"});A("length",function(F,E){if(F){try{var D=parseInt(E.getAttribute("validatorMinLength")||"1");var B=parseInt(E.getAttribute("validatorMaxLength")||"999999");var C=F.length;return C>=D&&C<=B}catch(G){}}return false});A("alphanumeric_optional",function(C,B){if(!C||C.trim().length==0){return true}return $$AV.ALPHANUM_REGEX.test(C)==true});A("alphanumeric",function(C,B){return $$AV.ALPHANUM_REGEX.test(C)==true});A("date_optional",function(B){if(!B||B.trim().length==0){return true}return $$AV.date(B)});A("date",function(J){var B=$$AV.DaysArray(12);var I=J.indexOf($$AV.dtCh);var H=J.indexOf($$AV.dtCh,I+1);var G=J.substring(0,I);var C=J.substring(I+1,H);var D=J.substring(H+1);strYr=D;if(C.charAt(0)=="0"&&C.length>1){C=C.substring(1)}if(G.charAt(0)=="0"&&G.length>1){G=G.substring(1)}for(var F=1;F<=3;F++){if(strYr.charAt(0)=="0"&&strYr.length>1){strYr=strYr.substring(1)}}month=parseInt(G);day=parseInt(C);year=parseInt(strYr);if(I==-1||H==-1){return false}if(G.length<1||month<1||month>12){return false}if(C.length<1||day<1||day>31||(month==2&&day>$$AV.daysInFebruary(year))||day>B[month]){return false}if(D.length!=4||year==0||year<$$AV.minYear||year>$$AV.maxYear){return false}var E=month+"/"+day+"/"+year;if(J.indexOf(Appcelerator.dtCh,H+1)!=-1||$$AV.number($$AV.stripCharsInBag(E,$$AV.dtCh))==false){return false}return true})})();Appcelerator.Widget.register=function(A,B,C){$$AR.registerModule(A,B,C)};Appcelerator.Widget.registerWithJS=function(B,C,D,A){$$AR.registerModuleWithJS(B,C,D,A)};Appcelerator.Widget.registerModuleWithCommonJS=function(A,B,C){$$AR.registerModuleWithCommonJS(A,B,C)};Appcelerator.Widget.registerWidgetWithCommonJS=function(A,B,C){$$AR.registerModuleWithCommonJS(A,B,C)};Appcelerator.Widget.registerModuleWithJS=function(B,C,D,A){$$AR.registerModuleWithJS(B,C,D,A)};Appcelerator.Widget.registerWidgetWithJS=function(B,C,D,A){$$AR.registerModuleWithJS(B,C,D,A)};Appcelerator.Widget.loadWidgetCommonCSS=function(A,B){$$AR.loadModuleCommonCSS(A,B)};Appcelerator.Widget.requireCommonCSS=function(A,B){$$AR.requireCommonCSS(A,B)};Appcelerator.Widget.requireCommonJS=function(A,B){$$AR.requireCommonJS(A,B)};Appcelerator.Widget.queueRemoteLoadScriptWithDependencies=function(B,A){$$AR.queueRemoteLoadScriptWithDependencies(B,A)};Appcelerator.Widget.loadWidgetCSS=function(A,B){$$AR.loadModuleCSS(A,B)};Appcelerator.Widget.fireWidgetCondition=function(C,A,B){$$AC.fireCustomCondition(C,A,B)};Appcelerator.appuid=$$AU.Cookie.GetCookie("appuid");Appcelerator.StatsURI=(("https:"==document.location.protocol)?"https://s3.amazonaws.com/tracker.appcelerator.org/":"http://tracker.appcelerator.org/")+"app.gif";if(!Appcelerator.appuid){Appcelerator.appuid=$$AU.UUID.generateNewId();var e=new Date(new Date().getTime()+($$AU.DateTime.ONE_YEAR*5));$$AU.Cookie.SetCookie("appuid",Appcelerator.appuid,e,"/")}$$AC.beforeDocumentCompile(function(){Appcelerator.compileStarted=new Date});$$AC.afterDocumentCompile(function(){var A=new Date().getTime();Appcelerator.compileTime=A-Appcelerator.compileStarted.getTime();Appcelerator.loadTime=A-Appcelerator.started.getTime()});if(window.onerror){Appcelerator._onerror=window.onerror}Appcelerator.TrackStat=function(B,A){if(Appcelerator.Config["track_stats"]){try{var C=new Image;var E=new Date().getTime()-(Appcelerator.started||new Date).getTime();C.src=Appcelerator.StatsURI+"?t="+Number(new Date)+"&dur="+E+"&evt="+B+"&appuid="+Appcelerator.appuid+"&tid="+Appcelerator.started.getTime()+"&"+(A||"")}catch(D){}}};window.onerror=function(E,B,A){try{Logger.error("generic uncaught error = "+E+", url = "+B+", line = "+A);var C="msg="+encodeURIComponent(String(E).encode64())+"&url="+encodeURIComponent(String(B||"").encode64())+"&line="+encodeURIComponent(A||-1);(function(){Appcelerator.TrackStat(2,C)}).defer();if(Appcelerator._onerror){Appcelerator._onerror(E,B,A)}}catch(D){return false}};(function(){var B=Logger.error;var A=Logger.fatal;Logger.error=function(E){var C=(String(Object.isArray(E)?E.join(","):E)).encode64();var D="x-lvl=e&x-msg="+encodeURIComponent(C);Appcelerator.TrackStat(3,D);return B(E)};Logger.fatal=function(E){var C=(String(Object.isArray(E)?E.join(","):E)).encode64();var D="x-lvl=f&x-msg="+encodeURIComponent(C);Appcelerator.TrackStat(3,D);return A(E)}})();$$AR.onload(function(){var E=window.location.href.indexOf("file:/")!=-1;var G=screen.height;var D=screen.width;var B=screen.colorDepth||-1;var F=Appcelerator.started.getTimezoneOffset()/60;var A=$$AB.isWindows?"win":$$AB.isMac?"mac":$$AB.isLinux?"linux":$$AB.isSunOS?"sunos":"unknown";var C={"userAgent":navigator.userAgent,"flash":$$AB.isFlash,"flashver":$$AB.flashVersion,"silverlight":$$AB.isSilverlight,"silverlightver":$$AB.silverlightVersion,"gears":$$AB.isGears,"fluid":$$AB.isFluid,"screen":{"height":G,"width":D,"color":B},"os":A,"referrer":document.referrer,"path":window.location.href,"cookies":(document.cookie||"").split(";").collect(function(I){var H=I.split("=");return H&&H.length>0?{name:H[0],value:H[1]}:{name:null,value:null}}),"tz":F,"uid":Appcelerator.appuid};if(E){$$AU.ServerConfig.addConfigListener(function(){if(window.parent==null||window.parent==window&&$$AB.autoReportStats){$MQ("remote:appcelerator.status.report",C)}})}setTimeout(function(){var Q=0,S=0,R=1,P=null,J=null,N=null;P=Appcelerator.ServerConfig["aid"];if(P){Q=P.value}P=Appcelerator.ServerConfig["sid"];if(P){S=P.value}P=Appcelerator.ServerConfig["language"];if(P){J=P.value}P=Appcelerator.ServerConfig["service"];if(P){N=P.value}var H=$$AB.isWindows?"win":$$AB.isMac?"mac":$$AB.isLinux?"linux":$$AB.isSunOS?"sunos":"unknown";var M=$$AB.flashVersion;var I=(Appcelerator.ServerConfig["sessionid"]||{}).value;var L=$$AU.Cookie.GetCookie(I);var K=new Image;var O=$H({"wv":String(Appcelerator.Version),"v":R,"a":Q,"s":S,"gg":Number($$AB.isGears),"fd":Number($$AB.isFluid),"dm":C.screen.width+","+C.screen.height+","+C.screen.color,"p":A,"tz":F,"fv":C.flashver,"sv":C.silverlightver,"r":String(document.referrer||"").encode64(),"t":String(document.title||"").encode64(),"si":L,"sct":Appcelerator.compileTime,"slt":Appcelerator.loadTime,"bl":window.navigator.language,"lng":J,"svc":N,"js":String(Appcelerator.jsFileLocation).encode64()}).toQueryString();Appcelerator.TrackStat(1,O)},2000+Math.round(1999*Math.random()));Event.observe(window,"unload",function(){Appcelerator.TrackStat(0)})});if(typeof (Appcelerator.Util)!="undefined"&&typeof ($$AU)=="undefined"){$$AU=Appcelerator.Util;$$AC=Appcelerator.Compiler;$$AV=Appcelerator.Validator;$$AD=Appcelerator.Decorator;$$AR=Appcelerator.Core;$$AM=Appcelerator.Module;$$AL=Appcelerator.Localization;$$AF=Appcelerator.Config;$$AB=Appcelerator.Browser}  ; if (typeof(jQuery)=='undefined'){$ = $el; $$w.$ = $el; $$ = $sl; $$w.$$ = $sl;}
