<html>
<head>
	<script src="titanium_init.js" type="text/javascript"></script>
	<script>
	 var appcelerator = appcelerator.titanium.factory.create('beta.appcelerator');

	 function $(id)
	 {
	   return document.getElementById(id);	
	 }
	 function do_exec()
	 {
		 var cmd = $('command');
		 $('output').value = 'Executing: '+cmd.value;
		 window.started = false;
		 appcelerator.compileProject(cmd.value,function(output)
		 {
			$('output').value = $('output').value + output;
		 },
		 function(rc)
		 {
			//alert('completed with exit code: '+rc);
		 });
	 }
	 function do_write()
	 {
		 var cmd = $('command');
		 appcelerator.writeFile(cmd.value,$('output').value);
	 }
	 function do_read()
	 {
		 var cmd = $('command');
		 $('output').value = appcelerator.readFile(cmd.value);
	 }
	 function debugConsole(str) {
			var html = $('messages').innerHTML;
			html += '[titanium] ' + str + '<br/>';
			$('messages').innerHTML = html;	
		}

	</script>
</head>
<body>
<!--
	<div>
		<input type="text" id="command" value="/Users/jhaynie/tmp/test.rb" style="width:400px" />
		<input type="button" value="Execute" onclick="do_exec()" />
		<input type="button" value="Write" onclick="do_write()" />
		<input type="button" value="Read" onclick="do_read()" />
	</div>
	<div>
		<textarea id="output" cols="100" rows="10"></textarea>
	</div>
-->	
	<div id="editor" style="border:1px solid red;margin:0;padding:0;background-color: #ccc;">
	</div>
	<b><pre>Debug Console</pre></b>
	<div id="messages" style="width: 90%; height: 200px; font-family: monospace; font-size: 10pt; border: 1px solid black; background-color: black; color: white;">
	</div>
	<script>
	   var editor = document.createElement("object");
        editor.width = '300';
        editor.height = '300';
		editor.style.width='300px';
		editor.style.height='300px';
		editor.editor = 'true';
        editor.type = "application/x-googlegears";
		$('editor').appendChild(editor);
		debugConsole('finished creating and appending editor object');
	</script>

</body>
</html>
